(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function T$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t_={exports:{}},Fp={},n_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=Symbol.for("react.element"),b$=Symbol.for("react.portal"),I$=Symbol.for("react.fragment"),k$=Symbol.for("react.strict_mode"),x$=Symbol.for("react.profiler"),A$=Symbol.for("react.provider"),C$=Symbol.for("react.context"),N$=Symbol.for("react.forward_ref"),_$=Symbol.for("react.suspense"),D$=Symbol.for("react.memo"),P$=Symbol.for("react.lazy"),Jk=Symbol.iterator;function R$(e){return e===null||typeof e!="object"?null:(e=Jk&&e[Jk]||e["@@iterator"],typeof e=="function"?e:null)}var r_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i_=Object.assign,o_={};function Tu(e,t,n){this.props=e,this.context=t,this.refs=o_,this.updater=n||r_}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s_(){}s_.prototype=Tu.prototype;function h1(e,t,n){this.props=e,this.context=t,this.refs=o_,this.updater=n||r_}var d1=h1.prototype=new s_;d1.constructor=h1;i_(d1,Tu.prototype);d1.isPureReactComponent=!0;var Zk=Array.isArray,a_=Object.prototype.hasOwnProperty,p1={current:null},u_={key:!0,ref:!0,__self:!0,__source:!0};function l_(e,t,n){var r,o={},s=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)a_.call(t,r)&&!u_.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var f=Array(l),h=0;h<l;h++)f[h]=arguments[h+2];o.children=f}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Qc,type:e,key:s,ref:u,props:o,_owner:p1.current}}function O$(e,t){return{$$typeof:Qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function m1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qc}function L$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ex=/\/+/g;function wy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L$(""+e.key):t.toString(36)}function od(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Qc:case b$:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+wy(u,0):r,Zk(o)?(n="",e!=null&&(n=e.replace(ex,"$&/")+"/"),od(o,t,n,"",function(h){return h})):o!=null&&(m1(o)&&(o=O$(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(ex,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Zk(e))for(var l=0;l<e.length;l++){s=e[l];var f=r+wy(s,l);u+=od(s,t,n,f,o)}else if(f=R$(e),typeof f=="function")for(e=f.call(e),l=0;!(s=e.next()).done;)s=s.value,f=r+wy(s,l++),u+=od(s,t,n,f,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Nh(e,t,n){if(e==null)return e;var r=[],o=0;return od(e,r,"","",function(s){return t.call(n,s,o++)}),r}function M$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},sd={transition:null},V$={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:sd,ReactCurrentOwner:p1};function c_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Nh,forEach:function(e,t,n){Nh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nh(e,function(){t++}),t},toArray:function(e){return Nh(e,function(t){return t})||[]},only:function(e){if(!m1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Tu;he.Fragment=I$;he.Profiler=x$;he.PureComponent=h1;he.StrictMode=k$;he.Suspense=_$;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V$;he.act=c_;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=i_({},e.props),o=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=p1.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(f in t)a_.call(t,f)&&!u_.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&l!==void 0?l[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){l=Array(f);for(var h=0;h<f;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Qc,type:e.type,key:o,ref:s,props:r,_owner:u}};he.createContext=function(e){return e={$$typeof:C$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A$,_context:e},e.Consumer=e};he.createElement=l_;he.createFactory=function(e){var t=l_.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:N$,render:e}};he.isValidElement=m1;he.lazy=function(e){return{$$typeof:P$,_payload:{_status:-1,_result:e},_init:M$}};he.memo=function(e,t){return{$$typeof:D$,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=sd.transition;sd.transition={};try{e()}finally{sd.transition=t}};he.unstable_act=c_;he.useCallback=function(e,t){return nn.current.useCallback(e,t)};he.useContext=function(e){return nn.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};he.useEffect=function(e,t){return nn.current.useEffect(e,t)};he.useId=function(){return nn.current.useId()};he.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return nn.current.useMemo(e,t)};he.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};he.useRef=function(e){return nn.current.useRef(e)};he.useState=function(e){return nn.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return nn.current.useTransition()};he.version="18.3.1";n_.exports=he;var V=n_.exports;const f_=T$(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j$=V,F$=Symbol.for("react.element"),U$=Symbol.for("react.fragment"),$$=Object.prototype.hasOwnProperty,B$=j$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q$={key:!0,ref:!0,__self:!0,__source:!0};function h_(e,t,n){var r,o={},s=null,u=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)$$.call(t,r)&&!q$.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:F$,type:e,key:s,ref:u,props:o,_owner:B$.current}}Fp.Fragment=U$;Fp.jsx=h_;Fp.jsxs=h_;t_.exports=Fp;var j=t_.exports,d_={exports:{}},Vn={},p_={exports:{}},m_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,re){var ie=z.length;z.push(re);e:for(;0<ie;){var Ce=ie-1>>>1,Ye=z[Ce];if(0<o(Ye,re))z[Ce]=re,z[ie]=Ye,ie=Ce;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var re=z[0],ie=z.pop();if(ie!==re){z[0]=ie;e:for(var Ce=0,Ye=z.length,Io=Ye>>>1;Ce<Io;){var wr=2*(Ce+1)-1,ju=z[wr],Yn=wr+1,ko=z[Yn];if(0>o(ju,ie))Yn<Ye&&0>o(ko,ju)?(z[Ce]=ko,z[Yn]=ie,Ce=Yn):(z[Ce]=ju,z[wr]=ie,Ce=wr);else if(Yn<Ye&&0>o(ko,ie))z[Ce]=ko,z[Yn]=ie,Ce=Yn;else break e}}return re}function o(z,re){var ie=z.sortIndex-re.sortIndex;return ie!==0?ie:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var f=[],h=[],p=1,v=null,g=3,w=!1,T=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(z){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=z)r(h),re.sortIndex=re.expirationTime,t(f,re);else break;re=n(h)}}function N(z){if(I=!1,k(z),!T)if(n(f)!==null)T=!0,yr(D);else{var re=n(h);re!==null&&He(N,re.startTime-z)}}function D(z,re){T=!1,I&&(I=!1,E(L),L=-1),w=!0;var ie=g;try{for(k(re),v=n(f);v!==null&&(!(v.expirationTime>re)||z&&!Re());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,g=v.priorityLevel;var Ye=Ce(v.expirationTime<=re);re=e.unstable_now(),typeof Ye=="function"?v.callback=Ye:v===n(f)&&r(f),k(re)}else r(f);v=n(f)}if(v!==null)var Io=!0;else{var wr=n(h);wr!==null&&He(N,wr.startTime-re),Io=!1}return Io}finally{v=null,g=ie,w=!1}}var _=!1,U=null,L=-1,oe=5,C=-1;function Re(){return!(e.unstable_now()-C<oe)}function on(){if(U!==null){var z=e.unstable_now();C=z;var re=!0;try{re=U(!0,z)}finally{re?Br():(_=!1,U=null)}}else _=!1}var Br;if(typeof b=="function")Br=function(){b(on)};else if(typeof MessageChannel<"u"){var qr=new MessageChannel,Ei=qr.port2;qr.port1.onmessage=on,Br=function(){Ei.postMessage(null)}}else Br=function(){A(on,0)};function yr(z){U=z,_||(_=!0,Br())}function He(z,re){L=A(function(){z(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){T||w||(T=!0,yr(D))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var ie=g;g=re;try{return z()}finally{g=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=g;g=z;try{return re()}finally{g=ie}},e.unstable_scheduleCallback=function(z,re,ie){var Ce=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ce+ie:Ce):ie=Ce,z){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ie+Ye,z={id:p++,callback:re,priorityLevel:z,startTime:ie,expirationTime:Ye,sortIndex:-1},ie>Ce?(z.sortIndex=ie,t(h,z),n(f)===null&&z===n(h)&&(I?(E(L),L=-1):I=!0,He(N,ie-Ce))):(z.sortIndex=Ye,t(f,z),T||w||(T=!0,yr(D))),z},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(z){var re=g;return function(){var ie=g;g=re;try{return z.apply(this,arguments)}finally{g=ie}}}})(m_);p_.exports=m_;var z$=p_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K$=V,On=z$;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v_=new Set,ac={};function Ds(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(ac[e]=t,e=0;e<t.length;e++)v_.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=Object.prototype.hasOwnProperty,H$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tx={},nx={};function W$(e){return I0.call(nx,e)?!0:I0.call(tx,e)?!1:H$.test(e)?nx[e]=!0:(tx[e]=!0,!1)}function G$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q$(e,t,n,r){if(t===null||typeof t>"u"||G$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,o,s,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=u}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function g1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v1,g1);_t[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v1,g1);_t[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v1,g1);_t[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function y1(e,t,n,r){var o=_t.hasOwnProperty(t)?_t[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q$(t,n,o,r)&&(n=null),r||o===null?W$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wi=K$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_h=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),w1=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),g_=Symbol.for("react.provider"),y_=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),A0=Symbol.for("react.suspense_list"),E1=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),w_=Symbol.for("react.offscreen"),rx=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=rx&&e[rx]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Sy;function Pl(e){if(Sy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sy=t&&t[1]||""}return`
`+Sy+e}var Ey=!1;function Ty(e,t){if(!e||Ey)return"";Ey=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),s=r.stack.split(`
`),u=o.length-1,l=s.length-1;1<=u&&0<=l&&o[u]!==s[l];)l--;for(;1<=u&&0<=l;u--,l--)if(o[u]!==s[l]){if(u!==1||l!==1)do if(u--,l--,0>l||o[u]!==s[l]){var f=`
`+o[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=l);break}}}finally{Ey=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pl(e):""}function X$(e){switch(e.tag){case 5:return Pl(e.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return e=Ty(e.type,!1),e;case 11:return e=Ty(e.type.render,!1),e;case 1:return e=Ty(e.type,!0),e;default:return""}}function C0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ea:return"Fragment";case Sa:return"Portal";case k0:return"Profiler";case w1:return"StrictMode";case x0:return"Suspense";case A0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case y_:return(e.displayName||"Context")+".Consumer";case g_:return(e._context.displayName||"Context")+".Provider";case S1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E1:return t=e.displayName||null,t!==null?t:C0(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return C0(e(t))}catch{}}return null}function Y$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C0(t);case 8:return t===w1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function S_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J$(e){var t=S_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dh(e){e._valueTracker||(e._valueTracker=J$(e))}function E_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=S_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Nd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function N0(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ix(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T_(e,t){t=t.checked,t!=null&&y1(e,"checked",t,!1)}function _0(e,t){T_(e,t);var n=ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?D0(e,t.type,n):t.hasOwnProperty("defaultValue")&&D0(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ox(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function D0(e,t,n){(t!=="number"||Nd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rl=Array.isArray;function Ua(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ao(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function P0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Rl(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ao(n)}}function b_(e,t){var n=ao(t.value),r=ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ax(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ph,k_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ph=Ph||document.createElement("div"),Ph.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ph.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z$=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(e){Z$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$l[t]=$l[e]})});function x_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$l.hasOwnProperty(e)&&$l[e]?(""+t).trim():t+"px"}function A_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=x_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var e4=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O0(e,t){if(t){if(e4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function L0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function T1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var V0=null,$a=null,Ba=null;function ux(e){if(e=Jc(e)){if(typeof V0!="function")throw Error(q(280));var t=e.stateNode;t&&(t=zp(t),V0(e.stateNode,e.type,t))}}function C_(e){$a?Ba?Ba.push(e):Ba=[e]:$a=e}function N_(){if($a){var e=$a,t=Ba;if(Ba=$a=null,ux(e),t)for(e=0;e<t.length;e++)ux(t[e])}}function __(e,t){return e(t)}function D_(){}var by=!1;function P_(e,t,n){if(by)return e(t,n);by=!0;try{return __(e,t,n)}finally{by=!1,($a!==null||Ba!==null)&&(D_(),N_())}}function lc(e,t){var n=e.stateNode;if(n===null)return null;var r=zp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var j0=!1;if(fi)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){j0=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{j0=!1}function t4(e,t,n,r,o,s,u,l,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Bl=!1,_d=null,Dd=!1,F0=null,n4={onError:function(e){Bl=!0,_d=e}};function r4(e,t,n,r,o,s,u,l,f){Bl=!1,_d=null,t4.apply(n4,arguments)}function i4(e,t,n,r,o,s,u,l,f){if(r4.apply(this,arguments),Bl){if(Bl){var h=_d;Bl=!1,_d=null}else throw Error(q(198));Dd||(Dd=!0,F0=h)}}function Ps(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function R_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lx(e){if(Ps(e)!==e)throw Error(q(188))}function o4(e){var t=e.alternate;if(!t){if(t=Ps(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return lx(o),e;if(s===r)return lx(o),t;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=o,r=s;else{for(var u=!1,l=o.child;l;){if(l===n){u=!0,n=o,r=s;break}if(l===r){u=!0,r=o,n=s;break}l=l.sibling}if(!u){for(l=s.child;l;){if(l===n){u=!0,n=s,r=o;break}if(l===r){u=!0,r=s,n=o;break}l=l.sibling}if(!u)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function O_(e){return e=o4(e),e!==null?L_(e):null}function L_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L_(e);if(t!==null)return t;e=e.sibling}return null}var M_=On.unstable_scheduleCallback,cx=On.unstable_cancelCallback,s4=On.unstable_shouldYield,a4=On.unstable_requestPaint,nt=On.unstable_now,u4=On.unstable_getCurrentPriorityLevel,b1=On.unstable_ImmediatePriority,V_=On.unstable_UserBlockingPriority,Pd=On.unstable_NormalPriority,l4=On.unstable_LowPriority,j_=On.unstable_IdlePriority,Up=null,Rr=null;function c4(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Up,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:d4,f4=Math.log,h4=Math.LN2;function d4(e){return e>>>=0,e===0?32:31-(f4(e)/h4|0)|0}var Rh=64,Oh=4194304;function Ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,u=n&268435455;if(u!==0){var l=u&~o;l!==0?r=Ol(l):(s&=u,s!==0&&(r=Ol(s)))}else u=n&~o,u!==0?r=Ol(u):s!==0&&(r=Ol(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fr(t),o=1<<n,r|=e[n],t&=~o;return r}function p4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-fr(s),l=1<<u,f=o[u];f===-1?(!(l&n)||l&r)&&(o[u]=p4(l,t)):f<=t&&(e.expiredLanes|=l),s&=~l}}function U0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function F_(){var e=Rh;return Rh<<=1,!(Rh&4194240)&&(Rh=64),e}function Iy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=n}function v4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-fr(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function I1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var be=0;function U_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $_,k1,B_,q_,z_,$0=!1,Lh=[],Qi=null,Xi=null,Yi=null,cc=new Map,fc=new Map,Ui=[],g4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fx(e,t){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(t.pointerId)}}function bl(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Jc(t),t!==null&&k1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function y4(e,t,n,r,o){switch(t){case"focusin":return Qi=bl(Qi,e,t,n,r,o),!0;case"dragenter":return Xi=bl(Xi,e,t,n,r,o),!0;case"mouseover":return Yi=bl(Yi,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return cc.set(s,bl(cc.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,fc.set(s,bl(fc.get(s)||null,e,t,n,r,o)),!0}return!1}function K_(e){var t=ts(e.target);if(t!==null){var n=Ps(t);if(n!==null){if(t=n.tag,t===13){if(t=R_(n),t!==null){e.blockedOn=t,z_(e.priority,function(){B_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ad(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=B0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);M0=r,n.target.dispatchEvent(r),M0=null}else return t=Jc(n),t!==null&&k1(t),e.blockedOn=n,!1;t.shift()}return!0}function hx(e,t,n){ad(e)&&n.delete(t)}function w4(){$0=!1,Qi!==null&&ad(Qi)&&(Qi=null),Xi!==null&&ad(Xi)&&(Xi=null),Yi!==null&&ad(Yi)&&(Yi=null),cc.forEach(hx),fc.forEach(hx)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,$0||($0=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,w4)))}function hc(e){function t(o){return Il(o,e)}if(0<Lh.length){Il(Lh[0],e);for(var n=1;n<Lh.length;n++){var r=Lh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qi!==null&&Il(Qi,e),Xi!==null&&Il(Xi,e),Yi!==null&&Il(Yi,e),cc.forEach(t),fc.forEach(t),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)K_(n),n.blockedOn===null&&Ui.shift()}var qa=wi.ReactCurrentBatchConfig,Od=!0;function S4(e,t,n,r){var o=be,s=qa.transition;qa.transition=null;try{be=1,x1(e,t,n,r)}finally{be=o,qa.transition=s}}function E4(e,t,n,r){var o=be,s=qa.transition;qa.transition=null;try{be=4,x1(e,t,n,r)}finally{be=o,qa.transition=s}}function x1(e,t,n,r){if(Od){var o=B0(e,t,n,r);if(o===null)Oy(e,t,r,Ld,n),fx(e,r);else if(y4(o,e,t,n,r))r.stopPropagation();else if(fx(e,r),t&4&&-1<g4.indexOf(e)){for(;o!==null;){var s=Jc(o);if(s!==null&&$_(s),s=B0(e,t,n,r),s===null&&Oy(e,t,r,Ld,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Oy(e,t,r,null,n)}}var Ld=null;function B0(e,t,n,r){if(Ld=null,e=T1(r),e=ts(e),e!==null)if(t=Ps(e),t===null)e=null;else if(n=t.tag,n===13){if(e=R_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ld=e,null}function H_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u4()){case b1:return 1;case V_:return 4;case Pd:case l4:return 16;case j_:return 536870912;default:return 16}default:return 16}}var Wi=null,A1=null,ud=null;function W_(){if(ud)return ud;var e,t=A1,n=t.length,r,o="value"in Wi?Wi.value:Wi.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[s-r];r++);return ud=o.slice(e,1<r?1-r:void 0)}function ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mh(){return!0}function dx(){return!1}function jn(e){function t(n,r,o,s,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mh:dx,this.isPropagationStopped=dx,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),t}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=jn(bu),Yc=Ke({},bu,{view:0,detail:0}),T4=jn(Yc),ky,xy,kl,$p=Ke({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(ky=e.screenX-kl.screenX,xy=e.screenY-kl.screenY):xy=ky=0,kl=e),ky)},movementY:function(e){return"movementY"in e?e.movementY:xy}}),px=jn($p),b4=Ke({},$p,{dataTransfer:0}),I4=jn(b4),k4=Ke({},Yc,{relatedTarget:0}),Ay=jn(k4),x4=Ke({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),A4=jn(x4),C4=Ke({},bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N4=jn(C4),_4=Ke({},bu,{data:0}),mx=jn(_4),D4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R4[e])?!!t[e]:!1}function N1(){return O4}var L4=Ke({},Yc,{key:function(e){if(e.key){var t=D4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N1,charCode:function(e){return e.type==="keypress"?ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M4=jn(L4),V4=Ke({},$p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=jn(V4),j4=Ke({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N1}),F4=jn(j4),U4=Ke({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$4=jn(U4),B4=Ke({},$p,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q4=jn(B4),z4=[9,13,27,32],_1=fi&&"CompositionEvent"in window,ql=null;fi&&"documentMode"in document&&(ql=document.documentMode);var K4=fi&&"TextEvent"in window&&!ql,G_=fi&&(!_1||ql&&8<ql&&11>=ql),gx=" ",yx=!1;function Q_(e,t){switch(e){case"keyup":return z4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function H4(e,t){switch(e){case"compositionend":return X_(t);case"keypress":return t.which!==32?null:(yx=!0,gx);case"textInput":return e=t.data,e===gx&&yx?null:e;default:return null}}function W4(e,t){if(Ta)return e==="compositionend"||!_1&&Q_(e,t)?(e=W_(),ud=A1=Wi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G_&&t.locale!=="ko"?null:t.data;default:return null}}var G4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G4[e.type]:t==="textarea"}function Y_(e,t,n,r){C_(r),t=Md(t,"onChange"),0<t.length&&(n=new C1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zl=null,dc=null;function Q4(e){uD(e,0)}function Bp(e){var t=ka(e);if(E_(t))return e}function X4(e,t){if(e==="change")return t}var J_=!1;if(fi){var Cy;if(fi){var Ny="oninput"in document;if(!Ny){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),Ny=typeof Sx.oninput=="function"}Cy=Ny}else Cy=!1;J_=Cy&&(!document.documentMode||9<document.documentMode)}function Ex(){zl&&(zl.detachEvent("onpropertychange",Z_),dc=zl=null)}function Z_(e){if(e.propertyName==="value"&&Bp(dc)){var t=[];Y_(t,dc,e,T1(e)),P_(Q4,t)}}function Y4(e,t,n){e==="focusin"?(Ex(),zl=t,dc=n,zl.attachEvent("onpropertychange",Z_)):e==="focusout"&&Ex()}function J4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bp(dc)}function Z4(e,t){if(e==="click")return Bp(t)}function eB(e,t){if(e==="input"||e==="change")return Bp(t)}function tB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vr=typeof Object.is=="function"?Object.is:tB;function pc(e,t){if(vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!I0.call(t,o)||!vr(e[o],t[o]))return!1}return!0}function Tx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bx(e,t){var n=Tx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tx(n)}}function eD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tD(){for(var e=window,t=Nd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nd(e.document)}return t}function D1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nB(e){var t=tD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eD(n.ownerDocument.documentElement,n)){if(r!==null&&D1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=bx(n,s);var u=bx(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rB=fi&&"documentMode"in document&&11>=document.documentMode,ba=null,q0=null,Kl=null,z0=!1;function Ix(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z0||ba==null||ba!==Nd(r)||(r=ba,"selectionStart"in r&&D1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&pc(Kl,r)||(Kl=r,r=Md(q0,"onSelect"),0<r.length&&(t=new C1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ba)))}function Vh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ia={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},_y={},nD={};fi&&(nD=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function qp(e){if(_y[e])return _y[e];if(!Ia[e])return e;var t=Ia[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nD)return _y[e]=t[n];return e}var rD=qp("animationend"),iD=qp("animationiteration"),oD=qp("animationstart"),sD=qp("transitionend"),aD=new Map,kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(e,t){aD.set(e,t),Ds(t,[e])}for(var Dy=0;Dy<kx.length;Dy++){var Py=kx[Dy],iB=Py.toLowerCase(),oB=Py[0].toUpperCase()+Py.slice(1);po(iB,"on"+oB)}po(rD,"onAnimationEnd");po(iD,"onAnimationIteration");po(oD,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(sD,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function xx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,i4(r,t,void 0,e),e.currentTarget=null}function uD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var u=r.length-1;0<=u;u--){var l=r[u],f=l.instance,h=l.currentTarget;if(l=l.listener,f!==s&&o.isPropagationStopped())break e;xx(o,l,h),s=f}else for(u=0;u<r.length;u++){if(l=r[u],f=l.instance,h=l.currentTarget,l=l.listener,f!==s&&o.isPropagationStopped())break e;xx(o,l,h),s=f}}}if(Dd)throw e=F0,Dd=!1,F0=null,e}function Ne(e,t){var n=t[Q0];n===void 0&&(n=t[Q0]=new Set);var r=e+"__bubble";n.has(r)||(lD(t,e,2,!1),n.add(r))}function Ry(e,t,n){var r=0;t&&(r|=4),lD(n,e,r,t)}var jh="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[jh]){e[jh]=!0,v_.forEach(function(n){n!=="selectionchange"&&(sB.has(n)||Ry(n,!1,e),Ry(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jh]||(t[jh]=!0,Ry("selectionchange",!1,t))}}function lD(e,t,n,r){switch(H_(t)){case 1:var o=S4;break;case 4:o=E4;break;default:o=x1}n=o.bind(null,t,n,e),o=void 0,!j0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Oy(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;l!==null;){if(u=ts(l),u===null)return;if(f=u.tag,f===5||f===6){r=s=u;continue e}l=l.parentNode}}r=r.return}P_(function(){var h=s,p=T1(n),v=[];e:{var g=aD.get(e);if(g!==void 0){var w=C1,T=e;switch(e){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":w=M4;break;case"focusin":T="focus",w=Ay;break;case"focusout":T="blur",w=Ay;break;case"beforeblur":case"afterblur":w=Ay;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=I4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=F4;break;case rD:case iD:case oD:w=A4;break;case sD:w=$4;break;case"scroll":w=T4;break;case"wheel":w=q4;break;case"copy":case"cut":case"paste":w=N4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=vx}var I=(t&4)!==0,A=!I&&e==="scroll",E=I?g!==null?g+"Capture":null:g;I=[];for(var b=h,k;b!==null;){k=b;var N=k.stateNode;if(k.tag===5&&N!==null&&(k=N,E!==null&&(N=lc(b,E),N!=null&&I.push(vc(b,N,k)))),A)break;b=b.return}0<I.length&&(g=new w(g,T,null,n,p),v.push({event:g,listeners:I}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==M0&&(T=n.relatedTarget||n.fromElement)&&(ts(T)||T[hi]))break e;if((w||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=h,T=T?ts(T):null,T!==null&&(A=Ps(T),T!==A||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=h),w!==T)){if(I=px,N="onMouseLeave",E="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(I=vx,N="onPointerLeave",E="onPointerEnter",b="pointer"),A=w==null?g:ka(w),k=T==null?g:ka(T),g=new I(N,b+"leave",w,n,p),g.target=A,g.relatedTarget=k,N=null,ts(p)===h&&(I=new I(E,b+"enter",T,n,p),I.target=k,I.relatedTarget=A,N=I),A=N,w&&T)t:{for(I=w,E=T,b=0,k=I;k;k=pa(k))b++;for(k=0,N=E;N;N=pa(N))k++;for(;0<b-k;)I=pa(I),b--;for(;0<k-b;)E=pa(E),k--;for(;b--;){if(I===E||E!==null&&I===E.alternate)break t;I=pa(I),E=pa(E)}I=null}else I=null;w!==null&&Ax(v,g,w,I,!1),T!==null&&A!==null&&Ax(v,A,T,I,!0)}}e:{if(g=h?ka(h):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var D=X4;else if(wx(g))if(J_)D=eB;else{D=J4;var _=Y4}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=Z4);if(D&&(D=D(e,h))){Y_(v,D,n,p);break e}_&&_(e,g,h),e==="focusout"&&(_=g._wrapperState)&&_.controlled&&g.type==="number"&&D0(g,"number",g.value)}switch(_=h?ka(h):window,e){case"focusin":(wx(_)||_.contentEditable==="true")&&(ba=_,q0=h,Kl=null);break;case"focusout":Kl=q0=ba=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,Ix(v,n,p);break;case"selectionchange":if(rB)break;case"keydown":case"keyup":Ix(v,n,p)}var U;if(_1)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ta?Q_(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(G_&&n.locale!=="ko"&&(Ta||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ta&&(U=W_()):(Wi=p,A1="value"in Wi?Wi.value:Wi.textContent,Ta=!0)),_=Md(h,L),0<_.length&&(L=new mx(L,e,null,n,p),v.push({event:L,listeners:_}),U?L.data=U:(U=X_(n),U!==null&&(L.data=U)))),(U=K4?H4(e,n):W4(e,n))&&(h=Md(h,"onBeforeInput"),0<h.length&&(p=new mx("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=U))}uD(v,t)})}function vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Md(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=lc(e,n),s!=null&&r.unshift(vc(e,s,o)),s=lc(e,t),s!=null&&r.push(vc(e,s,o))),e=e.return}return r}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ax(e,t,n,r,o){for(var s=t._reactName,u=[];n!==null&&n!==r;){var l=n,f=l.alternate,h=l.stateNode;if(f!==null&&f===r)break;l.tag===5&&h!==null&&(l=h,o?(f=lc(n,s),f!=null&&u.unshift(vc(n,f,l))):o||(f=lc(n,s),f!=null&&u.push(vc(n,f,l)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var aB=/\r\n?/g,uB=/\u0000|\uFFFD/g;function Cx(e){return(typeof e=="string"?e:""+e).replace(aB,`
`).replace(uB,"")}function Fh(e,t,n){if(t=Cx(t),Cx(e)!==t&&n)throw Error(q(425))}function Vd(){}var K0=null,H0=null;function W0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,lB=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,cB=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(e){return Nx.resolve(null).then(e).catch(fB)}:G0;function fB(e){setTimeout(function(){throw e})}function Ly(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),hc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);hc(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _x(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Iu,gc="__reactProps$"+Iu,hi="__reactContainer$"+Iu,Q0="__reactEvents$"+Iu,hB="__reactListeners$"+Iu,dB="__reactHandles$"+Iu;function ts(e){var t=e[Dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[Dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_x(e);e!==null;){if(n=e[Dr])return n;e=_x(e)}return t}e=n,n=e.parentNode}return null}function Jc(e){return e=e[Dr]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function zp(e){return e[gc]||null}var X0=[],xa=-1;function mo(e){return{current:e}}function De(e){0>xa||(e.current=X0[xa],X0[xa]=null,xa--)}function xe(e,t){xa++,X0[xa]=e.current,e.current=t}var uo={},qt=mo(uo),pn=mo(!1),vs=uo;function Ga(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mn(e){return e=e.childContextTypes,e!=null}function jd(){De(pn),De(qt)}function Dx(e,t,n){if(qt.current!==uo)throw Error(q(168));xe(qt,t),xe(pn,n)}function cD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(q(108,Y$(e)||"Unknown",o));return Ke({},n,r)}function Fd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,vs=qt.current,xe(qt,e),xe(pn,pn.current),!0}function Px(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=cD(e,t,vs),r.__reactInternalMemoizedMergedChildContext=e,De(pn),De(qt),xe(qt,e)):De(pn),xe(pn,n)}var Zr=null,Kp=!1,My=!1;function fD(e){Zr===null?Zr=[e]:Zr.push(e)}function pB(e){Kp=!0,fD(e)}function vo(){if(!My&&Zr!==null){My=!0;var e=0,t=be;try{var n=Zr;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zr=null,Kp=!1}catch(o){throw Zr!==null&&(Zr=Zr.slice(e+1)),M_(b1,vo),o}finally{be=t,My=!1}}return null}var Aa=[],Ca=0,Ud=null,$d=0,Kn=[],Hn=0,gs=null,ei=1,ti="";function Qo(e,t){Aa[Ca++]=$d,Aa[Ca++]=Ud,Ud=e,$d=t}function hD(e,t,n){Kn[Hn++]=ei,Kn[Hn++]=ti,Kn[Hn++]=gs,gs=e;var r=ei;e=ti;var o=32-fr(r)-1;r&=~(1<<o),n+=1;var s=32-fr(t)+o;if(30<s){var u=o-o%5;s=(r&(1<<u)-1).toString(32),r>>=u,o-=u,ei=1<<32-fr(t)+o|n<<o|r,ti=s+e}else ei=1<<s|n<<o|r,ti=e}function P1(e){e.return!==null&&(Qo(e,1),hD(e,1,0))}function R1(e){for(;e===Ud;)Ud=Aa[--Ca],Aa[Ca]=null,$d=Aa[--Ca],Aa[Ca]=null;for(;e===gs;)gs=Kn[--Hn],Kn[Hn]=null,ti=Kn[--Hn],Kn[Hn]=null,ei=Kn[--Hn],Kn[Hn]=null}var Dn=null,Cn=null,Ve=!1,cr=null;function dD(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,Cn=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gs!==null?{id:ei,overflow:ti}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,Cn=null,!0):!1;default:return!1}}function Y0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J0(e){if(Ve){var t=Cn;if(t){var n=t;if(!Rx(e,t)){if(Y0(e))throw Error(q(418));t=Ji(n.nextSibling);var r=Dn;t&&Rx(e,t)?dD(r,n):(e.flags=e.flags&-4097|2,Ve=!1,Dn=e)}}else{if(Y0(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ve=!1,Dn=e}}}function Ox(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function Uh(e){if(e!==Dn)return!1;if(!Ve)return Ox(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!W0(e.type,e.memoizedProps)),t&&(t=Cn)){if(Y0(e))throw pD(),Error(q(418));for(;t;)dD(e,t),t=Ji(t.nextSibling)}if(Ox(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cn=Ji(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=Dn?Ji(e.stateNode.nextSibling):null;return!0}function pD(){for(var e=Cn;e;)e=Ji(e.nextSibling)}function Qa(){Cn=Dn=null,Ve=!1}function O1(e){cr===null?cr=[e]:cr.push(e)}var mB=wi.ReactCurrentBatchConfig;function xl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(u){var l=o.refs;u===null?delete l[s]:l[s]=u},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function $h(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lx(e){var t=e._init;return t(e._payload)}function mD(e){function t(E,b){if(e){var k=E.deletions;k===null?(E.deletions=[b],E.flags|=16):k.push(b)}}function n(E,b){if(!e)return null;for(;b!==null;)t(E,b),b=b.sibling;return null}function r(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function o(E,b){return E=no(E,b),E.index=0,E.sibling=null,E}function s(E,b,k){return E.index=k,e?(k=E.alternate,k!==null?(k=k.index,k<b?(E.flags|=2,b):k):(E.flags|=2,b)):(E.flags|=1048576,b)}function u(E){return e&&E.alternate===null&&(E.flags|=2),E}function l(E,b,k,N){return b===null||b.tag!==6?(b=qy(k,E.mode,N),b.return=E,b):(b=o(b,k),b.return=E,b)}function f(E,b,k,N){var D=k.type;return D===Ea?p(E,b,k.props.children,N,k.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Vi&&Lx(D)===b.type)?(N=o(b,k.props),N.ref=xl(E,b,k),N.return=E,N):(N=vd(k.type,k.key,k.props,null,E.mode,N),N.ref=xl(E,b,k),N.return=E,N)}function h(E,b,k,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=zy(k,E.mode,N),b.return=E,b):(b=o(b,k.children||[]),b.return=E,b)}function p(E,b,k,N,D){return b===null||b.tag!==7?(b=fs(k,E.mode,N,D),b.return=E,b):(b=o(b,k),b.return=E,b)}function v(E,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qy(""+b,E.mode,k),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _h:return k=vd(b.type,b.key,b.props,null,E.mode,k),k.ref=xl(E,null,b),k.return=E,k;case Sa:return b=zy(b,E.mode,k),b.return=E,b;case Vi:var N=b._init;return v(E,N(b._payload),k)}if(Rl(b)||El(b))return b=fs(b,E.mode,k,null),b.return=E,b;$h(E,b)}return null}function g(E,b,k,N){var D=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return D!==null?null:l(E,b,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _h:return k.key===D?f(E,b,k,N):null;case Sa:return k.key===D?h(E,b,k,N):null;case Vi:return D=k._init,g(E,b,D(k._payload),N)}if(Rl(k)||El(k))return D!==null?null:p(E,b,k,N,null);$h(E,k)}return null}function w(E,b,k,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(k)||null,l(b,E,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _h:return E=E.get(N.key===null?k:N.key)||null,f(b,E,N,D);case Sa:return E=E.get(N.key===null?k:N.key)||null,h(b,E,N,D);case Vi:var _=N._init;return w(E,b,k,_(N._payload),D)}if(Rl(N)||El(N))return E=E.get(k)||null,p(b,E,N,D,null);$h(b,N)}return null}function T(E,b,k,N){for(var D=null,_=null,U=b,L=b=0,oe=null;U!==null&&L<k.length;L++){U.index>L?(oe=U,U=null):oe=U.sibling;var C=g(E,U,k[L],N);if(C===null){U===null&&(U=oe);break}e&&U&&C.alternate===null&&t(E,U),b=s(C,b,L),_===null?D=C:_.sibling=C,_=C,U=oe}if(L===k.length)return n(E,U),Ve&&Qo(E,L),D;if(U===null){for(;L<k.length;L++)U=v(E,k[L],N),U!==null&&(b=s(U,b,L),_===null?D=U:_.sibling=U,_=U);return Ve&&Qo(E,L),D}for(U=r(E,U);L<k.length;L++)oe=w(U,E,L,k[L],N),oe!==null&&(e&&oe.alternate!==null&&U.delete(oe.key===null?L:oe.key),b=s(oe,b,L),_===null?D=oe:_.sibling=oe,_=oe);return e&&U.forEach(function(Re){return t(E,Re)}),Ve&&Qo(E,L),D}function I(E,b,k,N){var D=El(k);if(typeof D!="function")throw Error(q(150));if(k=D.call(k),k==null)throw Error(q(151));for(var _=D=null,U=b,L=b=0,oe=null,C=k.next();U!==null&&!C.done;L++,C=k.next()){U.index>L?(oe=U,U=null):oe=U.sibling;var Re=g(E,U,C.value,N);if(Re===null){U===null&&(U=oe);break}e&&U&&Re.alternate===null&&t(E,U),b=s(Re,b,L),_===null?D=Re:_.sibling=Re,_=Re,U=oe}if(C.done)return n(E,U),Ve&&Qo(E,L),D;if(U===null){for(;!C.done;L++,C=k.next())C=v(E,C.value,N),C!==null&&(b=s(C,b,L),_===null?D=C:_.sibling=C,_=C);return Ve&&Qo(E,L),D}for(U=r(E,U);!C.done;L++,C=k.next())C=w(U,E,L,C.value,N),C!==null&&(e&&C.alternate!==null&&U.delete(C.key===null?L:C.key),b=s(C,b,L),_===null?D=C:_.sibling=C,_=C);return e&&U.forEach(function(on){return t(E,on)}),Ve&&Qo(E,L),D}function A(E,b,k,N){if(typeof k=="object"&&k!==null&&k.type===Ea&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _h:e:{for(var D=k.key,_=b;_!==null;){if(_.key===D){if(D=k.type,D===Ea){if(_.tag===7){n(E,_.sibling),b=o(_,k.props.children),b.return=E,E=b;break e}}else if(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Vi&&Lx(D)===_.type){n(E,_.sibling),b=o(_,k.props),b.ref=xl(E,_,k),b.return=E,E=b;break e}n(E,_);break}else t(E,_);_=_.sibling}k.type===Ea?(b=fs(k.props.children,E.mode,N,k.key),b.return=E,E=b):(N=vd(k.type,k.key,k.props,null,E.mode,N),N.ref=xl(E,b,k),N.return=E,E=N)}return u(E);case Sa:e:{for(_=k.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){n(E,b.sibling),b=o(b,k.children||[]),b.return=E,E=b;break e}else{n(E,b);break}else t(E,b);b=b.sibling}b=zy(k,E.mode,N),b.return=E,E=b}return u(E);case Vi:return _=k._init,A(E,b,_(k._payload),N)}if(Rl(k))return T(E,b,k,N);if(El(k))return I(E,b,k,N);$h(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(n(E,b.sibling),b=o(b,k),b.return=E,E=b):(n(E,b),b=qy(k,E.mode,N),b.return=E,E=b),u(E)):n(E,b)}return A}var Xa=mD(!0),vD=mD(!1),Bd=mo(null),qd=null,Na=null,L1=null;function M1(){L1=Na=qd=null}function V1(e){var t=Bd.current;De(Bd),e._currentValue=t}function Z0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function za(e,t){qd=e,L1=Na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function Qn(e){var t=e._currentValue;if(L1!==e)if(e={context:e,memoizedValue:t,next:null},Na===null){if(qd===null)throw Error(q(308));Na=e,qd.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var ns=null;function j1(e){ns===null?ns=[e]:ns.push(e)}function gD(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,j1(t)):(n.next=o.next,o.next=n),t.interleaved=n,di(e,r)}function di(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ji=!1;function F1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,di(e,n)}return o=r.interleaved,o===null?(t.next=t,j1(r)):(t.next=o.next,o.next=t),r.interleaved=t,di(e,n)}function cd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,I1(e,n)}}function Mx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zd(e,t,n,r){var o=e.updateQueue;ji=!1;var s=o.firstBaseUpdate,u=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var f=l,h=f.next;f.next=null,u===null?s=h:u.next=h,u=f;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==u&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=f))}if(s!==null){var v=o.baseState;u=0,p=h=f=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=e,I=l;switch(g=t,w=n,I.tag){case 1:if(T=I.payload,typeof T=="function"){v=T.call(w,v,g);break e}v=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=I.payload,g=typeof T=="function"?T.call(w,v,g):T,g==null)break e;v=Ke({},v,g);break e;case 2:ji=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=w,f=v):p=p.next=w,u|=g;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;g=l,l=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(p===null&&(f=v),o.baseState=f,o.firstBaseUpdate=h,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ws|=u,e.lanes=u,e.memoizedState=v}}function Vx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(q(191,o));o.call(r)}}}var Zc={},Or=mo(Zc),yc=mo(Zc),wc=mo(Zc);function rs(e){if(e===Zc)throw Error(q(174));return e}function U1(e,t){switch(xe(wc,t),xe(yc,e),xe(Or,Zc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R0(t,e)}De(Or),xe(Or,t)}function Ya(){De(Or),De(yc),De(wc)}function wD(e){rs(wc.current);var t=rs(Or.current),n=R0(t,e.type);t!==n&&(xe(yc,e),xe(Or,n))}function $1(e){yc.current===e&&(De(Or),De(yc))}var $e=mo(0);function Kd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vy=[];function B1(){for(var e=0;e<Vy.length;e++)Vy[e]._workInProgressVersionPrimary=null;Vy.length=0}var fd=wi.ReactCurrentDispatcher,jy=wi.ReactCurrentBatchConfig,ys=0,ze=null,dt=null,wt=null,Hd=!1,Hl=!1,Sc=0,vB=0;function Pt(){throw Error(q(321))}function q1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function z1(e,t,n,r,o,s){if(ys=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fd.current=e===null||e.memoizedState===null?SB:EB,e=n(r,o),Hl){s=0;do{if(Hl=!1,Sc=0,25<=s)throw Error(q(301));s+=1,wt=dt=null,t.updateQueue=null,fd.current=TB,e=n(r,o)}while(Hl)}if(fd.current=Wd,t=dt!==null&&dt.next!==null,ys=0,wt=dt=ze=null,Hd=!1,t)throw Error(q(300));return e}function K1(){var e=Sc!==0;return Sc=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ze.memoizedState=wt=e:wt=wt.next=e,wt}function Xn(){if(dt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=wt===null?ze.memoizedState:wt.next;if(t!==null)wt=t,dt=e;else{if(e===null)throw Error(q(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?ze.memoizedState=wt=e:wt=wt.next=e}return wt}function Ec(e,t){return typeof t=="function"?t(e):t}function Fy(e){var t=Xn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=dt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var u=o.next;o.next=s.next,s.next=u}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=u=null,f=null,h=s;do{var p=h.lane;if((ys&p)===p)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(l=f=v,u=r):f=f.next=v,ze.lanes|=p,ws|=p}h=h.next}while(h!==null&&h!==s);f===null?u=r:f.next=l,vr(r,t.memoizedState)||(hn=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ze.lanes|=s,ws|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uy(e){var t=Xn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do s=e(s,u.action),u=u.next;while(u!==o);vr(s,t.memoizedState)||(hn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function SD(){}function ED(e,t){var n=ze,r=Xn(),o=t(),s=!vr(r.memoizedState,o);if(s&&(r.memoizedState=o,hn=!0),r=r.queue,H1(ID.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Tc(9,bD.bind(null,n,r,o,t),void 0,null),St===null)throw Error(q(349));ys&30||TD(n,t,o)}return o}function TD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bD(e,t,n,r){t.value=n,t.getSnapshot=r,kD(t)&&xD(e)}function ID(e,t,n){return n(function(){kD(t)&&xD(e)})}function kD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function xD(e){var t=di(e,1);t!==null&&hr(t,e,1,-1)}function jx(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:e},t.queue=e,e=e.dispatch=wB.bind(null,ze,e),[t.memoizedState,e]}function Tc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function AD(){return Xn().memoizedState}function hd(e,t,n,r){var o=Nr();ze.flags|=e,o.memoizedState=Tc(1|t,n,void 0,r===void 0?null:r)}function Hp(e,t,n,r){var o=Xn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var u=dt.memoizedState;if(s=u.destroy,r!==null&&q1(r,u.deps)){o.memoizedState=Tc(t,n,s,r);return}}ze.flags|=e,o.memoizedState=Tc(1|t,n,s,r)}function Fx(e,t){return hd(8390656,8,e,t)}function H1(e,t){return Hp(2048,8,e,t)}function CD(e,t){return Hp(4,2,e,t)}function ND(e,t){return Hp(4,4,e,t)}function _D(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DD(e,t,n){return n=n!=null?n.concat([e]):null,Hp(4,4,_D.bind(null,t,e),n)}function W1(){}function PD(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function RD(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function OD(e,t,n){return ys&21?(vr(n,t)||(n=F_(),ze.lanes|=n,ws|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=n)}function gB(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=jy.transition;jy.transition={};try{e(!1),t()}finally{be=n,jy.transition=r}}function LD(){return Xn().memoizedState}function yB(e,t,n){var r=to(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MD(e))VD(t,n);else if(n=gD(e,t,n,r),n!==null){var o=tn();hr(n,e,r,o),jD(n,t,r)}}function wB(e,t,n){var r=to(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MD(e))VD(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,l=s(u,n);if(o.hasEagerState=!0,o.eagerState=l,vr(l,u)){var f=t.interleaved;f===null?(o.next=o,j1(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=gD(e,t,o,r),n!==null&&(o=tn(),hr(n,e,r,o),jD(n,t,r))}}function MD(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function VD(e,t){Hl=Hd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,I1(e,n)}}var Wd={readContext:Qn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},SB={readContext:Qn,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:Qn,useEffect:Fx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hd(4194308,4,_D.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hd(4194308,4,e,t)},useInsertionEffect:function(e,t){return hd(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yB.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:jx,useDebugValue:W1,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=jx(!1),t=e[0];return e=gB.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,o=Nr();if(Ve){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),St===null)throw Error(q(349));ys&30||TD(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Fx(ID.bind(null,r,s,e),[e]),r.flags|=2048,Tc(9,bD.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Nr(),t=St.identifierPrefix;if(Ve){var n=ti,r=ei;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EB={readContext:Qn,useCallback:PD,useContext:Qn,useEffect:H1,useImperativeHandle:DD,useInsertionEffect:CD,useLayoutEffect:ND,useMemo:RD,useReducer:Fy,useRef:AD,useState:function(){return Fy(Ec)},useDebugValue:W1,useDeferredValue:function(e){var t=Xn();return OD(t,dt.memoizedState,e)},useTransition:function(){var e=Fy(Ec)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:SD,useSyncExternalStore:ED,useId:LD,unstable_isNewReconciler:!1},TB={readContext:Qn,useCallback:PD,useContext:Qn,useEffect:H1,useImperativeHandle:DD,useInsertionEffect:CD,useLayoutEffect:ND,useMemo:RD,useReducer:Uy,useRef:AD,useState:function(){return Uy(Ec)},useDebugValue:W1,useDeferredValue:function(e){var t=Xn();return dt===null?t.memoizedState=e:OD(t,dt.memoizedState,e)},useTransition:function(){var e=Uy(Ec)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:SD,useSyncExternalStore:ED,useId:LD,unstable_isNewReconciler:!1};function ur(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ew(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wp={isMounted:function(e){return(e=e._reactInternals)?Ps(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tn(),o=to(e),s=ii(r,o);s.payload=t,n!=null&&(s.callback=n),t=Zi(e,s,o),t!==null&&(hr(t,e,o,r),cd(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tn(),o=to(e),s=ii(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zi(e,s,o),t!==null&&(hr(t,e,o,r),cd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),r=to(e),o=ii(n,r);o.tag=2,t!=null&&(o.callback=t),t=Zi(e,o,r),t!==null&&(hr(t,e,r,n),cd(t,e,r))}};function Ux(e,t,n,r,o,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,u):t.prototype&&t.prototype.isPureReactComponent?!pc(n,r)||!pc(o,s):!0}function FD(e,t,n){var r=!1,o=uo,s=t.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(o=mn(t)?vs:qt.current,r=t.contextTypes,s=(r=r!=null)?Ga(e,o):uo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function $x(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wp.enqueueReplaceState(t,t.state,null)}function tw(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},F1(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Qn(s):(s=mn(t)?vs:qt.current,o.context=Ga(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ew(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Wp.enqueueReplaceState(o,o.state,null),zd(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var n="",r=t;do n+=X$(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function $y(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bB=typeof WeakMap=="function"?WeakMap:Map;function UD(e,t,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qd||(Qd=!0,hw=r),nw(e,t)},n}function $D(e,t,n){n=ii(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){nw(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nw(e,t),typeof r!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Bx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bB;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=VB.bind(null,e,t,n),t.then(e,e))}function qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zx(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ii(-1,1),t.tag=2,Zi(n,t,1))),n.lanes|=1),e)}var IB=wi.ReactCurrentOwner,hn=!1;function Gt(e,t,n,r){t.child=e===null?vD(t,null,n,r):Xa(t,e.child,n,r)}function Kx(e,t,n,r,o){n=n.render;var s=t.ref;return za(t,o),r=z1(e,t,n,r,s,o),n=K1(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,pi(e,t,o)):(Ve&&n&&P1(t),t.flags|=1,Gt(e,t,r,o),t.child)}function Hx(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!tS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,BD(e,t,s,r,o)):(e=vd(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:pc,n(u,r)&&e.ref===t.ref)return pi(e,t,o)}return t.flags|=1,e=no(s,r),e.ref=t.ref,e.return=t,t.child=e}function BD(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(pc(s,r)&&e.ref===t.ref)if(hn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,pi(e,t,o)}return rw(e,t,n,r,o)}function qD(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Da,In),In|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Da,In),In|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(Da,In),In|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,xe(Da,In),In|=r;return Gt(e,t,o,n),t.child}function zD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rw(e,t,n,r,o){var s=mn(n)?vs:qt.current;return s=Ga(t,s),za(t,o),n=z1(e,t,n,r,s,o),r=K1(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,pi(e,t,o)):(Ve&&r&&P1(t),t.flags|=1,Gt(e,t,n,o),t.child)}function Wx(e,t,n,r,o){if(mn(n)){var s=!0;Fd(t)}else s=!1;if(za(t,o),t.stateNode===null)dd(e,t),FD(t,n,r),tw(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,l=t.memoizedProps;u.props=l;var f=u.context,h=n.contextType;typeof h=="object"&&h!==null?h=Qn(h):(h=mn(n)?vs:qt.current,h=Ga(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==r||f!==h)&&$x(t,u,r,h),ji=!1;var g=t.memoizedState;u.state=g,zd(t,r,u,o),f=t.memoizedState,l!==r||g!==f||pn.current||ji?(typeof p=="function"&&(ew(t,n,p,r),f=t.memoizedState),(l=ji||Ux(t,n,l,r,g,f,h))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=h,r=l):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,yD(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:ur(t.type,l),u.props=h,v=t.pendingProps,g=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=Qn(f):(f=mn(n)?vs:qt.current,f=Ga(t,f));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==v||g!==f)&&$x(t,u,r,f),ji=!1,g=t.memoizedState,u.state=g,zd(t,r,u,o);var T=t.memoizedState;l!==v||g!==T||pn.current||ji?(typeof w=="function"&&(ew(t,n,w,r),T=t.memoizedState),(h=ji||Ux(t,n,h,r,g,T,f)||!1)?(p||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),u.props=r,u.state=T,u.context=f,r=h):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return iw(e,t,n,r,s,o)}function iw(e,t,n,r,o,s){zD(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&Px(t,n,!1),pi(e,t,s);r=t.stateNode,IB.current=t;var l=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Xa(t,e.child,null,s),t.child=Xa(t,null,l,s)):Gt(e,t,l,s),t.memoizedState=r.state,o&&Px(t,n,!0),t.child}function KD(e){var t=e.stateNode;t.pendingContext?Dx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dx(e,t.context,!1),U1(e,t.containerInfo)}function Gx(e,t,n,r,o){return Qa(),O1(o),t.flags|=256,Gt(e,t,n,r),t.child}var ow={dehydrated:null,treeContext:null,retryLane:0};function sw(e){return{baseLanes:e,cachePool:null,transitions:null}}function HD(e,t,n){var r=t.pendingProps,o=$e.current,s=!1,u=(t.flags&128)!==0,l;if((l=u)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),xe($e,o&1),e===null)return J0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,s?(r=t.mode,s=t.child,u={mode:"hidden",children:u},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=Xp(u,r,0,null),e=fs(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sw(n),t.memoizedState=ow,e):G1(t,u));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return kB(e,t,u,r,l,o,n);if(s){s=r.fallback,u=t.mode,o=e.child,l=o.sibling;var f={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=no(o,f),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=no(l,s):(s=fs(s,u,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,u=e.child.memoizedState,u=u===null?sw(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=ow,r}return s=e.child,e=s.sibling,r=no(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function G1(e,t){return t=Xp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bh(e,t,n,r){return r!==null&&O1(r),Xa(t,e.child,null,n),e=G1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kB(e,t,n,r,o,s,u){if(n)return t.flags&256?(t.flags&=-257,r=$y(Error(q(422))),Bh(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Xp({mode:"visible",children:r.children},o,0,null),s=fs(s,o,u,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xa(t,e.child,null,u),t.child.memoizedState=sw(u),t.memoizedState=ow,s);if(!(t.mode&1))return Bh(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(q(419)),r=$y(s,r,void 0),Bh(e,t,u,r)}if(l=(u&e.childLanes)!==0,hn||l){if(r=St,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,di(e,o),hr(r,e,o,-1))}return eS(),r=$y(Error(q(421))),Bh(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=jB.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Cn=Ji(o.nextSibling),Dn=t,Ve=!0,cr=null,e!==null&&(Kn[Hn++]=ei,Kn[Hn++]=ti,Kn[Hn++]=gs,ei=e.id,ti=e.overflow,gs=t),t=G1(t,r.children),t.flags|=4096,t)}function Qx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Z0(e.return,t,n)}function By(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function WD(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Gt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qx(e,n,t);else if(e.tag===19)Qx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe($e,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Kd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),By(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Kd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}By(t,!0,n,null,s);break;case"together":By(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=no(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=no(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xB(e,t,n){switch(t.tag){case 3:KD(t),Qa();break;case 5:wD(t);break;case 1:mn(t.type)&&Fd(t);break;case 4:U1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;xe(Bd,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?HD(e,t,n):(xe($e,$e.current&1),e=pi(e,t,n),e!==null?e.sibling:null);xe($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WD(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),xe($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,qD(e,t,n)}return pi(e,t,n)}var GD,aw,QD,XD;GD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aw=function(){};QD=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rs(Or.current);var s=null;switch(n){case"input":o=N0(e,o),r=N0(e,r),s=[];break;case"select":o=Ke({},o,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":o=P0(e,o),r=P0(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vd)}O0(n,r);var u;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var l=o[h];for(u in l)l.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ac.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var f=r[h];if(l=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&f!==l&&(f!=null||l!=null))if(h==="style")if(l){for(u in l)!l.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&l[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(s||(s=[]),s.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(s=s||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ac.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Ne("scroll",e),s||l===f||(s=[])):(s=s||[]).push(h,f))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};XD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Al(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AB(e,t,n){var r=t.pendingProps;switch(R1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return mn(t.type)&&jd(),Rt(t),null;case 3:return r=t.stateNode,Ya(),De(pn),De(qt),B1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(mw(cr),cr=null))),aw(e,t),Rt(t),null;case 5:$1(t);var o=rs(wc.current);if(n=t.type,e!==null&&t.stateNode!=null)QD(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Rt(t),null}if(e=rs(Or.current),Uh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Dr]=t,r[gc]=s,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(o=0;o<Ll.length;o++)Ne(Ll[o],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":ix(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":sx(r,s),Ne("invalid",r)}O0(n,s),o=null;for(var u in s)if(s.hasOwnProperty(u)){var l=s[u];u==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Fh(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Fh(r.textContent,l,e),o=["children",""+l]):ac.hasOwnProperty(u)&&l!=null&&u==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Dh(r),ox(r,s,!0);break;case"textarea":Dh(r),ax(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Dr]=t,e[gc]=r,GD(e,t,!1,!1),t.stateNode=e;e:{switch(u=L0(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),o=r;break;case"iframe":case"object":case"embed":Ne("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ll.length;o++)Ne(Ll[o],e);o=r;break;case"source":Ne("error",e),o=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),o=r;break;case"details":Ne("toggle",e),o=r;break;case"input":ix(e,r),o=N0(e,r),Ne("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ke({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":sx(e,r),o=P0(e,r),Ne("invalid",e);break;default:o=r}O0(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];s==="style"?A_(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&k_(e,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&uc(e,f):typeof f=="number"&&uc(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ac.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Ne("scroll",e):f!=null&&y1(e,s,f,u))}switch(n){case"input":Dh(e),ox(e,r,!1);break;case"textarea":Dh(e),ax(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ua(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ua(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)XD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=rs(wc.current),rs(Or.current),Uh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dr]=t,(s=r.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:Fh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fh(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=t,t.stateNode=r}return Rt(t),null;case 13:if(De($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Cn!==null&&t.mode&1&&!(t.flags&128))pD(),Qa(),t.flags|=98560,s=!1;else if(s=Uh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Dr]=t}else Qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else cr!==null&&(mw(cr),cr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?pt===0&&(pt=3):eS())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Ya(),aw(e,t),e===null&&mc(t.stateNode.containerInfo),Rt(t),null;case 10:return V1(t.type._context),Rt(t),null;case 17:return mn(t.type)&&jd(),Rt(t),null;case 19:if(De($e),s=t.memoizedState,s===null)return Rt(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Al(s,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Kd(e),u!==null){for(t.flags|=128,Al(s,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe($e,$e.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Za&&(t.flags|=128,r=!0,Al(s,!1),t.lanes=4194304)}else{if(!r)if(e=Kd(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Al(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ve)return Rt(t),null}else 2*nt()-s.renderingStartTime>Za&&n!==1073741824&&(t.flags|=128,r=!0,Al(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(n=s.last,n!==null?n.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=$e.current,xe($e,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return Z1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?In&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function CB(e,t){switch(R1(t),t.tag){case 1:return mn(t.type)&&jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(),De(pn),De(qt),B1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $1(t),null;case 13:if(De($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De($e),null;case 4:return Ya(),null;case 10:return V1(t.type._context),null;case 22:case 23:return Z1(),null;case 24:return null;default:return null}}var qh=!1,Mt=!1,NB=typeof WeakSet=="function"?WeakSet:Set,W=null;function _a(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function uw(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var Xx=!1;function _B(e,t){if(K0=Od,e=tD(),D1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var u=0,l=-1,f=-1,h=0,p=0,v=e,g=null;t:for(;;){for(var w;v!==n||o!==0&&v.nodeType!==3||(l=u+o),v!==s||r!==0&&v.nodeType!==3||(f=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(w=v.firstChild)!==null;)g=v,v=w;for(;;){if(v===e)break t;if(g===n&&++h===o&&(l=u),g===s&&++p===r&&(f=u),(w=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=w}n=l===-1||f===-1?null:{start:l,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(H0={focusedElem:e,selectionRange:n},Od=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,A=T.memoizedState,E=t.stateNode,b=E.getSnapshotBeforeUpdate(t.elementType===t.type?I:ur(t.type,I),A);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(N){Qe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return T=Xx,Xx=!1,T}function Wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&uw(t,n,s)}o=o.next}while(o!==r)}}function Gp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YD(e){var t=e.alternate;t!==null&&(e.alternate=null,YD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dr],delete t[gc],delete t[Q0],delete t[hB],delete t[dB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JD(e){return e.tag===5||e.tag===3||e.tag===4}function Yx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vd));else if(r!==4&&(e=e.child,e!==null))for(cw(e,t,n),e=e.sibling;e!==null;)cw(e,t,n),e=e.sibling}function fw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fw(e,t,n),e=e.sibling;e!==null;)fw(e,t,n),e=e.sibling}var bt=null,lr=!1;function Di(e,t,n){for(n=n.child;n!==null;)ZD(e,t,n),n=n.sibling}function ZD(e,t,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Up,n)}catch{}switch(n.tag){case 5:Mt||_a(n,t);case 6:var r=bt,o=lr;bt=null,Di(e,t,n),bt=r,lr=o,bt!==null&&(lr?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(lr?(e=bt,n=n.stateNode,e.nodeType===8?Ly(e.parentNode,n):e.nodeType===1&&Ly(e,n),hc(e)):Ly(bt,n.stateNode));break;case 4:r=bt,o=lr,bt=n.stateNode.containerInfo,lr=!0,Di(e,t,n),bt=r,lr=o;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&uw(n,t,u),o=o.next}while(o!==r)}Di(e,t,n);break;case 1:if(!Mt&&(_a(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Qe(n,t,l)}Di(e,t,n);break;case 21:Di(e,t,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Di(e,t,n),Mt=r):Di(e,t,n);break;default:Di(e,t,n)}}function Jx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NB),t.forEach(function(r){var o=FB.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function or(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,u=t,l=u;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,lr=!1;break e;case 3:bt=l.stateNode.containerInfo,lr=!0;break e;case 4:bt=l.stateNode.containerInfo,lr=!0;break e}l=l.return}if(bt===null)throw Error(q(160));ZD(s,u,o),bt=null,lr=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(h){Qe(o,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eP(t,e),t=t.sibling}function eP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),Cr(e),r&4){try{Wl(3,e,e.return),Gp(3,e)}catch(I){Qe(e,e.return,I)}try{Wl(5,e,e.return)}catch(I){Qe(e,e.return,I)}}break;case 1:or(t,e),Cr(e),r&512&&n!==null&&_a(n,n.return);break;case 5:if(or(t,e),Cr(e),r&512&&n!==null&&_a(n,n.return),e.flags&32){var o=e.stateNode;try{uc(o,"")}catch(I){Qe(e,e.return,I)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,u=n!==null?n.memoizedProps:s,l=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&T_(o,s),L0(l,u);var h=L0(l,s);for(u=0;u<f.length;u+=2){var p=f[u],v=f[u+1];p==="style"?A_(o,v):p==="dangerouslySetInnerHTML"?k_(o,v):p==="children"?uc(o,v):y1(o,p,v,h)}switch(l){case"input":_0(o,s);break;case"textarea":b_(o,s);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ua(o,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ua(o,!!s.multiple,s.defaultValue,!0):Ua(o,!!s.multiple,s.multiple?[]:"",!1))}o[gc]=s}catch(I){Qe(e,e.return,I)}}break;case 6:if(or(t,e),Cr(e),r&4){if(e.stateNode===null)throw Error(q(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(I){Qe(e,e.return,I)}}break;case 3:if(or(t,e),Cr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hc(t.containerInfo)}catch(I){Qe(e,e.return,I)}break;case 4:or(t,e),Cr(e);break;case 13:or(t,e),Cr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Y1=nt())),r&4&&Jx(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Mt=(h=Mt)||p,or(t,e),Mt=h):or(t,e),Cr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(W=e,p=e.child;p!==null;){for(v=W=p;W!==null;){switch(g=W,w=g.child,g.tag){case 0:case 11:case 14:case 15:Wl(4,g,g.return);break;case 1:_a(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(I){Qe(r,n,I)}}break;case 5:_a(g,g.return);break;case 22:if(g.memoizedState!==null){eA(v);continue}}w!==null?(w.return=g,W=w):eA(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{o=v.stateNode,h?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,f=v.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,l.style.display=x_("display",u))}catch(I){Qe(e,e.return,I)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(I){Qe(e,e.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:or(t,e),Cr(e),r&4&&Jx(e);break;case 21:break;default:or(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(JD(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(uc(o,""),r.flags&=-33);var s=Yx(e);fw(e,s,o);break;case 3:case 4:var u=r.stateNode.containerInfo,l=Yx(e);cw(e,l,u);break;default:throw Error(q(161))}}catch(f){Qe(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DB(e,t,n){W=e,tP(e)}function tP(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,s=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||qh;if(!u){var l=o.alternate,f=l!==null&&l.memoizedState!==null||Mt;l=qh;var h=Mt;if(qh=u,(Mt=f)&&!h)for(W=o;W!==null;)u=W,f=u.child,u.tag===22&&u.memoizedState!==null?tA(o):f!==null?(f.return=u,W=f):tA(o);for(;s!==null;)W=s,tP(s),s=s.sibling;W=o,qh=l,Mt=h}Zx(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,W=s):Zx(e)}}function Zx(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Gp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ur(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Vx(t,s,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vx(t,u,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&hc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Mt||t.flags&512&&lw(t)}catch(g){Qe(t,t.return,g)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function eA(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function tA(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gp(4,t)}catch(f){Qe(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(f){Qe(t,o,f)}}var s=t.return;try{lw(t)}catch(f){Qe(t,s,f)}break;case 5:var u=t.return;try{lw(t)}catch(f){Qe(t,u,f)}}}catch(f){Qe(t,t.return,f)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var PB=Math.ceil,Gd=wi.ReactCurrentDispatcher,Q1=wi.ReactCurrentOwner,Gn=wi.ReactCurrentBatchConfig,ve=0,St=null,st=null,At=0,In=0,Da=mo(0),pt=0,bc=null,ws=0,Qp=0,X1=0,Gl=null,fn=null,Y1=0,Za=1/0,Yr=null,Qd=!1,hw=null,eo=null,zh=!1,Gi=null,Xd=0,Ql=0,dw=null,pd=-1,md=0;function tn(){return ve&6?nt():pd!==-1?pd:pd=nt()}function to(e){return e.mode&1?ve&2&&At!==0?At&-At:mB.transition!==null?(md===0&&(md=F_()),md):(e=be,e!==0||(e=window.event,e=e===void 0?16:H_(e.type)),e):1}function hr(e,t,n,r){if(50<Ql)throw Ql=0,dw=null,Error(q(185));Xc(e,n,r),(!(ve&2)||e!==St)&&(e===St&&(!(ve&2)&&(Qp|=n),pt===4&&$i(e,At)),vn(e,r),n===1&&ve===0&&!(t.mode&1)&&(Za=nt()+500,Kp&&vo()))}function vn(e,t){var n=e.callbackNode;m4(e,t);var r=Rd(e,e===St?At:0);if(r===0)n!==null&&cx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cx(n),t===1)e.tag===0?pB(nA.bind(null,e)):fD(nA.bind(null,e)),cB(function(){!(ve&6)&&vo()}),n=null;else{switch(U_(r)){case 1:n=b1;break;case 4:n=V_;break;case 16:n=Pd;break;case 536870912:n=j_;break;default:n=Pd}n=lP(n,nP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nP(e,t){if(pd=-1,md=0,ve&6)throw Error(q(327));var n=e.callbackNode;if(Ka()&&e.callbackNode!==n)return null;var r=Rd(e,e===St?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yd(e,r);else{t=r;var o=ve;ve|=2;var s=iP();(St!==e||At!==t)&&(Yr=null,Za=nt()+500,cs(e,t));do try{LB();break}catch(l){rP(e,l)}while(!0);M1(),Gd.current=s,ve=o,st!==null?t=0:(St=null,At=0,t=pt)}if(t!==0){if(t===2&&(o=U0(e),o!==0&&(r=o,t=pw(e,o))),t===1)throw n=bc,cs(e,0),$i(e,r),vn(e,nt()),n;if(t===6)$i(e,r);else{if(o=e.current.alternate,!(r&30)&&!RB(o)&&(t=Yd(e,r),t===2&&(s=U0(e),s!==0&&(r=s,t=pw(e,s))),t===1))throw n=bc,cs(e,0),$i(e,r),vn(e,nt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:Xo(e,fn,Yr);break;case 3:if($i(e,r),(r&130023424)===r&&(t=Y1+500-nt(),10<t)){if(Rd(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){tn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=G0(Xo.bind(null,e,fn,Yr),t);break}Xo(e,fn,Yr);break;case 4:if($i(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-fr(r);s=1<<u,u=t[u],u>o&&(o=u),r&=~s}if(r=o,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PB(r/1960))-r,10<r){e.timeoutHandle=G0(Xo.bind(null,e,fn,Yr),r);break}Xo(e,fn,Yr);break;case 5:Xo(e,fn,Yr);break;default:throw Error(q(329))}}}return vn(e,nt()),e.callbackNode===n?nP.bind(null,e):null}function pw(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=Yd(e,t),e!==2&&(t=fn,fn=n,t!==null&&mw(t)),e}function mw(e){fn===null?fn=e:fn.push.apply(fn,e)}function RB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!vr(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t){for(t&=~X1,t&=~Qp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fr(t),r=1<<n;e[n]=-1,t&=~r}}function nA(e){if(ve&6)throw Error(q(327));Ka();var t=Rd(e,0);if(!(t&1))return vn(e,nt()),null;var n=Yd(e,t);if(e.tag!==0&&n===2){var r=U0(e);r!==0&&(t=r,n=pw(e,r))}if(n===1)throw n=bc,cs(e,0),$i(e,t),vn(e,nt()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,fn,Yr),vn(e,nt()),null}function J1(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Za=nt()+500,Kp&&vo())}}function Ss(e){Gi!==null&&Gi.tag===0&&!(ve&6)&&Ka();var t=ve;ve|=1;var n=Gn.transition,r=be;try{if(Gn.transition=null,be=1,e)return e()}finally{be=r,Gn.transition=n,ve=t,!(ve&6)&&vo()}}function Z1(){In=Da.current,De(Da)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lB(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(R1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Ya(),De(pn),De(qt),B1();break;case 5:$1(r);break;case 4:Ya();break;case 13:De($e);break;case 19:De($e);break;case 10:V1(r.type._context);break;case 22:case 23:Z1()}n=n.return}if(St=e,st=e=no(e.current,null),At=In=t,pt=0,bc=null,X1=Qp=ws=0,fn=Gl=null,ns!==null){for(t=0;t<ns.length;t++)if(n=ns[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var u=s.next;s.next=o,r.next=u}n.pending=r}ns=null}return e}function rP(e,t){do{var n=st;try{if(M1(),fd.current=Wd,Hd){for(var r=ze.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Hd=!1}if(ys=0,wt=dt=ze=null,Hl=!1,Sc=0,Q1.current=null,n===null||n.return===null){pt=1,bc=t,st=null;break}e:{var s=e,u=n.return,l=n,f=t;if(t=At,l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=qx(u);if(w!==null){w.flags&=-257,zx(w,u,l,s,t),w.mode&1&&Bx(s,h,t),t=w,f=h;var T=t.updateQueue;if(T===null){var I=new Set;I.add(f),t.updateQueue=I}else T.add(f);break e}else{if(!(t&1)){Bx(s,h,t),eS();break e}f=Error(q(426))}}else if(Ve&&l.mode&1){var A=qx(u);if(A!==null){!(A.flags&65536)&&(A.flags|=256),zx(A,u,l,s,t),O1(Ja(f,l));break e}}s=f=Ja(f,l),pt!==4&&(pt=2),Gl===null?Gl=[s]:Gl.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=UD(s,f,t);Mx(s,E);break e;case 1:l=f;var b=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(eo===null||!eo.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=$D(s,l,t);Mx(s,N);break e}}s=s.return}while(s!==null)}sP(n)}catch(D){t=D,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function iP(){var e=Gd.current;return Gd.current=Wd,e===null?Wd:e}function eS(){(pt===0||pt===3||pt===2)&&(pt=4),St===null||!(ws&268435455)&&!(Qp&268435455)||$i(St,At)}function Yd(e,t){var n=ve;ve|=2;var r=iP();(St!==e||At!==t)&&(Yr=null,cs(e,t));do try{OB();break}catch(o){rP(e,o)}while(!0);if(M1(),ve=n,Gd.current=r,st!==null)throw Error(q(261));return St=null,At=0,pt}function OB(){for(;st!==null;)oP(st)}function LB(){for(;st!==null&&!s4();)oP(st)}function oP(e){var t=uP(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?sP(e):st=t,Q1.current=null}function sP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CB(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,st=null;return}}else if(n=AB(n,t,In),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);pt===0&&(pt=5)}function Xo(e,t,n){var r=be,o=Gn.transition;try{Gn.transition=null,be=1,MB(e,t,n,r)}finally{Gn.transition=o,be=r}return null}function MB(e,t,n,r){do Ka();while(Gi!==null);if(ve&6)throw Error(q(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(v4(e,s),e===St&&(st=St=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zh||(zh=!0,lP(Pd,function(){return Ka(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var u=be;be=1;var l=ve;ve|=4,Q1.current=null,_B(e,n),eP(n,e),nB(H0),Od=!!K0,H0=K0=null,e.current=n,DB(n),a4(),ve=l,be=u,Gn.transition=s}else e.current=n;if(zh&&(zh=!1,Gi=e,Xd=o),s=e.pendingLanes,s===0&&(eo=null),c4(n.stateNode),vn(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Qd)throw Qd=!1,e=hw,hw=null,e;return Xd&1&&e.tag!==0&&Ka(),s=e.pendingLanes,s&1?e===dw?Ql++:(Ql=0,dw=e):Ql=0,vo(),null}function Ka(){if(Gi!==null){var e=U_(Xd),t=Gn.transition,n=be;try{if(Gn.transition=null,be=16>e?16:e,Gi===null)var r=!1;else{if(e=Gi,Gi=null,Xd=0,ve&6)throw Error(q(331));var o=ve;for(ve|=4,W=e.current;W!==null;){var s=W,u=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var f=0;f<l.length;f++){var h=l[f];for(W=h;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:Wl(8,p,s)}var v=p.child;if(v!==null)v.return=p,W=v;else for(;W!==null;){p=W;var g=p.sibling,w=p.return;if(YD(p),p===h){W=null;break}if(g!==null){g.return=w,W=g;break}W=w}}}var T=s.alternate;if(T!==null){var I=T.child;if(I!==null){T.child=null;do{var A=I.sibling;I.sibling=null,I=A}while(I!==null)}}W=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,W=u;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,W=E;break e}W=s.return}}var b=e.current;for(W=b;W!==null;){u=W;var k=u.child;if(u.subtreeFlags&2064&&k!==null)k.return=u,W=k;else e:for(u=b;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gp(9,l)}}catch(D){Qe(l,l.return,D)}if(l===u){W=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,W=N;break e}W=l.return}}if(ve=o,vo(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Up,e)}catch{}r=!0}return r}finally{be=n,Gn.transition=t}}return!1}function rA(e,t,n){t=Ja(n,t),t=UD(e,t,1),e=Zi(e,t,1),t=tn(),e!==null&&(Xc(e,1,t),vn(e,t))}function Qe(e,t,n){if(e.tag===3)rA(e,e,n);else for(;t!==null;){if(t.tag===3){rA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){e=Ja(n,e),e=$D(t,e,1),t=Zi(t,e,1),e=tn(),t!==null&&(Xc(t,1,e),vn(t,e));break}}t=t.return}}function VB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(At&n)===n&&(pt===4||pt===3&&(At&130023424)===At&&500>nt()-Y1?cs(e,0):X1|=n),vn(e,t)}function aP(e,t){t===0&&(e.mode&1?(t=Oh,Oh<<=1,!(Oh&130023424)&&(Oh=4194304)):t=1);var n=tn();e=di(e,t),e!==null&&(Xc(e,t,n),vn(e,n))}function jB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aP(e,n)}function FB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),aP(e,n)}var uP;uP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pn.current)hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hn=!1,xB(e,t,n);hn=!!(e.flags&131072)}else hn=!1,Ve&&t.flags&1048576&&hD(t,$d,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dd(e,t),e=t.pendingProps;var o=Ga(t,qt.current);za(t,n),o=z1(null,t,r,e,o,n);var s=K1();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(r)?(s=!0,Fd(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,F1(t),o.updater=Wp,t.stateNode=o,o._reactInternals=t,tw(t,r,e,n),t=iw(null,t,r,!0,s,n)):(t.tag=0,Ve&&s&&P1(t),Gt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dd(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=$B(r),e=ur(r,e),o){case 0:t=rw(null,t,r,e,n);break e;case 1:t=Wx(null,t,r,e,n);break e;case 11:t=Kx(null,t,r,e,n);break e;case 14:t=Hx(null,t,r,ur(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ur(r,o),rw(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ur(r,o),Wx(e,t,r,o,n);case 3:e:{if(KD(t),e===null)throw Error(q(387));r=t.pendingProps,s=t.memoizedState,o=s.element,yD(e,t),zd(t,r,null,n);var u=t.memoizedState;if(r=u.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Ja(Error(q(423)),t),t=Gx(e,t,r,n,o);break e}else if(r!==o){o=Ja(Error(q(424)),t),t=Gx(e,t,r,n,o);break e}else for(Cn=Ji(t.stateNode.containerInfo.firstChild),Dn=t,Ve=!0,cr=null,n=vD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qa(),r===o){t=pi(e,t,n);break e}Gt(e,t,r,n)}t=t.child}return t;case 5:return wD(t),e===null&&J0(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,u=o.children,W0(r,o)?u=null:s!==null&&W0(r,s)&&(t.flags|=32),zD(e,t),Gt(e,t,u,n),t.child;case 6:return e===null&&J0(t),null;case 13:return HD(e,t,n);case 4:return U1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xa(t,null,r,n):Gt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ur(r,o),Kx(e,t,r,o,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,u=o.value,xe(Bd,r._currentValue),r._currentValue=u,s!==null)if(vr(s.value,u)){if(s.children===o.children&&!pn.current){t=pi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){u=s.child;for(var f=l.firstContext;f!==null;){if(f.context===r){if(s.tag===1){f=ii(-1,n&-n),f.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?f.next=f:(f.next=p.next,p.next=f),h.pending=f}}s.lanes|=n,f=s.alternate,f!==null&&(f.lanes|=n),Z0(s.return,n,t),l.lanes|=n;break}f=f.next}}else if(s.tag===10)u=s.type===t.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(q(341));u.lanes|=n,l=u.alternate,l!==null&&(l.lanes|=n),Z0(u,n,t),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===t){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}Gt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,za(t,n),o=Qn(o),r=r(o),t.flags|=1,Gt(e,t,r,n),t.child;case 14:return r=t.type,o=ur(r,t.pendingProps),o=ur(r.type,o),Hx(e,t,r,o,n);case 15:return BD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ur(r,o),dd(e,t),t.tag=1,mn(r)?(e=!0,Fd(t)):e=!1,za(t,n),FD(t,r,o),tw(t,r,o,n),iw(null,t,r,!0,e,n);case 19:return WD(e,t,n);case 22:return qD(e,t,n)}throw Error(q(156,t.tag))};function lP(e,t){return M_(e,t)}function UB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,r){return new UB(e,t,n,r)}function tS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $B(e){if(typeof e=="function")return tS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S1)return 11;if(e===E1)return 14}return 2}function no(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vd(e,t,n,r,o,s){var u=2;if(r=e,typeof e=="function")tS(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ea:return fs(n.children,o,s,t);case w1:u=8,o|=8;break;case k0:return e=Wn(12,n,t,o|2),e.elementType=k0,e.lanes=s,e;case x0:return e=Wn(13,n,t,o),e.elementType=x0,e.lanes=s,e;case A0:return e=Wn(19,n,t,o),e.elementType=A0,e.lanes=s,e;case w_:return Xp(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g_:u=10;break e;case y_:u=9;break e;case S1:u=11;break e;case E1:u=14;break e;case Vi:u=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Wn(u,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function fs(e,t,n,r){return e=Wn(7,e,r,t),e.lanes=n,e}function Xp(e,t,n,r){return e=Wn(22,e,r,t),e.elementType=w_,e.lanes=n,e.stateNode={isHidden:!1},e}function qy(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function zy(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BB(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iy(0),this.expirationTimes=Iy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iy(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function nS(e,t,n,r,o,s,u,l,f){return e=new BB(e,t,n,l,f),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},F1(s),e}function qB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cP(e){if(!e)return uo;e=e._reactInternals;e:{if(Ps(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(mn(n))return cD(e,n,t)}return t}function fP(e,t,n,r,o,s,u,l,f){return e=nS(n,r,!0,e,o,s,u,l,f),e.context=cP(null),n=e.current,r=tn(),o=to(n),s=ii(r,o),s.callback=t??null,Zi(n,s,o),e.current.lanes=o,Xc(e,o,r),vn(e,r),e}function Yp(e,t,n,r){var o=t.current,s=tn(),u=to(o);return n=cP(n),t.context===null?t.context=n:t.pendingContext=n,t=ii(s,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zi(o,t,u),e!==null&&(hr(e,o,u,s),cd(e,o,u)),u}function Jd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rS(e,t){iA(e,t),(e=e.alternate)&&iA(e,t)}function zB(){return null}var hP=typeof reportError=="function"?reportError:function(e){console.error(e)};function iS(e){this._internalRoot=e}Jp.prototype.render=iS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Yp(e,t,null,null)};Jp.prototype.unmount=iS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ss(function(){Yp(null,e,null,null)}),t[hi]=null}};function Jp(e){this._internalRoot=e}Jp.prototype.unstable_scheduleHydration=function(e){if(e){var t=q_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ui.length&&t!==0&&t<Ui[n].priority;n++);Ui.splice(n,0,e),n===0&&K_(e)}};function oS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oA(){}function KB(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var h=Jd(u);s.call(h)}}var u=fP(t,r,e,0,null,!1,!1,"",oA);return e._reactRootContainer=u,e[hi]=u.current,mc(e.nodeType===8?e.parentNode:e),Ss(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var h=Jd(f);l.call(h)}}var f=nS(e,0,!1,null,null,!1,!1,"",oA);return e._reactRootContainer=f,e[hi]=f.current,mc(e.nodeType===8?e.parentNode:e),Ss(function(){Yp(t,f,n,r)}),f}function em(e,t,n,r,o){var s=n._reactRootContainer;if(s){var u=s;if(typeof o=="function"){var l=o;o=function(){var f=Jd(u);l.call(f)}}Yp(t,u,e,o)}else u=KB(n,t,e,o,r);return Jd(u)}$_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ol(t.pendingLanes);n!==0&&(I1(t,n|1),vn(t,nt()),!(ve&6)&&(Za=nt()+500,vo()))}break;case 13:Ss(function(){var r=di(e,1);if(r!==null){var o=tn();hr(r,e,1,o)}}),rS(e,1)}};k1=function(e){if(e.tag===13){var t=di(e,134217728);if(t!==null){var n=tn();hr(t,e,134217728,n)}rS(e,134217728)}};B_=function(e){if(e.tag===13){var t=to(e),n=di(e,t);if(n!==null){var r=tn();hr(n,e,t,r)}rS(e,t)}};q_=function(){return be};z_=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};V0=function(e,t,n){switch(t){case"input":if(_0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zp(r);if(!o)throw Error(q(90));E_(r),_0(r,o)}}}break;case"textarea":b_(e,n);break;case"select":t=n.value,t!=null&&Ua(e,!!n.multiple,t,!1)}};__=J1;D_=Ss;var HB={usingClientEntryPoint:!1,Events:[Jc,ka,zp,C_,N_,J1]},Cl={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WB={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O_(e),e===null?null:e.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||zB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Up=Kh.inject(WB),Rr=Kh}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HB;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oS(t))throw Error(q(200));return qB(e,t,null,n)};Vn.createRoot=function(e,t){if(!oS(e))throw Error(q(299));var n=!1,r="",o=hP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=nS(e,1,!1,null,null,n,!1,r,o),e[hi]=t.current,mc(e.nodeType===8?e.parentNode:e),new iS(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=O_(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return Ss(e)};Vn.hydrate=function(e,t,n){if(!Zp(t))throw Error(q(200));return em(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!oS(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",u=hP;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=fP(t,null,e,1,n??null,o,!1,s,u),e[hi]=t.current,mc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Jp(t)};Vn.render=function(e,t,n){if(!Zp(t))throw Error(q(200));return em(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!Zp(e))throw Error(q(40));return e._reactRootContainer?(Ss(function(){em(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Vn.unstable_batchedUpdates=J1;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zp(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return em(e,t,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function dP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dP)}catch(e){console.error(e)}}dP(),d_.exports=Vn;var GB=d_.exports,pP,sA=GB;pP=sA.createRoot,sA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ur=(e,t)=>{const n=V.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:u,className:l="",children:f,...h},p)=>V.createElement("svg",{ref:p,...QB,width:o,height:o,stroke:r,strokeWidth:u?Number(s)*24/Number(o):s,className:["lucide",`lucide-${XB(e)}`,l].join(" "),...h},[...t.map(([v,g])=>V.createElement(v,g)),...Array.isArray(f)?f:[f]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=Ur("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Ur("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Ur("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Ur("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=Ur("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Ur("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Ur("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Ur("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Ur("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Ur("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let sq={data:""},aq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||sq,uq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lq=/\/\*[^]*?\*\/|  +/g,aA=/\n+/g,Bi=(e,t)=>{let n="",r="",o="";for(let s in e){let u=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+u+";":r+=s[1]=="f"?Bi(u,s):s+"{"+Bi(u,s[1]=="k"?"":t)+"}":typeof u=="object"?r+=Bi(u,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,l):l?l+" "+f:f)):s):u!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Bi.p?Bi.p(s,u):s+":"+u+";")}return n+(t&&o?t+"{"+o+"}":o)+r},Xr={},vP=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+vP(e[n]);return t}return e},cq=(e,t,n,r,o)=>{let s=vP(e),u=Xr[s]||(Xr[s]=(f=>{let h=0,p=11;for(;h<f.length;)p=101*p+f.charCodeAt(h++)>>>0;return"go"+p})(s));if(!Xr[u]){let f=s!==e?e:(h=>{let p,v,g=[{}];for(;p=uq.exec(h.replace(lq,""));)p[4]?g.shift():p[3]?(v=p[3].replace(aA," ").trim(),g.unshift(g[0][v]=g[0][v]||{})):g[0][p[1]]=p[2].replace(aA," ").trim();return g[0]})(e);Xr[u]=Bi(o?{["@keyframes "+u]:f}:f,n?"":"."+u)}let l=n&&Xr.g?Xr.g:null;return n&&(Xr.g=Xr[u]),((f,h,p,v)=>{v?h.data=h.data.replace(v,f):h.data.indexOf(f)===-1&&(h.data=p?f+h.data:h.data+f)})(Xr[u],t,r,l),u},fq=(e,t,n)=>e.reduce((r,o,s)=>{let u=t[s];if(u&&u.call){let l=u(n),f=l&&l.props&&l.props.className||/^go/.test(l)&&l;u=f?"."+f:l&&typeof l=="object"?l.props?"":Bi(l,""):l===!1?"":l}return r+o+(u??"")},"");function tm(e){let t=this||{},n=e.call?e(t.p):e;return cq(n.unshift?n.raw?fq(n,[].slice.call(arguments,1),t.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):n,aq(t.target),t.g,t.o,t.k)}let gP,vw,gw;tm.bind({g:1});let mi=tm.bind({k:1});function hq(e,t,n,r){Bi.p=t,gP=e,vw=n,gw=r}function go(e,t){let n=this||{};return function(){let r=arguments;function o(s,u){let l=Object.assign({},s),f=l.className||o.className;n.p=Object.assign({theme:vw&&vw()},l),n.o=/ *go\d+/.test(f),l.className=tm.apply(n,r)+(f?" "+f:"");let h=e;return e[0]&&(h=l.as||e,delete l.as),gw&&h[0]&&gw(l),gP(h,l)}return o}}var dq=e=>typeof e=="function",Zd=(e,t)=>dq(e)?e(t):e,pq=(()=>{let e=0;return()=>(++e).toString()})(),yP=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),mq=20,wP=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,mq)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return wP(e,{type:e.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},gd=[],yd={toasts:[],pausedAt:void 0},Rs=e=>{yd=wP(yd,e),gd.forEach(t=>{t(yd)})},vq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gq=(e={})=>{let[t,n]=V.useState(yd);V.useEffect(()=>(gd.push(n),()=>{let o=gd.indexOf(n);o>-1&&gd.splice(o,1)}),[t]);let r=t.toasts.map(o=>{var s,u,l;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((s=e[o.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||vq[o.type],style:{...e.style,...(l=e[o.type])==null?void 0:l.style,...o.style}}});return{...t,toasts:r}},yq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||pq()}),ef=e=>(t,n)=>{let r=yq(t,e,n);return Rs({type:2,toast:r}),r.id},Xt=(e,t)=>ef("blank")(e,t);Xt.error=ef("error");Xt.success=ef("success");Xt.loading=ef("loading");Xt.custom=ef("custom");Xt.dismiss=e=>{Rs({type:3,toastId:e})};Xt.remove=e=>Rs({type:4,toastId:e});Xt.promise=(e,t,n)=>{let r=Xt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let s=t.success?Zd(t.success,o):void 0;return s?Xt.success(s,{id:r,...n,...n==null?void 0:n.success}):Xt.dismiss(r),o}).catch(o=>{let s=t.error?Zd(t.error,o):void 0;s?Xt.error(s,{id:r,...n,...n==null?void 0:n.error}):Xt.dismiss(r)}),e};var wq=(e,t)=>{Rs({type:1,toast:{id:e,height:t}})},Sq=()=>{Rs({type:5,time:Date.now()})},Xl=new Map,Eq=1e3,Tq=(e,t=Eq)=>{if(Xl.has(e))return;let n=setTimeout(()=>{Xl.delete(e),Rs({type:4,toastId:e})},t);Xl.set(e,n)},bq=e=>{let{toasts:t,pausedAt:n}=gq(e);V.useEffect(()=>{if(n)return;let s=Date.now(),u=t.map(l=>{if(l.duration===1/0)return;let f=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(f<0){l.visible&&Xt.dismiss(l.id);return}return setTimeout(()=>Xt.dismiss(l.id),f)});return()=>{u.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=V.useCallback(()=>{n&&Rs({type:6,time:Date.now()})},[n]),o=V.useCallback((s,u)=>{let{reverseOrder:l=!1,gutter:f=8,defaultPosition:h}=u||{},p=t.filter(w=>(w.position||h)===(s.position||h)&&w.height),v=p.findIndex(w=>w.id===s.id),g=p.filter((w,T)=>T<v&&w.visible).length;return p.filter(w=>w.visible).slice(...l?[g+1]:[0,g]).reduce((w,T)=>w+(T.height||0)+f,0)},[t]);return V.useEffect(()=>{t.forEach(s=>{if(s.dismissed)Tq(s.id,s.removeDelay);else{let u=Xl.get(s.id);u&&(clearTimeout(u),Xl.delete(s.id))}})},[t]),{toasts:t,handlers:{updateHeight:wq,startPause:Sq,endPause:r,calculateOffset:o}}},Iq=mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kq=mi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xq=mi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Aq=go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Iq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Cq=mi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nq=go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Cq} 1s linear infinite;
`,_q=mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dq=mi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Pq=go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_q} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Rq=go("div")`
  position: absolute;
`,Oq=go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Lq=mi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mq=go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Lq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?V.createElement(Mq,null,t):t:n==="blank"?null:V.createElement(Oq,null,V.createElement(Nq,{...r}),n!=="loading"&&V.createElement(Rq,null,n==="error"?V.createElement(Aq,{...r}):V.createElement(Pq,{...r})))},jq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Fq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Uq="0%{opacity:0;} 100%{opacity:1;}",$q="0%{opacity:1;} 100%{opacity:0;}",Bq=go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qq=go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zq=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=yP()?[Uq,$q]:[jq(n),Fq(n)];return{animation:t?`${mi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kq=V.memo(({toast:e,position:t,style:n,children:r})=>{let o=e.height?zq(e.position||t||"top-center",e.visible):{opacity:0},s=V.createElement(Vq,{toast:e}),u=V.createElement(qq,{...e.ariaProps},Zd(e.message,e));return V.createElement(Bq,{className:e.className,style:{...o,...n,...e.style}},typeof r=="function"?r({icon:s,message:u}):V.createElement(V.Fragment,null,s,u))});hq(V.createElement);var Hq=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let s=V.useCallback(u=>{if(u){let l=()=>{let f=u.getBoundingClientRect().height;r(e,f)};l(),new MutationObserver(l).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return V.createElement("div",{ref:s,className:t,style:n},o)},Wq=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}},Gq=tm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hh=16,Qq=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,containerStyle:s,containerClassName:u})=>{let{toasts:l,handlers:f}=bq(n);return V.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Hh,left:Hh,right:Hh,bottom:Hh,pointerEvents:"none",...s},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},l.map(h=>{let p=h.position||t,v=f.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),g=Wq(p,v);return V.createElement(Hq,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?Gq:"",style:g},h.type==="custom"?Zd(h.message,h):o?o(h):V.createElement(Kq,{toast:h,position:p}))}))},Ic=Xt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ep=function(){return ep=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ep.apply(this,arguments)},SP=function(e){return{loading:e==null,value:e}},Xq=function(){return function(e,t){switch(t.type){case"error":return ep({},e,{error:t.error,loading:!1,value:void 0});case"reset":return SP(t.defaultValue);case"value":return ep({},e,{error:void 0,loading:!1,value:t.value});default:return e}}},Yq=function(e){var t=e?e():void 0,n=V.useReducer(Xq(),SP(t)),r=n[0],o=n[1],s=function(){var f=e?e():void 0;o({type:"reset",defaultValue:f})},u=function(f){o({type:"error",error:f})},l=function(f){o({type:"value",value:f})};return V.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:u,setValue:l,value:r.value}},[r.error,r.loading,s,u,l,r.value])},Jq=function(e){var t=Yq(function(){return e.currentUser}),n=t.error,r=t.loading,o=t.setError,s=t.setValue,u=t.value;V.useEffect(function(){var f=e.onAuthStateChanged(s,o);return function(){f()}},[e]);var l=[u,r,n];return V.useMemo(function(){return l},l)},yw=function(e,t){return yw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},yw(e,t)};function te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ft=function(){return Ft=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ft.apply(this,arguments)};function R(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(v){u(v)}}function f(p){try{h(r.throw(p))}catch(v){u(v)}}function h(p){p.done?s(p.value):o(p.value).then(l,f)}h((r=r.apply(e,t||[])).next())})}function P(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(p){return f([h,p])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,h[0]&&(n=0)),n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function ro(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pa(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function Me(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EP=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Zq=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},ez={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,h=f?e[o+2]:0,p=s>>2,v=(s&3)<<4|l>>4,g=(l&15)<<2|h>>6,w=h&63;f||(w=64,u||(g=64)),r.push(n[p],n[v],n[g],n[w])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(EP(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Zq(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,h=f?n[e.charAt(o)]:64;++o;var p=o<e.length,v=p?n[e.charAt(o)]:64;if(++o,s==null||l==null||h==null||v==null)throw Error();var g=s<<2|l>>4;if(r.push(g),h!==64){var w=l<<4&240|h>>2;if(r.push(w),v!==64){var T=h<<6&192|v;r.push(T)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tz=function(e){var t=EP(e);return ez.encodeByteArray(t,!0)},uA=function(e){return tz(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(e){return kc(void 0,e)}function kc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!rz(r)||(e[r]=kc(e[r],t[r]));return e}function rz(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iz=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Ft({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[uA(JSON.stringify(n)),uA(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Es())}function TP(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function az(){return typeof self=="object"&&self.self===self}function uz(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function lz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cz(){return Es().indexOf("Electron/")>=0}function fz(){var e=Es();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hz(){return Es().indexOf("MSAppHost/")>=0}function dz(){return!TP()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pz="FirebaseError",bP=function(e){te(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=pz,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,tf.prototype.create),s}return t}(Error),tf=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?mz(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",h=new bP(s,f,o);return h},e}();function mz(e,t){return e.replace(vz,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var vz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gz(e,t){var n=new yz(e,t);return n.subscribe.bind(n)}var yz=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wz(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Ky),s.error===void 0&&(s.error=Ky),s.complete===void 0&&(s.complete=Ky);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function wz(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Ky(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){return e&&e._delegate?e._delegate:e}var ku=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sz=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new iz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(Tz(t))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}try{for(var o=ro(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Pa(s.value,2),l=u[0],f=u[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});f.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Yo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Me(Me([],Pa(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Pa(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Yo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Yo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=ro(this.instancesDeferred.entries()),h=f.next();!h.done;h=f.next()){var p=Pa(h.value,2),v=p[0],g=p[1],w=this.normalizeInstanceIdentifier(v);u===w&&g.resolve(l)}}catch(T){n={error:T}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=ro(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ez(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Yo),this.component?this.component.multipleInstances?t:Yo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function Ez(e){return e===Yo?void 0:e}function Tz(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bz=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new Sz(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function sr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo,sS=[],ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ye||(ye={}));var IP={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Iz=ye.INFO,kz=(Wo={},Wo[ye.DEBUG]="log",Wo[ye.VERBOSE]="log",Wo[ye.INFO]="info",Wo[ye.WARN]="warn",Wo[ye.ERROR]="error",Wo),xz=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=kz[t];if(s)console[s].apply(console,sr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},kP=function(){function e(t){this.name=t,this._logLevel=Iz,this._logHandler=xz,this._userLogHandler=null,sS.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ye))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?IP[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,ye.DEBUG],t)),this._logHandler.apply(this,sr([this,ye.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,ye.VERBOSE],t)),this._logHandler.apply(this,sr([this,ye.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,ye.INFO],t)),this._logHandler.apply(this,sr([this,ye.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,ye.WARN],t)),this._logHandler.apply(this,sr([this,ye.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,ye.ERROR],t)),this._logHandler.apply(this,sr([this,ye.ERROR],t))},e}();function Az(e){sS.forEach(function(t){t.setLogLevel(e)})}function Cz(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=IP[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var g=p.map(function(w){if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(function(w){return w}).join(" ");h>=(l??f.logLevel)&&e({level:ye[h].toLowerCase(),message:g,args:p,type:f.name})}},r=0,o=sS;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi,Nz=(Pi={},Pi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pi["bad-app-name"]="Illegal App name: '{$appName}",Pi["duplicate-app"]="Firebase App named '{$appName}' already exists",Pi["app-deleted"]="Firebase App named '{$appName}' already deleted",Pi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pi),ga=new tf("app","Firebase",Nz),xP="@firebase/app",_z="0.6.30",Dz="@firebase/analytics",Pz="@firebase/app-check",Rz="@firebase/auth",Oz="@firebase/database",Lz="@firebase/functions",Mz="@firebase/installations",Vz="@firebase/messaging",jz="@firebase/performance",Fz="@firebase/remote-config",Uz="@firebase/storage",$z="@firebase/firestore",Bz="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,tp="[DEFAULT]",qz=(Ot={},Ot[xP]="fire-core",Ot[Dz]="fire-analytics",Ot[Pz]="fire-app-check",Ot[Rz]="fire-auth",Ot[Oz]="fire-rtdb",Ot[Lz]="fire-fn",Ot[Mz]="fire-iid",Ot[Vz]="fire-fcm",Ot[jz]="fire-perf",Ot[Fz]="fire-rc",Ot[Uz]="fire-gcs",Ot[$z]="fire-fst",Ot["fire-js"]="fire-js",Ot[Bz]="fire-js-all",Ot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=new kP("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wd=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=nz(t),this.container=new bz(n.name),this._addComponent(new ku("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=tp),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=tp),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){eu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ga.create("app-deleted",{appName:this.name_})},e}();wd.prototype.name&&wd.prototype.options||wd.prototype.delete||console.log("dc");var zz="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:h,setLogLevel:Az,onLog:p,apps:null,SDK_VERSION:zz,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(g){delete t[g]}function s(g){if(g=g||tp,!lA(t,g))throw ga.create("no-app",{appName:g});return t[g]}s.App=e;function u(g,w){if(w===void 0&&(w={}),typeof w!="object"||w===null){var T=w;w={name:T}}var I=w;I.name===void 0&&(I.name=tp);var A=I.name;if(typeof A!="string"||!A)throw ga.create("bad-app-name",{appName:String(A)});if(lA(t,A))throw ga.create("duplicate-app",{appName:A});var E=new e(g,I,r);return t[A]=E,E}function l(){return Object.keys(t).map(function(g){return t[g]})}function f(g){var w=g.name;if(n.has(w))return eu.debug("There were multiple attempts to register component "+w+"."),g.type==="PUBLIC"?r[w]:null;if(n.set(w,g),g.type==="PUBLIC"){var T=function(b){if(b===void 0&&(b=s()),typeof b[w]!="function")throw ga.create("invalid-app-argument",{appName:w});return b[w]()};g.serviceProps!==void 0&&kc(T,g.serviceProps),r[w]=T,e.prototype[w]=function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var N=this._getService.bind(this,w);return N.apply(this,g.multipleInstances?b:[])}}for(var I=0,A=Object.keys(t);I<A.length;I++){var E=A[I];t[E]._addComponent(g)}return g.type==="PUBLIC"?r[w]:null}function h(g,w,T){var I,A=(I=qz[g])!==null&&I!==void 0?I:g;T&&(A+="-"+T);var E=A.match(/\s|\//),b=w.match(/\s|\//);if(E||b){var k=['Unable to register library "'+A+'" with version "'+w+'":'];E&&k.push('library name "'+A+'" contains illegal characters (whitespace or "/")'),E&&b&&k.push("and"),b&&k.push('version name "'+w+'" contains illegal characters (whitespace or "/")'),eu.warn(k.join(" "));return}f(new ku(A+"-version",function(){return{library:A,version:w}},"VERSION"))}function p(g,w){if(g!==null&&typeof g!="function")throw ga.create("invalid-log-argument");Cz(g,w)}function v(g,w){if(w==="serverAuth")return null;var T=w;return T}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){var e=Kz(wd);e.INTERNAL=Ft(Ft({},e.INTERNAL),{createFirebaseNamespace:AP,extendNamespace:t,createSubscribe:gz,ErrorFactory:tf,deepExtend:kc});function t(n){kc(e,n)}return e}var aS=AP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hz=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(Wz(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function Wz(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(e,t){e.INTERNAL.registerComponent(new ku("platform-logger",function(n){return new Hz(n)},"PRIVATE")),e.registerVersion(xP,_z,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(az()&&self.firebase!==void 0){eu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var cA=self.firebase.SDK_VERSION;cA&&cA.indexOf("LITE")>=0&&eu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var Qz=aS.initializeApp;aS.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TP()&&eu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),Qz.apply(void 0,e)};var J=aS;Gz(J);var Xz="firebase",CP="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */J.registerVersion(Xz,CP,"app");J.SDK_VERSION=CP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ww=function(e,t){return ww=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ww(e,t)};function Yz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ww(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function NP(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Jz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,uS=uS||{},ue=Jz||self;function np(){}function Sw(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function nm(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Zz(e){return Object.prototype.hasOwnProperty.call(e,Hy)&&e[Hy]||(e[Hy]=++e5)}var Hy="closure_uid_"+(1e9*Math.random()>>>0),e5=0;function t5(e,t,n){return e.call.apply(e.bind,arguments)}function n5(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ct(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=t5:Ct=n5,Ct.apply(null,arguments)}function Wh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Dt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function yo(){this.s=this.s,this.o=this.o}var r5=0;yo.prototype.s=!1;yo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),r5!=0)&&Zz(this)};yo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _P=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},DP=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function i5(e){e:{for(var t=X5,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function fA(e){return Array.prototype.concat.apply([],arguments)}function lS(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function rp(e){return/^[\s\xa0]*$/.test(e)}var hA=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Yt(e,t){return e.indexOf(t)!=-1}function Wy(e,t){return e<t?-1:e>t?1:0}var Jt;e:{var dA=ue.navigator;if(dA){var pA=dA.userAgent;if(pA){Jt=pA;break e}}Jt=""}function cS(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function PP(e){var t={};for(var n in e)t[n]=e[n];return t}var mA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RP(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<mA.length;s++)n=mA[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fS(e){return fS[" "](e),e}fS[" "]=np;function o5(e){var t=u5;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var s5=Yt(Jt,"Opera"),tu=Yt(Jt,"Trident")||Yt(Jt,"MSIE"),OP=Yt(Jt,"Edge"),Ew=OP||tu,LP=Yt(Jt,"Gecko")&&!(Yt(Jt.toLowerCase(),"webkit")&&!Yt(Jt,"Edge"))&&!(Yt(Jt,"Trident")||Yt(Jt,"MSIE"))&&!Yt(Jt,"Edge"),a5=Yt(Jt.toLowerCase(),"webkit")&&!Yt(Jt,"Edge");function MP(){var e=ue.document;return e?e.documentMode:void 0}var ip;e:{var Gy="",Qy=function(){var e=Jt;if(LP)return/rv:([^\);]+)(\)|;)/.exec(e);if(OP)return/Edge\/([\d\.]+)/.exec(e);if(tu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(a5)return/WebKit\/(\S+)/.exec(e);if(s5)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Qy&&(Gy=Qy?Qy[1]:""),tu){var Xy=MP();if(Xy!=null&&Xy>parseFloat(Gy)){ip=String(Xy);break e}}ip=Gy}var u5={};function l5(){return o5(function(){for(var e=0,t=hA(String(ip)).split("."),n=hA("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Wy(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Wy(s[2].length==0,u[2].length==0)||Wy(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Tw;if(ue.document&&tu){var vA=MP();Tw=vA||parseInt(ip,10)||void 0}else Tw=void 0;var c5=Tw,f5=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ue.addEventListener("test",np,t),ue.removeEventListener("test",np,t)}catch{}return e}();function Bt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};function xc(e,t){if(Bt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(LP){e:{try{fS(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:h5[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xc.Z.h.call(this)}}Dt(xc,Bt);var h5={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rm="closure_listenable_"+(1e6*Math.random()|0),d5=0;function p5(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++d5,this.ca=this.fa=!1}function im(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function om(e){this.src=e,this.g={},this.h=0}om.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Iw(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new p5(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function bw(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=_P(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(im(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Iw(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var hS="closure_lm_"+(1e6*Math.random()|0),Yy={};function VP(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)VP(e,t[s],n,r,o);return null}return n=UP(n),e&&e[rm]?e.N(t,n,nm(r)?!!r.capture:!!r,o):m5(e,t,n,!1,r,o)}function m5(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=nm(o)?!!o.capture:!!o,l=pS(e);if(l||(e[hS]=l=new om(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=v5(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)f5||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(FP(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function v5(){function e(n){return t.call(e.src,e.listener,n)}var t=g5;return e}function jP(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)jP(e,t[s],n,r,o);else r=nm(r)?!!r.capture:!!r,n=UP(n),e&&e[rm]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Iw(s,n,r,o),-1<n&&(im(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=pS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Iw(t,n,r,o)),(n=-1<e?t[e]:null)&&dS(n))}function dS(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[rm])bw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(FP(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pS(t))?(bw(n,e),n.h==0&&(n.src=null,t[hS]=null)):im(e)}}}function FP(e){return e in Yy?Yy[e]:Yy[e]="on"+e}function g5(e,t){if(e.ca)e=!0;else{t=new xc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&dS(e),e=n.call(r,t)}return e}function pS(e){return e=e[hS],e instanceof om?e:null}var Jy="__closure_events_fn_"+(1e9*Math.random()>>>0);function UP(e){return typeof e=="function"?e:(e[Jy]||(e[Jy]=function(t){return e.handleEvent(t)}),e[Jy])}function Et(){yo.call(this),this.i=new om(this),this.P=this,this.I=null}Dt(Et,yo);Et.prototype[rm]=!0;Et.prototype.removeEventListener=function(e,t,n,r){jP(this,e,t,n,r)};function Nt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Bt(t,e);else if(t instanceof Bt)t.target=t.target||e;else{var o=t;t=new Bt(r,e),RP(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Gh(u,r,!0,t)&&o}if(u=t.g=e,o=Gh(u,r,!0,t)&&o,o=Gh(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Gh(u,r,!1,t)&&o}Et.prototype.M=function(){if(Et.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)im(n[r]);delete e.g[t],e.h--}}this.I=null};Et.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Et.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Gh(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&bw(e.i,u),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var mS=ue.JSON.stringify;function y5(){var e=BP,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var w5=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=$P.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),$P=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new S5},function(e){return e.reset()}),S5=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function E5(e){ue.setTimeout(function(){throw e},0)}function vS(e,t){kw||T5(),xw||(kw(),xw=!0),BP.add(e,t)}var kw;function T5(){var e=ue.Promise.resolve(void 0);kw=function(){e.then(b5)}}var xw=!1,BP=new w5;function b5(){for(var e;e=y5();){try{e.h.call(e.g)}catch(n){E5(n)}var t=$P;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xw=!1}function sm(e,t){Et.call(this),this.h=e||1,this.g=t||ue,this.j=Ct(this.kb,this),this.l=Date.now()}Dt(sm,Et);G=sm.prototype;G.da=!1;G.S=null;G.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(gS(this),this.start()))}};G.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gS(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}G.M=function(){sm.Z.M.call(this),gS(this),delete this.g};function yS(e,t,n){if(typeof e=="function")n&&(e=Ct(e,n));else if(e&&typeof e.handleEvent=="function")e=Ct(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ue.setTimeout(e,t||0)}function qP(e){e.g=yS(function(){e.g=null,e.i&&(e.i=!1,qP(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var I5=function(e){Yz(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:qP(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(yo);function Ac(e){yo.call(this),this.h=e,this.g={}}Dt(Ac,yo);var gA=[];function zP(e,t,n,r){Array.isArray(n)||(n&&(gA[0]=n.toString()),n=gA);for(var o=0;o<n.length;o++){var s=VP(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function KP(e){cS(e.g,function(t,n){this.g.hasOwnProperty(n)&&dS(t)},e),e.g={}}Ac.prototype.M=function(){Ac.Z.M.call(this),KP(this)};Ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function am(){this.g=!0}am.prototype.Aa=function(){this.g=!1};function k5(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var h=l[f].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");u=2<=v.length&&v[1]=="type"?u+(p+"="+h+"&"):u+(p+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function x5(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Ra(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+C5(e,n)+(r?" "+r:"")})}function A5(e,t){e.info(function(){return"TIMEOUT: "+t})}am.prototype.info=function(){};function C5(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return mS(n)}catch{return t}}var Os={},yA=null;function um(){return yA=yA||new Et}Os.Ma="serverreachability";function HP(e){Bt.call(this,Os.Ma,e)}Dt(HP,Bt);function Cc(e){var t=um();Nt(t,new HP(t))}Os.STAT_EVENT="statevent";function WP(e,t){Bt.call(this,Os.STAT_EVENT,e),this.stat=t}Dt(WP,Bt);function Zt(e){var t=um();Nt(t,new WP(t,e))}Os.Na="timingevent";function GP(e,t){Bt.call(this,Os.Na,e),this.size=t}Dt(GP,Bt);function nf(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){e()},t)}var lm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},QP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wS(){}wS.prototype.h=null;function wA(e){return e.h||(e.h=e.i())}function XP(){}var rf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function SS(){Bt.call(this,"d")}Dt(SS,Bt);function ES(){Bt.call(this,"c")}Dt(ES,Bt);var Aw;function cm(){}Dt(cm,wS);cm.prototype.g=function(){return new XMLHttpRequest};cm.prototype.i=function(){return{}};Aw=new cm;function of(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ac(this),this.P=N5,e=Ew?125:void 0,this.W=new sm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new YP}function YP(){this.i=null,this.g="",this.h=!1}var N5=45e3,Cw={},op={};G=of.prototype;G.setTimeout=function(e){this.P=e};function Nw(e,t,n){e.K=1,e.v=hm(vi(t)),e.s=n,e.U=!0,JP(e,null)}function JP(e,t){e.F=Date.now(),sf(e),e.A=vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),oR(n.h,"t",r),e.C=0,n=e.l.H,e.h=new YP,e.g=kR(e.l,n?t:null,!e.s),0<e.O&&(e.L=new I5(Ct(e.Ia,e,e.g),e.O)),zP(e.V,e.g,"readystatechange",e.gb),t=e.H?PP(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Cc(),k5(e.j,e.u,e.A,e.m,e.X,e.s)}G.gb=function(e){e=e.target;var t=this.L;t&&ni(e)==3?t.l():this.Ia(e)};G.Ia=function(e){try{if(e==this.g)e:{var t=ni(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Ew||this.g&&(this.h.h||this.g.ga()||bA(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Cc(3):Cc(2)),fm(this);var o=this.g.ba();this.N=o;t:if(ZP(this)){var s=bA(this.g);e="";var u=s.length,l=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Yl(this);var f="";break t}this.h.i=new ue.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,x5(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rp(h)){var v=h;break t}}v=null}if(o=v)Ra(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_w(this,o);else{this.i=!1,this.o=3,Zt(12),is(this),Yl(this);break e}}this.U?(eR(this,t,f),Ew&&this.i&&t==3&&(zP(this.V,this.W,"tick",this.fb),this.W.start())):(Ra(this.j,this.m,f,null),_w(this,f)),t==4&&is(this),this.i&&!this.I&&(t==4?ER(this.l,this):(this.i=!1,sf(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),is(this),Yl(this)}}}catch{}finally{}};function ZP(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function eR(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=_5(e,n),o==op){t==4&&(e.o=4,Zt(14),r=!1),Ra(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Cw){e.o=4,Zt(15),Ra(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ra(e.j,e.m,o,null),_w(e,o);ZP(e)&&o!=op&&o!=Cw&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Zt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_S(t),t.L=!0,Zt(11))):(Ra(e.j,e.m,n,"[Invalid Chunked Response]"),is(e),Yl(e))}G.fb=function(){if(this.g){var e=ni(this.g),t=this.g.ga();this.C<t.length&&(fm(this),eR(this,e,t),this.i&&e!=4&&sf(this))}};function _5(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?op:(n=Number(t.substring(n,r)),isNaN(n)?Cw:(r+=1,r+n>t.length?op:(t=t.substr(r,n),e.C=r+n,t)))}G.cancel=function(){this.I=!0,is(this)};function sf(e){e.Y=Date.now()+e.P,tR(e,e.P)}function tR(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=nf(Ct(e.eb,e),t)}function fm(e){e.B&&(ue.clearTimeout(e.B),e.B=null)}G.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(A5(this.j,this.A),this.K!=2&&(Cc(),Zt(17)),is(this),this.o=2,Yl(this)):tR(this,this.Y-e)};function Yl(e){e.l.G==0||e.I||ER(e.l,e)}function is(e){fm(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,gS(e.W),KP(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _w(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Dw(n.i,e))){if(n.I=e.N,!e.J&&Dw(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)lp(n),mm(n);else break e;NS(n),Zt(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=nf(Ct(n.ab,n),6e3));if(1>=uR(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else os(n,11)}else if((e.J||n.g==e)&&lp(n),!rp(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(Yt(p,"spdy")||Yt(p,"quic")||Yt(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(IS(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,je(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var w=e;if(r.oa=IR(r,r.H?r.la:null,r.W),w.J){lR(r.i,w);var T=w,I=r.K;I&&T.setTimeout(I),T.B&&(fm(T),sf(T)),r.g=w}else wR(r);0<n.l.length&&vm(n)}else s[0]!="stop"&&s[0]!="close"||os(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?os(n,7):CS(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Cc(4)}catch{}}function D5(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Sw(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function TS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Sw(e)||typeof e=="string")DP(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Sw(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=D5(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function xu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}G=xu.prototype;G.R=function(){bS(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};G.T=function(){return bS(this),this.g.concat()};function bS(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ts(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Ts(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}G.get=function(e,t){return Ts(this.h,e)?this.h[e]:t};G.set=function(e,t){Ts(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};G.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Ts(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var nR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function P5(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function bs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof bs){this.g=t!==void 0?t:e.g,sp(this,e.j),this.s=e.s,ap(this,e.i),up(this,e.m),this.l=e.l,t=e.h;var n=new Nc;n.i=t.i,t.g&&(n.g=new xu(t.g),n.h=t.h),SA(this,n),this.o=e.o}else e&&(n=String(e).match(nR))?(this.g=!!t,sp(this,n[1]||"",!0),this.s=Jl(n[2]||""),ap(this,n[3]||"",!0),up(this,n[4]),this.l=Jl(n[5]||"",!0),SA(this,n[6]||"",!0),this.o=Jl(n[7]||"")):(this.g=!!t,this.h=new Nc(null,this.g))}bs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ml(t,EA,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ml(t,EA,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ml(n,n.charAt(0)=="/"?V5:M5,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ml(n,F5)),e.join("")};function vi(e){return new bs(e)}function sp(e,t,n){e.j=n?Jl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ap(e,t,n){e.i=n?Jl(t,!0):t}function up(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function SA(e,t,n){t instanceof Nc?(e.h=t,U5(e.h,e.g)):(n||(t=Ml(t,j5)),e.h=new Nc(t,e.g))}function je(e,t,n){e.h.set(t,n)}function hm(e){return je(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function R5(e){return e instanceof bs?vi(e):new bs(e,void 0)}function O5(e,t,n,r){var o=new bs(null,void 0);return e&&sp(o,e),t&&ap(o,t),n&&up(o,n),r&&(o.l=r),o}function Jl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ml(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,L5),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function L5(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var EA=/[#\/\?@]/g,M5=/[#\?:]/g,V5=/[#\?]/g,j5=/[#\?@]/g,F5=/#/g;function Nc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wo(e){e.g||(e.g=new xu,e.h=0,e.i&&P5(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}G=Nc.prototype;G.add=function(e,t){wo(this),this.i=null,e=Au(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function rR(e,t){wo(e),t=Au(e,t),Ts(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Ts(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&bS(e)))}function iR(e,t){return wo(e),t=Au(e,t),Ts(e.g.h,t)}G.forEach=function(e,t){wo(this),this.g.forEach(function(n,r){DP(n,function(o){e.call(t,o,r,this)},this)},this)};G.T=function(){wo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};G.R=function(e){wo(this);var t=[];if(typeof e=="string")iR(this,e)&&(t=fA(t,this.g.get(Au(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=fA(t,e[n])}return t};G.set=function(e,t){return wo(this),this.i=null,e=Au(this,e),iR(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};G.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function oR(e,t,n){rR(e,t),0<n.length&&(e.i=null,e.g.set(Au(e,t),lS(n)),e.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function Au(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function U5(e,t){t&&!e.j&&(wo(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(rR(this,r),oR(this,o,n))},e)),e.j=t}var $5=function(){function e(t,n){this.h=t,this.g=n}return e}();function sR(e){this.l=e||B5,ue.PerformanceNavigationTiming?(e=ue.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ue.g&&ue.g.Ea&&ue.g.Ea()&&ue.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var B5=10;function aR(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function uR(e){return e.h?1:e.g?e.g.size:0}function Dw(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function IS(e,t){e.g?e.g.add(t):e.h=t}function lR(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}sR.prototype.cancel=function(){var e,t;if(this.i=cR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=NP(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function cR(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=NP(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return lS(e.i)}function kS(){}kS.prototype.stringify=function(e){return ue.JSON.stringify(e,void 0)};kS.prototype.parse=function(e){return ue.JSON.parse(e,void 0)};function q5(){this.g=new kS}function z5(e,t,n){var r=n||"";try{TS(e,function(o,s){var u=o;nm(o)&&(u=mS(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function K5(e,t){var n=new am;if(ue.Image){var r=new Image;r.onload=Wh(Qh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wh(Qh,n,r,"TestLoadImage: error",!1,t),r.onabort=Wh(Qh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wh(Qh,n,r,"TestLoadImage: timeout",!1,t),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Qh(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function af(e){this.l=e.$b||null,this.j=e.ib||!1}Dt(af,wS);af.prototype.g=function(){return new dm(this.l,this.j)};af.prototype.i=function(e){return function(){return e}}({});function dm(e,t){Et.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(dm,Et);var xS=0;G=dm.prototype;G.open=function(e,t){if(this.readyState!=xS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_c(this)};G.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ue).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uf(this)),this.readyState=xS};G.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fR(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function fR(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}G.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uf(this):_c(this),this.readyState==3&&fR(this)}};G.Ua=function(e){this.g&&(this.response=this.responseText=e,uf(this))};G.Ta=function(e){this.g&&(this.response=e,uf(this))};G.ha=function(){this.g&&uf(this)};function uf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_c(e)}G.setRequestHeader=function(e,t){this.v.append(e,t)};G.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function _c(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(dm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var H5=ue.JSON.parse;function lt(e){Et.call(this),this.headers=new xu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hR,this.K=this.L=!1}Dt(lt,Et);var hR="",W5=/^https?$/i,G5=["POST","PUT"];G=lt.prototype;G.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Aw.g(),this.C=this.u?wA(this.u):wA(Aw),this.g.onreadystatechange=Ct(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){TA(this,s);return}e=n||"";var o=new xu(this.headers);r&&TS(r,function(s,u){o.set(u,s)}),r=i5(o.T()),n=ue.FormData&&e instanceof ue.FormData,!(0<=_P(G5,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mR(this),0<this.B&&((this.K=Q5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.pa,this)):this.A=yS(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){TA(this,s)}};function Q5(e){return tu&&l5()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function X5(e){return e.toLowerCase()=="content-type"}G.pa=function(){typeof uS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function TA(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dR(e),pm(e)}function dR(e){e.D||(e.D=!0,Nt(e,"complete"),Nt(e,"error"))}G.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nt(this,"complete"),Nt(this,"abort"),pm(this))};G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pm(this,!0)),lt.Z.M.call(this)};G.Fa=function(){this.s||(this.F||this.v||this.l?pR(this):this.cb())};G.cb=function(){pR(this)};function pR(e){if(e.h&&typeof uS<"u"&&(!e.C[1]||ni(e)!=4||e.ba()!=2)){if(e.v&&ni(e)==4)yS(e.Fa,0,e);else if(Nt(e,"readystatechange"),ni(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(nR)[1]||null;if(!s&&ue.self&&ue.self.location){var u=ue.self.location.protocol;s=u.substr(0,u.length-1)}o=!W5.test(s?s.toLowerCase():"")}r=o}if(r)Nt(e,"complete"),Nt(e,"success");else{e.m=6;try{var l=2<ni(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",dR(e)}}finally{pm(e)}}}}function pm(e,t){if(e.g){mR(e);var n=e.g,r=e.C[0]?np:null;e.g=null,e.C=null,t||Nt(e,"ready");try{n.onreadystatechange=r}catch{}}}function mR(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ue.clearTimeout(e.A),e.A=null)}function ni(e){return e.g?e.g.readyState:0}G.ba=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}};G.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),H5(t)}};function bA(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case hR:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}G.Da=function(){return this.m};G.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Y5(e){var t="";return cS(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function AS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Y5(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):je(e,t,n))}function Nl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vR(e){this.za=0,this.l=[],this.h=new am,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nl("baseRetryDelayMs",5e3,e),this.$a=Nl("retryDelaySeedMs",1e4,e),this.Ya=Nl("forwardChannelMaxRetries",2,e),this.ra=Nl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sR(e&&e.concurrentRequestLimit),this.Ca=new q5,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}G=vR.prototype;G.ma=8;G.G=1;function CS(e){if(gR(e),e.G==3){var t=e.V++,n=vi(e.F);je(n,"SID",e.J),je(n,"RID",t),je(n,"TYPE","terminate"),lf(e,n),t=new of(e,e.h,t,void 0),t.K=2,t.v=hm(vi(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(t.v.toString(),"")),!n&&ue.Image&&(new Image().src=t.v,n=!0),n||(t.g=kR(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sf(t)}bR(e)}G.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function mm(e){e.g&&(_S(e),e.g.cancel(),e.g=null)}function gR(e){mm(e),e.u&&(ue.clearTimeout(e.u),e.u=null),lp(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ue.clearTimeout(e.m),e.m=null)}function Zy(e,t){e.l.push(new $5(e.Za++,t)),e.G==3&&vm(e)}function vm(e){aR(e.i)||e.m||(e.m=!0,vS(e.Ha,e),e.C=0)}function J5(e,t){return uR(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=nf(Ct(e.Ha,e,t),TR(e,e.C)),e.C++,!0)}G.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new of(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=PP(n),RP(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=yR(this,t,r),o=vi(this.F),je(o,"RID",e),je(o,"CVER",22),this.D&&je(o,"X-HTTP-Session-Id",this.D),lf(this,o),this.o&&n&&AS(o,this.o,n),IS(this.i,t),this.Ra&&je(o,"TYPE","init"),this.ja?(je(o,"$req",r),je(o,"SID","null"),t.$=!0,Nw(t,o,null)):Nw(t,o,r),this.G=2}}else this.G==3&&(e?IA(this,e):this.l.length==0||aR(this.i)||IA(this))};function IA(e,t){var n;t?n=t.m:n=e.V++;var r=vi(e.F);je(r,"SID",e.J),je(r,"RID",n),je(r,"AID",e.U),lf(e,r),e.o&&e.s&&AS(r,e.o,e.s),n=new of(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=yR(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),IS(e.i,n),Nw(n,r,t)}function lf(e,t){e.j&&TS({},function(n,r){je(t,r,n)})}function yR(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ct(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var h=o[f].h,p=o[f].g;if(h-=s,0>h)s=Math.max(0,o[f].h-100),l=!1;else try{z5(p,u,"req"+h+"_")}catch{r&&r(p)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function wR(e){e.g||e.u||(e.Y=1,vS(e.Ga,e),e.A=0)}function NS(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=nf(Ct(e.Ga,e),TR(e,e.A)),e.A++,!0)}G.Ga=function(){if(this.u=null,SR(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nf(Ct(this.bb,this),e)}};G.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zt(10),mm(this),SR(this))};function _S(e){e.B!=null&&(ue.clearTimeout(e.B),e.B=null)}function SR(e){e.g=new of(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=vi(e.oa);je(t,"RID","rpc"),je(t,"SID",e.J),je(t,"CI",e.N?"0":"1"),je(t,"AID",e.U),lf(e,t),je(t,"TYPE","xmlhttp"),e.o&&e.s&&AS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hm(vi(t)),n.s=null,n.U=!0,JP(n,e)}G.ab=function(){this.v!=null&&(this.v=null,mm(this),NS(this),Zt(19))};function lp(e){e.v!=null&&(ue.clearTimeout(e.v),e.v=null)}function ER(e,t){var n=null;if(e.g==t){lp(e),_S(e),e.g=null;var r=2}else if(Dw(e.i,t))n=t.D,lR(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=um(),Nt(r,new GP(r,n)),vm(e)}else wR(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&J5(e,t)||r==2&&NS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:os(e,5);break;case 4:os(e,10);break;case 3:os(e,6);break;default:os(e,2)}}}function TR(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function os(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Ct(e.jb,e);n||(n=new bs("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||sp(n,"https"),hm(n)),K5(n.toString(),r)}else Zt(2);e.G=0,e.j&&e.j.va(t),bR(e),gR(e)}G.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Zt(2)):(this.h.info("Failed to ping google.com"),Zt(1))};function bR(e){e.G=0,e.I=-1,e.j&&((cR(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,lS(e.l),e.l.length=0),e.j.ua())}function IR(e,t,n){var r=R5(n);if(r.i!="")t&&ap(r,t+"."+r.i),up(r,r.m);else{var o=ue.location;r=O5(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&cS(e.aa,function(s,u){je(r,u,s)}),t=e.D,n=e.sa,t&&n&&je(r,t,n),je(r,"VER",e.ma),lf(e,r),r}function kR(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new lt(new af({ib:!0})):new lt(e.qa),t.L=e.H,t}function xR(){}G=xR.prototype;G.xa=function(){};G.wa=function(){};G.va=function(){};G.ua=function(){};G.Oa=function(){};function cp(){if(tu&&!(10<=Number(c5)))throw Error("Environmental error: no available transport.")}cp.prototype.g=function(e,t){return new Ln(e,t)};function Ln(e,t){Et.call(this),this.g=new vR(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!rp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rp(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cu(this)}Dt(Ln,Et);Ln.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),vS(Ct(e.hb,e,t))),Zt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=IR(e,null,e.W),vm(e)};Ln.prototype.close=function(){CS(this.g)};Ln.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Zy(this.g,t)}else this.v?(t={},t.__data__=mS(e),Zy(this.g,t)):Zy(this.g,e)};Ln.prototype.M=function(){this.g.j=null,delete this.j,CS(this.g),delete this.g,Ln.Z.M.call(this)};function AR(e){SS.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Dt(AR,SS);function CR(){ES.call(this),this.status=1}Dt(CR,ES);function Cu(e){this.g=e}Dt(Cu,xR);Cu.prototype.xa=function(){Nt(this.g,"a")};Cu.prototype.wa=function(e){Nt(this.g,new AR(e))};Cu.prototype.va=function(e){Nt(this.g,new CR)};Cu.prototype.ua=function(){Nt(this.g,"b")};cp.prototype.createWebChannel=cp.prototype.g;Ln.prototype.send=Ln.prototype.u;Ln.prototype.open=Ln.prototype.m;Ln.prototype.close=Ln.prototype.close;lm.NO_ERROR=0;lm.TIMEOUT=8;lm.HTTP_ERROR=6;QP.COMPLETE="complete";XP.EventType=rf;rf.OPEN="a";rf.CLOSE="b";rf.ERROR="c";rf.MESSAGE="d";Et.prototype.listen=Et.prototype.N;lt.prototype.listenOnce=lt.prototype.O;lt.prototype.getLastError=lt.prototype.La;lt.prototype.getLastErrorCode=lt.prototype.Da;lt.prototype.getStatus=lt.prototype.ba;lt.prototype.getResponseJson=lt.prototype.Qa;lt.prototype.getResponseText=lt.prototype.ga;lt.prototype.send=lt.prototype.ea;var Z5=function(){return new cp},e6=function(){return um()},e0=lm,t6=QP,n6=Os,kA={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},r6=af,Xh=XP,i6=lt,o6={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Nn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return te(t,e),t}(Error),dr=new kP("@firebase/firestore");function Pw(){return dr.logLevel}function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dr.logLevel<=ye.DEBUG){var r=t.map(DS);dr.debug.apply(dr,Me(["Firestore (8.10.1): "+e],r))}}function at(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dr.logLevel<=ye.ERROR){var r=t.map(DS);dr.error.apply(dr,Me(["Firestore (8.10.1): "+e],r))}}function fp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(dr.logLevel<=ye.WARN){var r=t.map(DS);dr.warn.apply(dr,Me(["Firestore (8.10.1): "+e],r))}}function DS(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw at(t),new Error(t)}function se(e,t){e||Y()}function H(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NR=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=s6(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function pe(e,t){return e<t?-1:e>t?1:0}function nu(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function _R(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?pe(this.nanoseconds,t.nanoseconds):pe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ce=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new gn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ls(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function DR(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PR=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),we=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(PR),a6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return a6.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=h,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(PR),ru=function(){function e(t){this.fields=t,t.sort(gr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return nu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),yn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return pe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();yn.EMPTY_BYTE_STRING=new yn("");var u6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(e){if(se(!!e),typeof e=="string"){var t=0,n=u6.exec(e);if(se(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:ot(e.seconds),nanos:ot(e.nanos)}}function ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function iu(e){return typeof e=="string"?yn.fromBase64String(e):yn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RR(e){var t=e.mapValue.fields.__previous_value__;return PS(t)?RR(t):t}function Dc(e){var t=lo(e.mapValue.fields.__local_write_time__.timestampValue);return new gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e){return e==null}function hp(e){return e===0&&1/e==-1/0}function OR(e){return typeof e=="number"&&Number.isInteger(e)&&!hp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(we.fromString(t))},e.fromName=function(t){return new e(we.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&we.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return we.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new we(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?PS(e)?4:10:Y()}function jr(e,t){var n=Is(e);if(n!==Is(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dc(e).isEqual(Dc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=lo(r.timestampValue),u=lo(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return iu(r.bytesValue).isEqual(iu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return ot(r.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ot(r.integerValue)===ot(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=ot(r.doubleValue),u=ot(o.doubleValue);return s===u?hp(s)===hp(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return nu(e.arrayValue.values||[],t.arrayValue.values||[],jr);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(xA(s)!==xA(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!jr(s[l],u[l])))return!1;return!0}(e,t);default:return Y()}}function Pc(e,t){return(e.values||[]).find(function(n){return jr(n,t)})!==void 0}function ou(e,t){var n=Is(e),r=Is(t);if(n!==r)return pe(n,r);switch(n){case 0:return 0;case 1:return pe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=ot(o.integerValue||o.doubleValue),l=ot(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return AA(e.timestampValue,t.timestampValue);case 4:return AA(Dc(e),Dc(t));case 5:return pe(e.stringValue,t.stringValue);case 6:return function(o,s){var u=iu(o),l=iu(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var h=pe(u[f],l[f]);if(h!==0)return h}return pe(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=pe(ot(o.latitude),ot(s.latitude));return u!==0?u:pe(ot(o.longitude),ot(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var h=ou(u[f],l[f]);if(h)return h}return pe(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},h=Object.keys(f);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=pe(l[p],h[p]);if(v!==0)return v;var g=ou(u[l[p]],f[h[p]]);if(g!==0)return g}return pe(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Y()}}function AA(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pe(e,t);var n=lo(e),r=lo(t),o=pe(n.seconds,r.seconds);return o!==0?o:pe(n.nanos,r.nanos)}function RS(e){return Rw(e)}function Rw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=lo(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?iu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Z.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=Rw(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+Rw(r.fields[f])}return o+"}"}(e.mapValue):Y();var t,n}function dp(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ow(e){return!!e&&"integerValue"in e}function OS(e){return!!e&&"arrayValue"in e}function CA(e){return!!e&&"nullValue"in e}function NA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sd(e){return!!e&&"mapValue"in e}function Zl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ls(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Zl(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Zl(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Sd(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(n)},e.prototype.setAll=function(t){var n=this,r=gr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var h=n.getFieldsMap(r);n.applyChanges(h,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Zl(l):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];Sd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ls(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Zl(this.value))},e}();function LR(e){var t=[];return Ls(e.fields,function(n,r){var o=new gr([n]);if(Sd(r)){var s=LR(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new ru(t)}var zt=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ce.min(),An.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,An.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,An.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),l6=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new l6(e,t,n,r,o,s,u)}function cf(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+RS(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),Ms(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=mp(t.startAt)),t.endAt&&(n+="|ub:",n+=mp(t.endAt)),t.h=n}return t.h}function gm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!g6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!jr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!PA(e.startAt,t.startAt)&&PA(e.endAt,t.endAt)}function pp(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var _n=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return te(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new c6(n,r,o):r==="array-contains"?new d6(n,o):r==="in"?new p6(n,o):r==="not-in"?new m6(n,o):r==="array-contains-any"?new v6(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new f6(n,o):new h6(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ou(r,this.value)):r!==null&&Is(this.value)===Is(r)&&this.m(ou(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Y()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),c6=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Z.fromName(o.referenceValue),s}return te(t,e),t.prototype.matches=function(n){var r=Z.comparator(n.key,this.key);return this.m(r)},t}(_n),f6=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=MR("in",r),o}return te(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(_n),h6=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=MR("not-in",r),o}return te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(_n);function MR(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Z.fromName(r.referenceValue)})}var d6=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return OS(r)&&Pc(r.arrayValue,this.value)},t}(_n),p6=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Pc(this.value.arrayValue,r)},t}(_n),m6=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return te(t,e),t.prototype.matches=function(n){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Pc(this.value.arrayValue,r)},t}(_n),v6=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return te(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!OS(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Pc(r.value.arrayValue,s)})},t}(_n),Rc=function(e,t){this.position=e,this.before=t};function mp(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return RS(t)}).join(",")}var Ha=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function g6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function DA(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Z.comparator(Z.fromName(u.referenceValue),n.key):ou(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function PA(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function VR(e,t,n,r,o,s,u,l){return new Si(e,t,n,r,o,s,u,l)}function ff(e){return new Si(e)}function Ed(e){return!Ms(e.limit)&&e.limitType==="F"}function vp(e){return!Ms(e.limit)&&e.limitType==="L"}function LS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function MS(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function VS(e){return e.collectionGroup!==null}function su(e){var t=H(e);if(t.p===null){t.p=[];var n=MS(t),r=LS(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ha(n)),t.p.push(new Ha(gr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ha(gr.keyField(),f))}}}return t.p}function Fr(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=_A(t.path,t.collectionGroup,su(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=su(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Ha(s.field,u))}var l=t.endAt?new Rc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Rc(t.startAt.position,!t.startAt.before):null;t.T=_A(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function jR(e,t,n){return new Si(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hf(e,t){return gm(Fr(e),Fr(t))&&e.limitType===t.limitType}function FR(e){return cf(Fr(e))+"|lt:"+e.limitType}function Lw(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+RS(o.value);var o}).join(", ")+"]"),Ms(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+mp(t.startAt)),t.endAt&&(n+=", endAt: "+mp(t.endAt)),"Target("+n+")"}(Fr(e))+"; limitType="+e.limitType+")"}function df(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Z.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!DA(n.startAt,su(n),r))&&(!n.endAt||!DA(n.endAt,su(n),r))}(e,t)}function UR(e){return function(t,n){for(var r=!1,o=0,s=su(e);o<s.length;o++){var u=s[o],l=y6(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function y6(e,t,n){var r=e.field.isKeyField()?Z.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?ou(l,f):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(t)?"-0":t}}function BR(e){return{integerValue:""+e}}function qR(e,t){return OR(t)?BR(t):$R(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ym=function(){this._=void 0};function w6(e,t,n){return e instanceof au?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof ks?KR(e,t):e instanceof xs?HR(e,t):function(r,o){var s=zR(r,o),u=RA(s)+RA(r.A);return Ow(s)&&Ow(r.A)?BR(u):$R(r.R,u)}(e,t)}function S6(e,t,n){return e instanceof ks?KR(e,t):e instanceof xs?HR(e,t):n}function zR(e,t){return e instanceof uu?Ow(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var au=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t}(ym),ks=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return te(t,e),t}(ym);function KR(e,t){for(var n=WR(t),r=function(u){n.some(function(l){return jr(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var xs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return te(t,e),t}(ym);function HR(e,t){for(var n=WR(t),r=function(u){n=n.filter(function(l){return!jr(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var uu=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return te(t,e),t}(ym);function RA(e){return ot(e.integerValue||e.doubleValue)}function WR(e){return OS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pf=function(e,t){this.field=e,this.transform=t},E6=function(e,t){this.version=e,this.transformResults=t},Ut=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Td(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var wm=function(){};function T6(e,t,n){e instanceof mf?function(r,o,s){var u=r.value.clone(),l=MA(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof So?function(r,o,s){if(Td(r.precondition,o)){var u=MA(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(GR(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Mw(e,t,n){e instanceof mf?function(r,o,s){if(Td(r.precondition,o)){var u=r.value.clone(),l=VA(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(LA(o),u).setHasLocalMutations()}}(e,t,n):e instanceof So?function(r,o,s){if(Td(r.precondition,o)){var u=VA(r.fieldTransforms,s,o),l=o.data;l.setAll(GR(r)),l.setAll(u),o.convertToFoundDocument(LA(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){Td(r.precondition,o)&&o.convertToNoDocument(ce.min())}(e,t)}function b6(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=zR(s.transform,u||null);l!=null&&(n==null&&(n=An.empty()),n.set(s.field,l))}return n||null}function OA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&nu(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,h){return f instanceof ks&&h instanceof ks||f instanceof xs&&h instanceof xs?nu(f.elements,h.elements,jr):f instanceof uu&&h instanceof uu?jr(f.A,h.A):f instanceof au&&h instanceof au}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function LA(e){return e.isFoundDocument()?e.version:ce.min()}var mf=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return te(t,e),t}(wm),So=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return te(t,e),t}(wm);function GR(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function MA(e,t,n){var r=new Map;se(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,S6(u,l,n[o]))}return r}function VA(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);r.set(u.field,w6(l,f,t))}return r}var it,me,vf=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return te(t,e),t}(wm),jS=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return te(t,e),t}(wm),I6=function(e){this.count=e};function QR(e){switch(e){case O.OK:return Y();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Y()}}function XR(e){if(e===void 0)return at("GRPC error has no .code"),O.UNKNOWN;switch(e){case it.OK:return O.OK;case it.CANCELLED:return O.CANCELLED;case it.UNKNOWN:return O.UNKNOWN;case it.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case it.INTERNAL:return O.INTERNAL;case it.UNAVAILABLE:return O.UNAVAILABLE;case it.UNAUTHENTICATED:return O.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case it.NOT_FOUND:return O.NOT_FOUND;case it.ALREADY_EXISTS:return O.ALREADY_EXISTS;case it.PERMISSION_DENIED:return O.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case it.ABORTED:return O.ABORTED;case it.OUT_OF_RANGE:return O.OUT_OF_RANGE;case it.UNIMPLEMENTED:return O.UNIMPLEMENTED;case it.DATA_LOSS:return O.DATA_LOSS;default:return Y()}}(me=it||(it={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=function(){function e(t,n){this.comparator=t,this.root=n||qi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Yh(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Yh(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Yh(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Yh(this.root,t,this.comparator,!0)},e}(),Yh=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),qi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();var t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)},e}();qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Y()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new qi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt=function(){function e(t){this.comparator=t,this.data=new Kt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new jA(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new jA(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),jA=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),k6=new Kt(Z.comparator);function pr(){return k6}var x6=new Kt(Z.comparator);function Vw(){return x6}var A6=new Kt(Z.comparator);function C6(){return A6}var N6=new vt(Z.comparator);function Ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=N6,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var _6=new vt(pe);function Sm(){return _6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FS=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,US.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ce.min(),r,Sm(),pr(),Ae())},e}(),US=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(yn.EMPTY_BYTE_STRING,n,Ae(),Ae(),Ae())},e}(),bd=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},YR=function(e,t){this.targetId=e,this.V=t},JR=function(e,t,n,r){n===void 0&&(n=yn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},FA=function(){function e(){this.S=0,this.D=$A(),this.C=yn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Ae(),n=Ae(),r=Ae();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Y()}}),new US(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=$A()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),D6=function(){function e(t){this.W=t,this.G=new Map,this.H=pr(),this.J=UA(),this.Y=new vt(pe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Y()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(pp(s))if(r===0){var u=new Z(s.path);this.tt(n,u,zt.newNoDocument(u,ce.min()))}else se(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&pp(f.target)){var h=new Z(f.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,zt.newNoDocument(h,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=Ae();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new FS(t,r,this.Y,this.H,o);return this.H=pr(),this.J=UA(),this.Y=new vt(pe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new FA,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new vt(pe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||K("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new FA),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function UA(){return new Kt(Z.comparator)}function $A(){return new Kt(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P6={asc:"ASCENDING",desc:"DESCENDING"},R6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O6=function(e,t){this.databaseId=e,this.I=t};function Oc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZR(e,t){return e.I?t.toBase64():t.toUint8Array()}function L6(e,t){return Oc(e,t.toTimestamp())}function en(e){return se(!!e),ce.fromTimestamp(function(t){var n=lo(t);return new gn(n.seconds,n.nanos)}(e))}function $S(e,t){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function eO(e){var t=we.fromString(e);return se(aO(t)),t}function Lc(e,t){return $S(e.databaseId,t.path)}function oi(e,t){var n=eO(t);if(n.get(1)!==e.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(nO(n))}function jw(e,t){return $S(e.databaseId,t)}function tO(e){var t=eO(e);return t.length===4?we.emptyPath():nO(t)}function Mc(e){return new we(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nO(e){return se(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function BA(e,t,n){return{name:Lc(e,t),fields:n.value.mapValue.fields}}function M6(e,t,n){var r=oi(e,t.name),o=en(t.updateTime),s=new An({mapValue:{fields:t.fields}}),u=zt.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function gp(e,t){var n;if(t instanceof mf)n={update:BA(e,t.key,t.value)};else if(t instanceof vf)n={delete:Lc(e,t.key)};else if(t instanceof So)n={update:BA(e,t.key,t.data),updateMask:$6(t.fieldMask)};else{if(!(t instanceof jS))return Y();n={verify:Lc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof uu)return{fieldPath:s.field.canonicalString(),increment:u.A};throw Y()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:L6(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(e,t.precondition)),n}function qA(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?Ut.updateTime(en(h.updateTime)):h.exists!==void 0?Ut.exists(h.exists):Ut.none()}(t.currentDocument):Ut.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var g=null;if("setToServerValue"in v)se(v.setToServerValue==="REQUEST_TIME"),g=new au;else if("appendMissingElements"in v){var w=v.appendMissingElements.values||[];g=new ks(w)}else if("removeAllFromArray"in v){var T=v.removeAllFromArray.values||[];g=new xs(T)}else"increment"in v?g=new uu(p,v.increment):Y();var I=gr.fromServerFormat(v.fieldPath);return new pf(I,g)}(e,h)}):[];if(t.update){t.update.name;var o=oi(e,t.update.name),s=new An({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(h){var p=h.fieldPaths||[];return new ru(p.map(function(v){return gr.fromServerFormat(v)}))}(t.updateMask);return new So(o,s,u,n,r)}return new mf(o,s,n,r)}if(t.delete){var l=oi(e,t.delete);return new vf(l,n)}if(t.verify){var f=oi(e,t.verify);return new jS(f,n)}return Y()}function rO(e,t){return{documents:[jw(e,t.path)]}}function iO(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=jw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(h){return function(p){if(p.op==="=="){if(NA(p.value))return{unaryFilter:{field:ma(p.field),op:"IS_NAN"}};if(CA(p.value))return{unaryFilter:{field:ma(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(NA(p.value))return{unaryFilter:{field:ma(p.field),op:"IS_NOT_NAN"}};if(CA(p.value))return{unaryFilter:{field:ma(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(p.field),op:j6(p.op),value:p.value}}}(h)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(h){return{field:ma(h.field),direction:V6(h.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||Ms(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=zA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zA(t.endAt)),n}function oO(e){var t=tO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){se(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=sO(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(g){return new Ha(Oa(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var f=null;n.limit&&(f=function(v){var g;return Ms(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=KA(n.startAt));var p=null;return n.endAt&&(p=KA(n.endAt)),VR(t,o,l,u,f,"F",h,p)}function sO(e){return e?e.unaryFilter!==void 0?[U6(e)]:e.fieldFilter!==void 0?[F6(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return sO(t)}).reduce(function(t,n){return t.concat(n)}):Y():[]}function zA(e){return{before:e.before,values:e.position}}function KA(e){var t=!!e.before,n=e.values||[];return new Rc(n,t)}function V6(e){return P6[e]}function j6(e){return R6[e]}function ma(e){return{fieldPath:e.canonicalString()}}function Oa(e){return gr.fromServerFormat(e.fieldPath)}function F6(e){return _n.create(Oa(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}function U6(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Oa(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Oa(e.unaryFilter.field);return _n.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Oa(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Oa(e.unaryFilter.field);return _n.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Y()}}function $6(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function aO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=HA(t)),t=B6(e.get(n),t);return HA(t)}function B6(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function HA(e){return e+""}function ri(e){var t=e.length;if(se(t>=2),t===2)return se(e.charAt(0)===""&&e.charAt(1)===""),we.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&Y(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:Y()}s=u+2}return new we(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q6=function(e,t){this.seconds=e,this.nanoseconds=t},kn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};kn.store="owner",kn.key="owner";var io=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};io.store="mutationQueues",io.keyPath="userId";var _e=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};_e.store="mutations",_e.keyPath="batchId",_e.userMutationsIndex="userMutationsIndex",_e.userMutationsKeyPath=["userId","batchId"];var Vt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,mr(n)]},e.key=function(t,n,r){return[t,mr(n),r]},e}();Vt.store="documentMutations",Vt.PLACEHOLDER=new Vt;var z6=function(e,t){this.path=e,this.readTime=t},K6=function(e,t){this.path=e,this.version=t},Xe=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Xe.store="remoteDocuments",Xe.readTimeIndex="readTimeIndex",Xe.readTimeIndexPath="readTime",Xe.collectionReadTimeIndex="collectionReadTimeIndex",Xe.collectionReadTimeIndexPath=["parentPath","readTime"];var Pr=function(e){this.byteSize=e};Pr.store="remoteDocumentGlobal",Pr.key="remoteDocumentGlobalKey";var dn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};dn.store="targets",dn.keyPath="targetId",dn.queryTargetsIndexName="queryTargetsIndex",dn.queryTargetsKeyPath=["canonicalId","targetId"];var xt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};xt.store="targetDocuments",xt.keyPath=["targetId","path"],xt.documentTargetsIndex="documentTargetsIndex",xt.documentTargetsKeyPath=["path","targetId"];var xn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xn.key="targetGlobalKey",xn.store="targetGlobal";var hs=function(e,t){this.collectionId=e,this.parent=t};hs.store="collectionParents",hs.keyPath=["collectionId","parent"];var si=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};si.store="clientMetadata",si.keyPath="clientId";var lu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};lu.store="bundles",lu.keyPath="bundleId";var cu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};cu.store="namedQueries",cu.keyPath="name";var H6=Me(Me([],Me(Me([],Me(Me([],Me(Me([],[io.store,_e.store,Vt.store,Xe.store,dn.store,kn.store,xn.store,xt.store]),[si.store])),[Pr.store])),[hs.store])),[lu.store,cu.store]),uO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lO=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),wn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},B=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),cO=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new wn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new ec(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=BS(o.target.error);r.ft.reject(new ec(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new ec(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(K("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new G6(n)},e}(),fu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Es())===12.2&&at("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return K("SimpleDb","Removing database:",t),es(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Es(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=o6)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return P(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(K("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var h=f.target.result;s(h)},l.onblocked=function(){u(new ec(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var h=f.target.error;h.name==="VersionError"?u(new $(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new ec(t,h))},l.onupgradeneeded=function(f){K("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var h=f.target.result;r.wt.Rt(h,l.transaction,f.oldVersion,r.version).next(function(){K("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return R(this,void 0,void 0,function(){var s,u,l,f,h;return P(this,function(p){switch(p.label){case 0:s=n==="readonly",u=0,l=function(){var v,g,w,T,I;return P(this,function(A){switch(A.label){case 0:++u,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=A.sent(),v=cO.open(f.db,t,s?"readonly":"readwrite",r),g=o(v).catch(function(E){return v.abort(E),B.reject(E)}).toPromise(),w={},g.catch(function(){}),[4,v.dt];case 3:return[2,(w.value=(A.sent(),g),w)];case 4:return T=A.sent(),I=T.name!=="FirebaseError"&&u<3,K("SimpleDb","Transaction failed with error:",T.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(T)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),W6=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return es(this.Pt.delete())},e}(),ec=function(e){function t(n,r){var o=this;return(o=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return te(t,e),t}($);function Vs(e){return e.name==="IndexedDbTransactionError"}var G6=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),es(r)},e.prototype.add=function(t){return K("SimpleDb","ADD",this.store.name,t,t),es(this.store.add(t))},e.prototype.get=function(t){var n=this;return es(this.store.get(t)).next(function(r){return r===void 0&&(r=null),K("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return K("SimpleDb","DELETE",this.store.name,t),es(this.store.delete(t))},e.prototype.count=function(){return K("SimpleDb","COUNT",this.store.name),es(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){K("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new B(function(r,o){n.onerror=function(s){var u=BS(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new B(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new W6(l),h=n(l.primaryKey,l.value,f);if(h instanceof B){var p=h.catch(function(v){return f.done(),B.reject(v)});r.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return B.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function es(e){return new B(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=BS(r.target.error);n(o)}})}var WA=!1;function BS(e){var t=fu._t(Es());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new $("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return WA||(WA=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return te(t,e),t}(lO);function Sn(e,t){var n=H(e);return fu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qS=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&T6(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Mw(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Mw(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(ce.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ae())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&nu(this.mutations,t.mutations,function(n,r){return OA(n,r)})&&nu(this.baseMutations,t.baseMutations,function(n,r){return OA(n,r)})},e}(),Q6=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){se(t.mutations.length===r.length);for(var o=C6(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),Em=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=ce.min()),u===void 0&&(u=ce.min()),l===void 0&&(l=yn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),fO=function(e){this.Lt=e};function Fw(e,t){if(t.document)return M6(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Z.fromSegments(t.noDocument.path),r=du(t.noDocument.readTime),o=zt.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Z.fromSegments(t.unknownDocument.path);return r=du(t.unknownDocument.version),zt.newUnknownDocument(s,r)}return Y()}function QA(e,t,n){var r=zS(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:Lc(v,g.key),fields:g.data.value.mapValue.fields,updateTime:Oc(v,g.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Xe(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=hu(t.version);return u=t.hasCommittedMutations,new Xe(null,new z6(l,f),null,u,r,o)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=hu(t.version);return new Xe(new K6(h,p),null,null,!0,r,o)}return Y()}function zS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hO(e){var t=new gn(e[0],e[1]);return ce.fromTimestamp(t)}function hu(e){var t=e.toTimestamp();return new q6(t.seconds,t.nanoseconds)}function du(e){var t=new gn(e.seconds,e.nanoseconds);return ce.fromTimestamp(t)}function ya(e,t){for(var n=(t.baseMutations||[]).map(function(f){return qA(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return qA(e.Lt,f)}),l=gn.fromMillis(t.localWriteTimeMs);return new qS(t.batchId,l,n,u)}function Vl(e){var t,n,r=du(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?du(e.lastLimboFreeSnapshotVersion):ce.min();return e.query.documents!==void 0?(se((n=e.query).documents.length===1),t=Fr(ff(tO(n.documents[0])))):t=function(s){return Fr(oO(s))}(e.query),new Em(t,e.targetId,0,e.lastListenSequenceNumber,r,o,yn.fromBase64String(e.resumeToken))}function dO(e,t){var n,r=hu(t.snapshotVersion),o=hu(t.lastLimboFreeSnapshotVersion);n=pp(t.target)?rO(e.Lt,t.target):iO(e.Lt,t.target);var s=t.resumeToken.toBase64();return new dn(t.targetId,cf(t.target),r,s,t.sequenceNumber,o,n)}function pO(e){var t=oO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jR(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X6=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return XA(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:du(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return XA(t).put({bundleId:(r=n).id,createTime:hu(en(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return YA(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:pO(o.bundledQuery),readTime:du(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return YA(t).put(function(r){return{name:r.name,readTime:hu(en(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function XA(e){return Sn(e,lu.store)}function YA(e){return Sn(e,cu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y6=function(){function e(){this.Bt=new KS}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),B.resolve()},e.prototype.getCollectionParents=function(t,n){return B.resolve(this.Bt.getEntries(n))},e}(),KS=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new vt(we.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new vt(we.comparator)).toArray()},e}(),J6=function(){function e(){this.qt=new KS}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:mr(s)};return JA(t).put(u)}return B.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[_R(n),""],!1,!0);return JA(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;r.push(ri(f.parent))}return r})},e}();function JA(e){return Sn(e,hs.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_r=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e,t,n){var r=e.store(_e.store),o=e.store(Vt.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:u},function(T,I,A){return l++,A.delete()});s.push(f.next(function(){se(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var g=v[p],w=Vt.key(t,g.key.path,n.batchId);s.push(o.delete(w)),h.push(g.key)}return B.waitFor(s).next(function(){return h})}function yp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Y();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);var Z6=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return se(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).$t({index:_e.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=wa(t),l=Ri(t);return l.add({}).next(function(f){se(typeof f=="number");for(var h=new qS(f,n,r,o),p=function(E,b,k){var N=k.baseMutations.map(function(_){return gp(E.Lt,_)}),D=k.mutations.map(function(_){return gp(E.Lt,_)});return new _e(b,k.batchId,k.localWriteTime.toMillis(),N,D)}(s.R,s.userId,h),v=[],g=new vt(function(E,b){return pe(E.canonicalString(),b.canonicalString())}),w=0,T=o;w<T.length;w++){var I=T[w],A=Vt.key(s.userId,I.key.path,f);g=g.add(I.key.path.popLast()),v.push(l.put(p)),v.push(u.put(A,Vt.PLACEHOLDER))}return g.forEach(function(E){v.push(s.Ut.addToCollectionParentIndex(t,E))}),t.addOnCommittedListener(function(){s.Kt[f]=h.keys()}),B.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ri(t).get(n).next(function(o){return o?(se(o.userId===r.userId),ya(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?B.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Ri(t).$t({index:_e.userMutationsIndex,range:s},function(l,f,h){f.userId===r.userId&&(se(f.batchId>=o),u=ya(r.R,f)),h.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ri(t).$t({index:_e.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).Nt(_e.userMutationsIndex,r).next(function(o){return o.map(function(s){return ya(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=Vt.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return wa(t).$t({range:s},function(l,f,h){var p=l[0],v=l[1],g=l[2],w=ri(v);if(p===r.userId&&n.path.isEqual(w))return Ri(t).get(g).next(function(T){if(!T)throw Y();se(T.userId===r.userId),u.push(ya(r.R,T))});h.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new vt(pe),s=[];return n.forEach(function(u){var l=Vt.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(l),h=wa(t).$t({range:f},function(p,v,g){var w=p[0],T=p[1],I=p[2],A=ri(T);w===r.userId&&u.path.isEqual(A)?o=o.add(I):g.done()});s.push(h)}),B.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=Vt.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new vt(pe);return wa(t).$t({range:l},function(h,p,v){var g=h[0],w=h[1],T=h[2],I=ri(w);g===r.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(T)):v.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Ri(t).get(u).next(function(l){if(l===null)throw Y();se(l.userId===r.userId),o.push(ya(r.R,l))}))}),B.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return mO(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),B.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return B.resolve();var o=IDBKeyRange.lowerBound(Vt.prefixForUser(n.userId)),s=[];return wa(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var h=ri(u[1]);s.push(h)}else f.done()}).next(function(){se(s.length===0)})})},e.prototype.containsKey=function(t,n){return vO(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return gO(t).get(this.userId).next(function(r){return r||new io(n.userId,-1,"")})},e}();function vO(e,t,n){var r=Vt.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return wa(e).$t({range:s,Ft:!0},function(l,f,h){var p=l[0],v=l[1];l[2],p===t&&v===o&&(u=!0),h.done()}).next(function(){return u})}function Ri(e){return Sn(e,_e.store)}function wa(e){return Sn(e,Vt.store)}function gO(e){return Sn(e,io.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wp=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),eK=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new wp(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ce.fromTimestamp(new gn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return va(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return se(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return va(t).$t(function(l,f){var h=Vl(f);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,u.push(o.removeTargetData(t,h)))}).next(function(){return B.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return va(t).$t(function(r,o){var s=Vl(o);n(s)})},e.prototype.Xt=function(t){return eC(t).get(xn.key).next(function(n){return se(n!==null),n})},e.prototype.Zt=function(t,n){return eC(t).put(xn.key,n)},e.prototype.te=function(t,n){return va(t).put(dO(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=cf(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return va(t).$t({range:o,index:dn.queryTargetsIndexName},function(u,l,f){var h=Vl(l);gm(n,h.target)&&(s=h,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=zi(t);return n.forEach(function(l){var f=mr(l.path);s.push(u.put(new xt(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),B.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=zi(t);return B.forEach(n,function(u){var l=mr(u.path);return B.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=zi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=zi(t),s=Ae();return o.$t({range:r,Ft:!0},function(u,l,f){var h=ri(u[1]),p=new Z(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=mr(n.path),o=IDBKeyRange.bound([r],[_R(r)],!1,!0),s=0;return zi(t).$t({index:xt.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var h=u[0];u[1],h!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return va(t).get(n).next(function(r){return r?Vl(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(e){return Sn(e,dn.store)}function eC(e){return Sn(e,xn.store)}function zi(e){return Sn(e,xt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(e){return R(this,void 0,void 0,function(){return P(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==uO)throw e;return K("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=pe(n,o);return u===0?pe(r,s):u}var tK=function(){function e(t){this.ne=t,this.buffer=new vt(tC),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();tC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),nK=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;K("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var o;return P(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Vs(o=s.sent())?(K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,js(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),rK=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return B.resolve(Nn.o);var o=new tK(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(ZA)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),ZA):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,f,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>p.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+g),o=p.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),p.nthSequenceNumber(t,o)}).next(function(g){return r=g,l=Date.now(),p.removeTargets(t,r,n)}).next(function(g){return s=g,f=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),Pw()<=ye.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-v)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+g+" documents in "+(h-f)+`ms
Total Duration: `+(h-v)+"ms"),B.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:g})})},e}(),iK=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new rK(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Jh(t,r)},e.prototype.removeReference=function(t,n,r){return Jh(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Jh(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return gO(r).Ot(function(u){return vO(r,u,o).next(function(l){return l&&(s=!0),B.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var h=r._e(t,l).next(function(p){if(!p)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),zi(t).delete([0,mr(l.path)])})});s.push(h)}}).next(function(){return B.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Jh(t,n)},e.prototype.we=function(t,n){var r,o=zi(t),s=Nn.o;return o.$t({index:xt.documentTargetsIndex},function(u,l){var f=u[0];u[1];var h=l.path,p=l.sequenceNumber;f===0?(s!==Nn.o&&n(new Z(ri(r)),s),s=p,r=h):s=Nn.o}).next(function(){s!==Nn.o&&n(new Z(ri(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Jh(e,t){return zi(e).put(function(n,r){return new xt(0,mr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Ls(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return DR(this.inner)},e}(),yO=function(){function e(){this.changes=new Nu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ce.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:zt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?B.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),oK=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Fi(t).put(Zh(n),r)},e.prototype.removeEntry=function(t,n){var r=Fi(t),o=Zh(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Fi(t).get(Zh(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Fi(t).get(Zh(n)).next(function(o){return{document:r.ye(n,o),size:yp(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=pr();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=pr(),s=new Kt(Z.comparator);return this.pe(t,n,function(u,l){var f=r.ye(u,l);o=o.insert(u,f),s=s.insert(u,yp(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return B.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Fi(t).$t({range:o},function(l,f,h){for(var p=Z.fromSegments(l);u&&Z.comparator(u,p)<0;)r(u,null),u=s.getNext();u&&u.isEqual(p)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?h.Ct(u.path.toArray()):h.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=pr(),u=n.path.length+1,l={};if(r.isEqual(ce.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var h=n.path.toArray(),p=zS(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=Xe.collectionReadTimeIndex}return Fi(t).$t(l,function(v,g,w){if(v.length===u){var T=Fw(o.R,g);n.path.isPrefixOf(T.key.path)?df(n,T)&&(s=s.insert(T.key,T)):w.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new sK(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return nC(t).get(Pr.key).next(function(n){return se(!!n),n})},e.prototype.me=function(t,n){return nC(t).put(Pr.key,n)},e.prototype.ye=function(t,n){if(n){var r=Fw(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ce.min()))return r}return zt.newInvalidDocument(t)},e}(),sK=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Nu(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return te(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new vt(function(l,f){return pe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var h=r.Ae.get(l);if(f.document.isValidDocument()){var p=QA(r.Ie.R,f.document,r.getReadTime(l));u=u.add(l.path.popLast());var v=yp(p);s+=v-h,o.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var g=QA(r.Ie.R,zt.newNoDocument(l,ce.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,g))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),B.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(yO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e){return Sn(e,Pr.store)}function Fi(e){return Sn(e,Xe.store)}function Zh(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aK=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;se(r<o&&r>=0&&o<=11);var u=new cO("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(kn.store)}(t),function(f){f.createObjectStore(io.store,{keyPath:io.keyPath}),f.createObjectStore(_e.store,{keyPath:_e.keyPath,autoIncrement:!0}).createIndex(_e.userMutationsIndex,_e.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Vt.store)}(t),rC(t),function(f){f.createObjectStore(Xe.store)}(t));var l=B.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(xt.store),f.deleteObjectStore(dn.store),f.deleteObjectStore(xn.store)}(t),rC(t)),l=l.next(function(){return function(f){var h=f.store(xn.store),p=new xn(0,0,ce.min().toTimestamp(),0);return h.put(xn.key,p)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,h){return h.store(_e.store).Nt().next(function(p){f.deleteObjectStore(_e.store),f.createObjectStore(_e.store,{keyPath:_e.keyPath,autoIncrement:!0}).createIndex(_e.userMutationsIndex,_e.userMutationsKeyPath,{unique:!0});var v=h.store(_e.store),g=p.map(function(w){return v.put(w)});return B.waitFor(g)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(si.store,{keyPath:si.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Pr.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var h=f.objectStore(Xe.store);h.createIndex(Xe.readTimeIndex,Xe.readTimeIndexPath,{unique:!1}),h.createIndex(Xe.collectionReadTimeIndex,Xe.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(lu.store,{keyPath:lu.keyPath})})(t),function(f){f.createObjectStore(cu.store,{keyPath:cu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Xe.store).$t(function(r,o){n+=yp(o)}).next(function(){var r=new Pr(n);return t.store(Pr.store).put(Pr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(io.store),o=t.store(_e.store);return r.Nt().next(function(s){return B.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(_e.userMutationsIndex,l).next(function(f){return B.forEach(f,function(h){se(h.userId===u.userId);var p=ya(n.R,h);return mO(t,u.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(xt.store),r=t.store(Xe.store);return t.store(xn.store).get(xn.key).next(function(o){var s=[];return r.$t(function(u,l){var f=new we(u),h=function(p){return[0,mr(p)]}(f);s.push(n.get(h).next(function(p){return p?B.resolve():function(v){return n.put(new xt(0,mr(v),o.highestListenSequenceNumber))}(f)}))}).next(function(){return B.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(hs.store,{keyPath:hs.keyPath});var r=n.store(hs.store),o=new KS,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:mr(f)})}};return n.store(Xe.store).$t({Ft:!0},function(u,l){var f=new we(u);return s(f.popLast())}).next(function(){return n.store(Vt.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var h=ri(f);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(dn.store);return r.$t(function(o,s){var u=Vl(s),l=dO(n.R,u);return r.put(l)})},e}();function rC(e){e.createObjectStore(xt.store,{keyPath:xt.keyPath}).createIndex(xt.documentTargetsIndex,xt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.queryTargetsIndexName,dn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xn.store)}var t0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uK=function(){function e(t,n,r,o,s,u,l,f,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new $(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iK(this,o),this.Le=n+"main",this.R=new fO(f),this.Be=new fu(this.Le,11,new aK(this.R)),this.qe=new eK(this.referenceDelegate,this.R),this.Ut=new J6,this.Ue=function(v,g){return new oK(v,g)}(this.R,this.Ut),this.Ke=new X6,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&at("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $(O.FAILED_PRECONDITION,t0);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Nn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return P(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return ed(n).put(new si(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Vs(n))return K("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return _l(t).get(kn.key).next(function(r){return B.resolve(n.tn(r))})},e.prototype.en=function(t){return ed(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,o,s=this;return P(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Sn(l,si.store);return f.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(g){return p.indexOf(g)===-1});return B.forEach(v,function(g){return f.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?B.resolve(!0):_l(t).get(kn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new $(O.FAILED_PRECONDITION,t0);return!1}}return!(!n.networkEnabled||!n.inForeground)||ed(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&K("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return P(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[kn.store,si.store],function(r){var o=new GA(r,Nn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return ed(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return Z6.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;K("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,H6,function(l){return s=new GA(l,o.Ne?o.Ne.next():Nn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw at("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new $(O.FAILED_PRECONDITION,uO);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return _l(t).get(kn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new $(O.FAILED_PRECONDITION,t0)})},e.prototype.Ze=function(t){var n=new kn(this.clientId,this.allowTabSynchronization,Date.now());return _l(t).put(kn.key,n)},e.yt=function(){return fu.yt()},e.prototype.Xe=function(t){var n=this,r=_l(t);return r.get(kn.key).next(function(o){return n.tn(o)?(K("IndexedDbPersistence","Releasing primary lease."),r.delete(kn.key)):B.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(at("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),dz()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return K("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return at("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){at("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function _l(e){return Sn(e,kn.store)}function ed(e){return Sn(e,si.store)}function HS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wO=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):VS(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Z(n)).next(function(r){var o=Vw();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Vw();return this.Ut.getCollectionParents(t,s).next(function(l){return B.forEach(l,function(f){var h=function(p,v){return new Si(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(s));return o.An(t,h,r).next(function(p){p.forEach(function(v,g){u=u.insert(v,g)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],g=0,w=v.mutations;g<w.length;g++){var T=w[g],I=T.key,A=o.get(I);A==null&&(A=zt.newInvalidDocument(I),o=o.insert(I,A)),Mw(T,A,v.localWriteTime),A.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){df(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=Ae(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var h=f[l];h instanceof So&&r.get(h.key)===null&&(o=o.add(h.key))}var p=r;return this.Ue.getEntries(t,o).next(function(v){return v.forEach(function(g,w){w.isFoundDocument()&&(p=p.insert(g,w))}),p})},e}(),lK=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=Ae(),o=Ae(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),SO=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ce.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(Ed(n)||vp(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(Pw()<=ye.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lw(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(h){f=f.insert(h.key,h)}),f}))})},e.prototype.Cn=function(t,n){var r=new vt(UR(t));return n.forEach(function(o,s){df(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Pw()<=ye.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Lw(n)),this.Sn.getDocumentsMatchingQuery(t,n,ce.min())},e}(),cK=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Kt(pe),this.Fn=new Nu(function(s){return cf(s)},gm),this.$n=ce.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new wO(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(e,t,n,r){return new cK(e,t,n,r)}function TO(e,t){return R(this,void 0,void 0,function(){var n,r,o,s;return P(this,function(u){switch(u.label){case 0:return n=H(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(h){return f=h,r=n.persistence.getMutationQueue(t),o=new wO(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],g=Ae(),w=0,T=f;w<T.length;w++){var I=T[w];p.push(I.batchId);for(var A=0,E=I.mutations;A<E.length;A++){var b=E[A];g=g.add(b.key)}}for(var k=0,N=h;k<N.length;k++){var D=N[k];v.push(D.batchId);for(var _=0,U=D.mutations;_<U.length;_++){var L=U[_];g=g.add(L.key)}}return o.pn(l,g).next(function(oe){return{Ln:oe,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function fK(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,h){var p=f.batch,v=p.keys(),g=B.resolve();return v.forEach(function(w){g=g.next(function(){return h.getEntry(l,w)}).next(function(T){var I=f.docVersions.get(w);se(I!==null),T.version.compareTo(I)<0&&(p.applyToRemoteDocument(T,f),T.isValidDocument()&&h.addEntry(T,f.commitVersion))})}),g.next(function(){return u._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function bO(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function hK(e,t){var n=H(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,v){var g=o.get(v);if(g){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var w=p.resumeToken;if(w.approximateByteSize()>0){var T=g.withResumeToken(w,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(v,T),function(I,A,E){return se(A.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,T,p)&&l.push(n.qe.updateTargetData(s,T))}}});var f=pr();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(dK(s,u,t.documentUpdates,r).next(function(p){f=p})),!r.isEqual(ce.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return B.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function dK(e,t,n,r,o){var s=Ae();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=pr();return n.forEach(function(f,h){var p=u.get(f),v=r;h.isNoDocument()&&h.version.isEqual(ce.min())?(t.removeEntry(f,v),l=l.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(f,h)):K("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)}),l})}function pK(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Sp(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,B.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new Em(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function pu(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u;return P(this,function(l){switch(l.label){case 0:r=H(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Vs(u=l.sent()))throw u;return K("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Ep(e,t,n){var r=H(e),o=ce.min(),s=Ae();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,h){var p=H(l),v=p.Fn.get(h);return v!==void 0?B.resolve(p.kn.get(v)):p.qe.getTargetData(f,h)}(r,u,Fr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:ce.min(),n?s:Ae())}).next(function(l){return{documents:l,Bn:s}})})}function IO(e,t){var n=H(e),r=H(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function kO(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=H(r),l=pr(),f=zS(s),h=Fi(o),p=IDBKeyRange.lowerBound(f,!0);return h.$t({index:Xe.readTimeIndex,range:p},function(v,g){var w=Fw(u.R,g);l=l.insert(w.key,w),f=g.readTime}).next(function(){return{wn:l,readTime:hO(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function mK(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Fi(o),u=ce.min();return s.$t({index:Xe.readTimeIndex,reverse:!0},function(l,f,h){f.readTime&&(u=hO(f.readTime)),h.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vK=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return B.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:en(r.createTime)}),B.resolve()},e.prototype.getNamedQuery=function(t,n){return B.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:pO(r.bundledQuery),readTime:en(r.readTime)}}(n)),B.resolve()},e}(),WS=function(){function e(){this.Wn=new vt(yt.Gn),this.zn=new vt(yt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new yt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new yt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Z(new we([])),o=new yt(r,t),s=new yt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Z(new we([])),r=new yt(n,t),o=new yt(n,t+1),s=Ae();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new yt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),yt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Z.comparator(t.key,n.key)||pe(t.ns,n.ns)},e.Hn=function(t,n){return pe(t.ns,n.ns)||Z.comparator(t.key,n.key)},e}(),gK=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new vt(yt.Gn)}return e.prototype.checkEmpty=function(t){return B.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new qS(s,n,r,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var h=f[l];this.rs=this.rs.add(new yt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return B.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return B.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return B.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return B.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return B.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);u.push(f)}),B.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new vt(pe);return n.forEach(function(s){var u=new yt(s,0),l=new yt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),B.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));var u=new yt(new Z(s),0),l=new vt(pe);return this.rs.forEachWhile(function(f){var h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===o&&(l=l.add(f.ns)),!0)},u),B.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;se(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return B.forEach(n.mutations,function(s){var u=new yt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new yt(n,0),o=this.rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,B.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),yK=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Kt(Z.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return B.resolve(r?r.document.clone():zt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=pr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():zt.newInvalidDocument(s))}),B.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=pr(),s=new Z(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(f.path))break;v.compareTo(r)<=0||df(n,p)&&(o=o.insert(p.key,p.clone()))}return B.resolve(o)},e.prototype.fs=function(t,n){return B.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new wK(this)},e.prototype.getSize=function(t){return B.resolve(this.size)},e}(),wK=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return te(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),B.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(yO),SK=function(){function e(t){this.persistence=t,this.ds=new Nu(function(n){return cf(n)},gm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.ws=0,this._s=new WS,this.targetCount=0,this.ys=wp.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),B.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return B.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return B.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),B.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),B.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new wp(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,B.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),B.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,B.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),B.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return B.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return B.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),B.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),B.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),B.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return B.resolve(r)},e.prototype.containsKey=function(t,n){return B.resolve(this._s.containsKey(n))},e}(),EK=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Nn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new SK(this),this.Ut=new Y6,this.Ue=function(o,s){return new yK(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new fO(n),this.Ke=new vK(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new gK(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;K("MemoryPersistence","Starting transaction:",t);var s=new TK(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return B.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),TK=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return te(t,e),t}(lO),bK=function(){function e(t){this.persistence=t,this.As=new WS,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Y()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),B.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),B.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),B.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.vs,function(o){var s=Z.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return B.or([function(){return B.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),kt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(e,t){return"firestore_clients_"+e+"_"+t}function oC(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function n0(e,t){return"firestore_targets_"+e+"_"+t}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var sC=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new $(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(at("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),r0=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new $(o.error.code,o.error.message)),s?new e(t,o.state,r):(at("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),aC=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Sm(),u=0;o&&u<r.activeTargetIds.length;++u)o=OR(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(at("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),IK=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(at("SharedClientState","Failed to parse online state: "+t),null)},e}(),Uw=function(){function e(){this.activeTargetIds=Sm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),i0=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Kt(pe),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=iC(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Uw),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,o,s,u,l,f,h,p,v,g=this;return P(this,function(w){switch(w.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=w.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(iC(this.persistenceKey,o)))&&(u=aC.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),h=0,p=this.$s;h<p.length;h++)v=p[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(n0(this.persistenceKey,t));if(r){var o=r0.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(n0(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return K("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){K("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){K("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(K("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void at("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var o,s,u,l,f,h;return P(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(h=function(v){var g=Nn.o;if(v!=null)try{var w=JSON.parse(v);se(typeof w=="number"),g=w}catch(T){at("SharedClientState","Failed to read sequence number from WebStorage",T)}return g}(r.newValue))!==Nn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new sC(this.currentUser,t,n,r),s=oC(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=oC(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=n0(this.persistenceKey,t),s=new r0(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return aC.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return sC.Vs(new kt(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return r0.Vs(o,n)},e.prototype.js=function(t){return IK.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return P(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(K("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){u.has(h)||f.push(h)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Sm();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),xO=function(){function e(){this.li=new Uw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Uw,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),kK=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),uC=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),xK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},AK=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),CK=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return te(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var f=new i6;f.listenOnce(t6.COMPLETE,function(){try{switch(f.getLastErrorCode()){case e0.NO_ERROR:var p=f.getResponseJson();K("Connection","XHR received:",JSON.stringify(p)),u(p);break;case e0.TIMEOUT:K("Connection",'RPC "'+n+'" timed out'),l(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case e0.HTTP_ERROR:var v=f.getStatus();if(K("Connection",'RPC "'+n+'" failed with status:',v,"response text:",f.getResponseText()),v>0){var g=f.getResponseJson().error;if(g&&g.status&&g.message){var w=function(T){var I=T.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(I)>=0?I:O.UNKNOWN}(g.status);l(new $(w,g.message))}else l(new $(O.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new $(O.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{K("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);f.send(r,"POST",h,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=Z5(),u=e6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new r6({})),this.ki(l.initMessageHeaders,r),sz()||lz()||cz()||fz()||hz()||uz()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");K("Connection","Creating WebChannel: "+f,l);var h=s.createWebChannel(f,l),p=!1,v=!1,g=new AK({Ei:function(T){v?K("Connection","Not sending because WebChannel is closed:",T):(p||(K("Connection","Opening WebChannel transport."),h.open(),p=!0),K("Connection","WebChannel sending:",T),h.send(T))},Ti:function(){return h.close()}}),w=function(T,I,A){T.listen(I,function(E){try{A(E)}catch(b){setTimeout(function(){throw b},0)}})};return w(h,Xh.EventType.OPEN,function(){v||K("Connection","WebChannel transport opened.")}),w(h,Xh.EventType.CLOSE,function(){v||(v=!0,K("Connection","WebChannel transport closed"),g.Vi())}),w(h,Xh.EventType.ERROR,function(T){v||(v=!0,fp("Connection","WebChannel transport errored:",T),g.Vi(new $(O.UNAVAILABLE,"The operation could not be completed")))}),w(h,Xh.EventType.MESSAGE,function(T){var I;if(!v){var A=T.data[0];se(!!A);var E=A,b=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(b){K("Connection","WebChannel received error:",b);var k=b.status,N=function(_){var U=it[_];if(U!==void 0)return XR(U)}(k),D=b.message;N===void 0&&(N=O.INTERNAL,D="Unknown error status: "+k+" with message "+b.message),v=!0,g.Vi(new $(N,D)),h.close()}else K("Connection","WebChannel received:",A),g.Si(A)}}),w(u,n6.STAT_EVENT,function(T){T.stat===kA.PROXY?K("Connection","Detected buffering proxy"):T.stat===kA.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);K("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return K("RestConnection","Received: ",l),l},function(l){throw fp("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=xK[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return typeof window<"u"?window:null}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e){return new O6(e,!0)}var GS=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&K("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),CO=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new GS(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return P(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===O.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new $(O.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return P(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return K("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),NK=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:Y()}(u.targetChange.targetChangeType||"NO_CHANGE"),h=u.targetChange.targetIds||[],p=function(A,E){return A.I?(se(E===void 0||typeof E=="string"),yn.fromBase64String(E||"")):(se(E===void 0||E instanceof Uint8Array),yn.fromUint8Array(E||new Uint8Array))}(s,u.targetChange.resumeToken),v=(g=u.targetChange.cause)&&function(A){var E=A.code===void 0?O.UNKNOWN:XR(A.code);return new $(E,A.message||"")}(g);l=new JR(f,h,p,v||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,h=oi(s,f.document.name),p=en(f.document.updateTime);var g=new An({mapValue:{fields:f.document.fields}}),w=(v=zt.newFoundDocument(h,p,g),f.targetIds||[]),T=f.removedTargetIds||[];l=new bd(w,T,v.key,v)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,h=oi(s,f.document),p=f.readTime?en(f.readTime):ce.min(),g=zt.newNoDocument(h,p),v=f.removedTargetIds||[],l=new bd([],v,g.key,g);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,h=oi(s,f.document),p=f.removedTargetIds||[],l=new bd([],p,h,null);else{if(!("filter"in u))return Y();u.filter;var I=u.filter;I.targetId,f=I.count||0,h=new I6(f),p=I.targetId,l=new YR(p,h)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return ce.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?ce.min():u.readTime?en(u.readTime):ce.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=Mc(this.R),r.addTarget=function(s,u){var l,f=u.target;return(l=pp(f)?{documents:rO(s,f)}:{query:iO(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=ZR(s,u.resumeToken):u.snapshotVersion.compareTo(ce.min())>0&&(l.readTime=Oc(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Mc(this.R),r.removeTarget=n,this.cr(r)},t}(CO),_K=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(se(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(se(u!==void 0),s.map(function(l){return function(f,h){var p=f.updateTime?en(f.updateTime):en(h);return p.isEqual(ce.min())&&(p=en(h)),new E6(p,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=en(n.commitTime);return this.listener.Tr(o,r)}return se(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Mc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return gp(r.R,s)})};this.cr(o)},t}(CO),DK=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return te(t,e),t.prototype.br=function(){if(this.Rr)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new $(O.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new $(O.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),PK=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(at(n),this.Vr=!1):K("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),RK=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return Eo(this)?(K("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return R(this,void 0,void 0,function(){var h;return P(this,function(p){switch(p.label){case 0:return(h=H(f)).Or.add(4),[4,_u(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,gf(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new PK(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(e){return R(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:if(!Eo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function _u(e){return R(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function bm(e,t){var n=H(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),YS(n)?XS(n):Pu(n).er()&&QS(n,t))}function Vc(e,t){var n=H(e),r=Pu(n);n.$r.delete(t),r.er()&&NO(n,t),n.$r.size===0&&(r.er()?r.ir():Eo(n)&&n.Br.set("Unknown"))}function QS(e,t){e.qr.U(t.targetId),Pu(e).mr(t)}function NO(e,t){e.qr.U(t),Pu(e).yr(t)}function XS(e){e.qr=new D6({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Pu(e).start(),e.Br.Sr()}function YS(e){return Eo(e)&&!Pu(e).tr()&&e.$r.size>0}function Eo(e){return H(e).Or.size===0}function _O(e){e.qr=void 0}function OK(e){return R(this,void 0,void 0,function(){return P(this,function(t){return e.$r.forEach(function(n,r){QS(e,n)}),[2]})})}function LK(e,t){return R(this,void 0,void 0,function(){return P(this,function(n){return _O(e),YS(e)?(e.Br.Nr(t),XS(e)):e.Br.set("Unknown"),[2]})})}function MK(e,t,n){return R(this,void 0,void 0,function(){var r,o,s;return P(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof JR&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return R(this,void 0,void 0,function(){var h,p,v,g;return P(this,function(w){switch(w.label){case 0:h=f.cause,p=0,v=f.targetIds,w.label=1;case 1:return p<v.length?(g=v[p],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:w.sent(),l.$r.delete(g),l.qr.removeTarget(g),w.label=3;case 3:w.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),K("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Tp(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof bd?e.qr.X(t):t instanceof YR?e.qr.rt(t):e.qr.et(t),n.isEqual(ce.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,bO(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var h=l.qr.ut(f);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var g=l.$r.get(v);g&&l.$r.set(v,g.withResumeToken(p.resumeToken,f))}}),h.targetMismatches.forEach(function(p){var v=l.$r.get(p);if(v){l.$r.set(p,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),NO(l,p);var g=new Em(v.target,p,1,v.sequenceNumber);QS(l,g)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return K("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Tp(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Tp(e,t,n){return R(this,void 0,void 0,function(){var r=this;return P(this,function(o){switch(o.label){case 0:if(!Vs(t))throw t;return e.Or.add(1),[4,_u(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return bO(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return P(this,function(s){switch(s.label){case 0:return K("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,gf(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function DO(e,t){return t().catch(function(n){return Tp(e,n,t)})}function Du(e){return R(this,void 0,void 0,function(){var t,n,r,o,s;return P(this,function(u){switch(u.label){case 0:t=H(e),n=co(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return Eo(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,pK(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var h=co(l);h.er()&&h.pr&&h.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Tp(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return PO(t)&&RO(t),[2]}})})}function PO(e){return Eo(e)&&!co(e).tr()&&e.Fr.length>0}function RO(e){co(e).start()}function VK(e){return R(this,void 0,void 0,function(){return P(this,function(t){return co(e).Ar(),[2]})})}function jK(e){return R(this,void 0,void 0,function(){var t,n,r,o;return P(this,function(s){for(t=co(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function FK(e,t,n){return R(this,void 0,void 0,function(){var r,o;return P(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=Q6.from(r,t,n),[4,DO(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Du(e)];case 2:return s.sent(),[2]}})})}function UK(e,t){return R(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return t&&co(e).pr?[4,function(r,o){return R(this,void 0,void 0,function(){var s,u;return P(this,function(l){switch(l.label){case 0:return QR(u=o.code)&&u!==O.ABORTED?(s=r.Fr.shift(),co(r).sr(),[4,DO(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Du(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return PO(e)&&RO(e),[2]}})})}function $w(e,t){return R(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return n=H(e),t?(n.Or.delete(2),[4,gf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,_u(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Pu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=H(n);return s.br(),new NK(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:OK.bind(null,e),Ri:LK.bind(null,e),_r:MK.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),YS(e)?XS(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),_O(e),r.label=3;case 3:return[2]}})})})),e.Ur}function co(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=H(n);return s.br(),new _K(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:VK.bind(null,e),Ri:UK.bind(null,e),Ir:jK.bind(null,e),Tr:FK.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Du(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(K("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var $K=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ru(e,t){if(at("AsyncQueue",t+": "+e),Vs(e))return new $(O.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OO=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Z.comparator(n.key,r.key)}:function(n,r){return Z.comparator(n.key,r.key)},this.keyedMap=Vw(),this.sortedSet=new Kt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),lC=function(){function e(){this.Qr=new Kt(Z.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Y():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),bp=function(){function e(t,n,r,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,OO.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),BK=function(){this.Wr=void 0,this.listeners=[]},qK=function(){this.queries=new Nu(function(e){return FR(e)},hf),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return P(this,function(h){switch(h.label){case 0:if(n=H(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new BK),!o)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=h.sent(),[3,4];case 3:return l=h.sent(),f=Ru(l,"Initialization of query '"+Lw(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&eE(n),[2]}})})}function ZS(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u;return P(this,function(l){return n=H(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function zK(e,t){for(var n=H(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var h=0,p=f.listeners;h<p.length;h++)p[h].Hr(u)&&(r=!0);f.Wr=u}}r&&eE(n)}function KK(e,t,n){var r=H(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function eE(e){e.Gr.forEach(function(t){t.next()})}var tE=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new bp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=bp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO=function(e){this.key=e},MO=function(e){this.key=e},VO=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ae(),this.mutatedKeys=Ae(),this.lo=UR(t),this.fo=new OO(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new lC,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,h=Ed(this.query)&&s.size===this.query.limit?s.last():null,p=vp(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,w){var T=s.get(g),I=df(r.query,w)?w:null,A=!!T&&r.mutatedKeys.has(T.key),E=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),b=!1;T&&I?T.data.isEqual(I.data)?A!==E&&(o.track({type:3,doc:I}),b=!0):r.yo(T,I)||(o.track({type:2,doc:I}),b=!0,(h&&r.lo(I,h)>0||p&&r.lo(I,p)<0)&&(f=!0)):!T&&I?(o.track({type:0,doc:I}),b=!0):T&&!I&&(o.track({type:1,doc:T}),b=!0,(h||p)&&(f=!0)),b&&(I?(l=l.add(I),u=E?u.add(g):u.delete(g)):(l=l.delete(g),u=u.delete(g)))}),Ed(this.query)||vp(this.query))for(;l.size>this.query.limit;){var v=Ed(this.query)?l.last():l.first();l=l.delete(v.key),u=u.delete(v.key),o.track({type:1,doc:v})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(p,v){return function(g,w){var T=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return T(g)-T(w)}(p.type,v.type)||o.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,h=f!==this.ao;return this.ao=f,u.length!==0||h?{snapshot:new bp(this.query,t.fo,s,u,t.mutatedKeys,f===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new lC,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ae(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new MO(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new LO(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ae();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return bp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),HK=function(e,t,n){this.query=e,this.targetId=t,this.view=n},WK=function(e){this.key=e,this.bo=!1},GK=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Nu(function(l){return FR(l)},hf),this.Vo=new Map,this.So=new Set,this.Do=new Kt(Z.comparator),this.Co=new Map,this.No=new WS,this.xo={},this.ko=new Map,this.Fo=wp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function QK(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l;return P(this,function(f){switch(f.label){case 0:return n=sE(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Sp(n.localStore,Fr(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,nE(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&bm(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function nE(e,t,n,r){return R(this,void 0,void 0,function(){var o,s,u,l,f,h;return P(this,function(p){switch(p.label){case 0:return e.Oo=function(v,g,w){return function(T,I,A,E){return R(this,void 0,void 0,function(){var b,k,N;return P(this,function(D){switch(D.label){case 0:return b=I.view._o(A),b.Nn?[4,Ep(T.localStore,I.query,!1).then(function(_){var U=_.documents;return I.view._o(U,b)})]:[3,2];case 1:b=D.sent(),D.label=2;case 2:return k=E&&E.targetChanges.get(I.targetId),N=I.view.applyChanges(b,T.isPrimaryClient,k),[2,(Bw(T,I.targetId,N.To),N.snapshot)]}})})}(e,v,g,w)},[4,Ep(e.localStore,t,!0)];case 1:return o=p.sent(),s=new VO(t,o.Bn),u=s._o(o.documents),l=US.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),Bw(e,n,f.To),h=new HK(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function XK(e,t){return R(this,void 0,void 0,function(){var n,r,o;return P(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!hf(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,pu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Vc(n.remoteStore,r.targetId),mu(n,r.targetId)}).catch(js)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return mu(n,r.targetId),[4,pu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function YK(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u;return P(this,function(l){switch(l.label){case 0:r=aE(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,h){var p,v=H(f),g=gn.now(),w=h.reduce(function(T,I){return T.add(I.key)},Ae());return v.persistence.runTransaction("Locally write mutations","readwrite",function(T){return v.Mn.pn(T,w).next(function(I){p=I;for(var A=[],E=0,b=h;E<b.length;E++){var k=b[E],N=b6(k,p.get(k.key));N!=null&&A.push(new So(k.key,N,LR(N.value.mapValue),Ut.exists(!0)))}return v._n.addMutationBatch(T,g,A,h)})}).then(function(T){return T.applyToLocalDocumentSet(p),{batchId:T.batchId,changes:p}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,h,p){var v=f.xo[f.currentUser.toKey()];v||(v=new Kt(pe)),v=v.insert(h,p),f.xo[f.currentUser.toKey()]=v}(r,o.batchId,n),[4,To(r,o.changes)];case 3:return l.sent(),[4,Du(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Ru(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function jO(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:n=H(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hK(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?se(l.bo):s.removedDocuments.size>0&&(se(l.bo),l.bo=!1))}),[4,To(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,js(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function cC(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=H(s);l.onlineState=u;var f=!1;l.queries.forEach(function(h,p){for(var v=0,g=p.listeners;v<g.length;v++)g[v].zr(u)&&(f=!0)}),f&&eE(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function JK(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u,l,f;return P(this,function(h){switch(h.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Kt(Z.comparator)).insert(s,zt.newNoDocument(s,ce.min())),l=Ae().add(s),f=new FS(ce.min(),new Map,new vt(pe),u,l),[4,jO(r,f)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),oE(r),[3,4];case 2:return[4,pu(r.localStore,t,!1).then(function(){return mu(r,t,n)}).catch(js)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function ZK(e,t){return R(this,void 0,void 0,function(){var n,r,o;return P(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,fK(n.localStore,t)];case 2:return o=s.sent(),iE(n,r,null),rE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,To(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,js(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function e3(e,t,n){return R(this,void 0,void 0,function(){var r,o;return P(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=H(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return f._n.lookupMutationBatch(h,l).next(function(v){return se(v!==null),p=v.keys(),f._n.removeMutationBatch(h,v)}).next(function(){return f._n.performConsistencyCheck(h)}).next(function(){return f.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return o=s.sent(),iE(r,t,n),rE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,To(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,js(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function t3(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u;return P(this,function(l){switch(l.label){case 0:Eo((n=H(e)).remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var h=H(f);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=Ru(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function rE(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function iE(e,t,n){var r=H(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function mu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||FO(e,u)})}function FO(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Vc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),oE(e))}function Bw(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof LO?(e.No.addReference(s.key,t),n3(e,s)):s instanceof MO?(K("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||FO(e,s.key)):Y()}}function n3(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(K("SyncEngine","New document in limbo: "+n),e.So.add(r),oE(e))}function oE(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Z(we.fromString(t)),r=e.Fo.next();e.Co.set(r,new WK(n)),e.Do=e.Do.insert(n,r),bm(e.remoteStore,new Em(Fr(ff(n.path)),r,2,Nn.o))}}function To(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u;return P(this,function(l){switch(l.label){case 0:return r=H(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,h){u.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),o.push(p);var v=lK.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,h){return R(this,void 0,void 0,function(){var p,v,g,w,T,I,A,E,b;return P(this,function(k){switch(k.label){case 0:p=H(f),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(N){return B.forEach(h,function(D){return B.forEach(D.bn,function(_){return p.persistence.referenceDelegate.addReference(N,D.targetId,_)}).next(function(){return B.forEach(D.vn,function(_){return p.persistence.referenceDelegate.removeReference(N,D.targetId,_)})})})})];case 2:return k.sent(),[3,4];case 3:if(!Vs(v=k.sent()))throw v;return K("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,w=h;g<w.length;g++)T=w[g],I=T.targetId,T.fromCache||(A=p.kn.get(I),E=A.snapshotVersion,b=A.withLastLimboFreeSnapshotVersion(E),p.kn=p.kn.insert(I,b));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function r3(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(K("SyncEngine","User change. New user:",t.toKey()),[4,TO(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new $(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,To(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function i3(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return Ae().add(r.key);var o=Ae(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],h=n.Po.get(f);o=o.unionWith(h.view.wo)}return o}function o3(e,t){return R(this,void 0,void 0,function(){var n,r,o;return P(this,function(s){switch(s.label){case 0:return[4,Ep((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Bw(n,t.targetId,o.To),o)]}})})}function s3(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){return[2,kO((t=H(e)).localStore).then(function(r){return To(t,r)})]})})}function a3(e,t,n,r){return R(this,void 0,void 0,function(){var o,s;return P(this,function(u){switch(u.label){case 0:return[4,function(l,f){var h=H(l),p=H(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,f).next(function(g){return g?h.Mn.pn(v,g):B.resolve(null)})})}((o=H(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Du(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(iE(o,t,r||null),rE(o,t),function(l,f){H(H(l)._n).Gt(f)}(o.localStore,t)):Y(),u.label=4;case 4:return[4,To(o,s)];case 5:return u.sent(),[3,7];case 6:K("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function u3(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l,f,h;return P(this,function(p){switch(p.label){case 0:return sE(n=H(e)),aE(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,fC(n,r.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,$w(n.remoteStore,!0)];case 2:for(p.sent(),s=0,u=o;s<u.length;s++)l=u[s],bm(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?f.push(g):h=h.then(function(){return mu(n,g),pu(n.localStore,g,!0)}),Vc(n.remoteStore,g)}),[4,h]);case 4:return p.sent(),[4,fC(n,f)];case 5:return p.sent(),function(v){var g=H(v);g.Co.forEach(function(w,T){Vc(g.remoteStore,T)}),g.No.ts(),g.Co=new Map,g.Do=new Kt(Z.comparator)}(n),n.$o=!1,[4,$w(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function fC(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u,l,f,h,p,v,g,w,T,I,A;return P(this,function(E){switch(E.label){case 0:r=H(e),o=[],s=[],u=0,l=t,E.label=1;case 1:return u<l.length?(f=l[u],h=void 0,(p=r.Vo.get(f))&&p.length!==0?[4,Sp(r.localStore,Fr(p[0]))]:[3,7]):[3,13];case 2:h=E.sent(),v=0,g=p,E.label=3;case 3:return v<g.length?(w=g[v],T=r.Po.get(w),[4,o3(r,T)]):[3,6];case 4:(I=E.sent()).snapshot&&s.push(I.snapshot),E.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,IO(r.localStore,f)];case 8:return A=E.sent(),[4,Sp(r.localStore,A)];case 9:return h=E.sent(),[4,nE(r,UO(A),f,!1)];case 10:E.sent(),E.label=11;case 11:o.push(h),E.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function UO(e){return VR(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function l3(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function c3(e,t,n,r){return R(this,void 0,void 0,function(){var o,s,u;return P(this,function(l){switch(l.label){case 0:return(o=H(e)).$o?(K("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kO(o.localStore)];case 3:return s=l.sent(),u=FS.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,To(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,pu(o.localStore,t,!0)];case 6:return l.sent(),mu(o,t,r),[3,8];case 7:Y(),l.label=8;case 8:return[2]}})})}function f3(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u,l,f,h,p,v,g;return P(this,function(w){switch(w.label){case 0:if(!(r=sE(e)).$o)return[3,10];o=0,s=t,w.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(K("SyncEngine","Adding an already active target "+u),[3,5]):[4,IO(r.localStore,u)]):[3,6];case 2:return l=w.sent(),[4,Sp(r.localStore,l)];case 3:return f=w.sent(),[4,nE(r,UO(l),f.targetId,!1)];case 4:w.sent(),bm(r.remoteStore,f),w.label=5;case 5:return o++,[3,1];case 6:h=function(T){return P(this,function(I){switch(I.label){case 0:return r.Vo.has(T)?[4,pu(r.localStore,T,!1).then(function(){Vc(r.remoteStore,T),mu(r,T)}).catch(js)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,v=n,w.label=7;case 7:return p<v.length?(g=v[p],[5,h(g)]):[3,10];case 8:w.sent(),w.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function sE(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JK.bind(null,t),t.vo._r=zK.bind(null,t.eventManager),t.vo.Mo=KK.bind(null,t.eventManager),t}function aE(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e3.bind(null,t),t}var $O=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return this.R=Tm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return EO(this.persistence,new SO,t.initialUser,this.R)},e.prototype.qo=function(t){return new EK(bK.bs,this.R)},e.prototype.Bo=function(t){return new xO},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),BO=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return te(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r=this;return P(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,mK(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,aE(this.Qo.syncEngine)];case 4:return o.sent(),[4,Du(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return EO(this.persistence,new SO,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new nK(r,n.asyncQueue)},t.prototype.qo=function(n){var r=HS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new uK(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,AO(),Id(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new xO},t}($O),h3=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return te(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,o=this;return P(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof i0?(this.sharedClientState.syncEngine={ui:a3.bind(null,r),ai:c3.bind(null,r),hi:f3.bind(null,r),fn:l3.bind(null,r),ci:s3.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return R(o,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return[4,u3(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=AO();if(!i0.yt(r))throw new $(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=HS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new i0(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(BO),qw=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return P(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return cC(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=r3.bind(null,this.syncEngine),[4,$w(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new qK},e.prototype.createDatastore=function(t){var n,r=Tm(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new CK(n));return function(s,u,l){return new DK(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return cC(l.syncEngine,f,0)},u=uC.yt()?new uC:new kK,new RK(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,f,h){var p=new GK(r,o,s,u,l,f);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return n=H(t),K("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,_u(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),d3=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return P(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return R(this,void 0,void 0,function(){var l,f,h,p,v,g;return P(this,function(w){switch(w.label){case 0:return l=H(s),f=Mc(l.R)+"/documents",h={documents:u.map(function(T){return Lc(l.R,T)})},[4,l.$i("BatchGetDocuments",f,h)];case 1:return p=w.sent(),v=new Map,p.forEach(function(T){var I=function(A,E){return"found"in E?function(b,k){se(!!k.found),k.found.name,k.found.updateTime;var N=oi(b,k.found.name),D=en(k.found.updateTime),_=new An({mapValue:{fields:k.found.fields}});return zt.newFoundDocument(N,D,_)}(A,E):"missing"in E?function(b,k){se(!!k.missing),se(!!k.readTime);var N=oi(b,k.missing),D=en(k.readTime);return zt.newNoDocument(N,D)}(A,E):Y()}(l.R,T);v.set(I.key.toString(),I)}),g=[],[2,(u.forEach(function(T){var I=v.get(T.toString());se(!!I),g.push(I)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new vf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return P(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Z.fromPath(s);n.mutations.push(new jS(u,n.precondition(u)))}),[4,function(o,s){return R(this,void 0,void 0,function(){var u,l,f;return P(this,function(h){switch(h.label){case 0:return u=H(o),l=Mc(u.R)+"/documents",f={writes:s.map(function(p){return gp(u.R,p)})},[4,u.Ni("Commit",l,f)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Y();n=ce.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new $(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Ut.updateTime(n):Ut.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ce.min()))throw new $(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ut.updateTime(n)}return Ut.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),p3=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new GS(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,o=this;return P(this,function(s){return n=new d3(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ms(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!QR(n)}return!1},e}(),m3=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kt.UNAUTHENTICATED,this.clientId=NR.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return R(o,void 0,void 0,function(){return P(this,function(u){switch(u.label){case 0:return K("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return P(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,o;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Ru(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e,t){return R(this,void 0,void 0,function(){var n,r,o=this;return P(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return R(o,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,TO(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function zO(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,uE(e)];case 1:return n=o.sent(),K("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return R(this,void 0,void 0,function(){var f,h;return P(this,function(p){switch(p.label){case 0:return(f=H(u)).asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials"),h=Eo(f),f.Or.add(3),[4,_u(f)];case 1:return p.sent(),h&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,gf(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function uE(e){return R(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(K("FirestoreClient","Using default OfflineComponentProvider"),[4,qO(e,new $O)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function km(e){return R(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(K("FirestoreClient","Using default OnlineComponentProvider"),[4,zO(e,new qw)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function hC(e){return uE(e).then(function(t){return t.persistence})}function KO(e){return uE(e).then(function(t){return t.localStore})}function dC(e){return km(e).then(function(t){return t.remoteStore})}function HO(e){return km(e).then(function(t){return t.syncEngine})}function vu(e){return R(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,km(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=QK.bind(null,t.syncEngine),n.onUnlisten=XK.bind(null,t.syncEngine),n)]}})})}function pC(e,t,n){var r=this;n===void 0&&(n={});var o=new wn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return P(this,function(u){switch(u.label){case 0:return s=function(l,f,h,p,v){var g=new Im({next:function(T){f.enqueueAndForget(function(){return ZS(l,w)});var I=T.docs.has(h);!I&&T.fromCache?v.reject(new $(O.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?v.reject(new $(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:function(T){return v.reject(T)}}),w=new tE(ff(h.path),g,{includeMetadataChanges:!0,so:!0});return JS(l,w)},[4,vu(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function mC(e,t,n){var r=this;n===void 0&&(n={});var o=new wn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return P(this,function(u){switch(u.label){case 0:return s=function(l,f,h,p,v){var g=new Im({next:function(T){f.enqueueAndForget(function(){return ZS(l,w)}),T.fromCache&&p.source==="server"?v.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:function(T){return v.reject(T)}}),w=new tE(h,g,{includeMetadataChanges:!0,so:!0});return JS(l,w)},[4,vu(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var v3=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Ip=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),vC=new Map,WO=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},gC=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(kt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),g3=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),y3=function(){function e(t){var n=this;this.currentUser=kt.UNAUTHENTICATED,this.oc=new wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){K("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(K("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(K("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(se(typeof o.accessToken=="string"),new WO(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string"),new kt(t)},e}(),w3=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=kt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),S3=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new w3(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(kt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(e,t,n){if(!n)throw new $(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function cE(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new $(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function GO(e,t,n,r){if(t===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function yC(e){if(!Z.isDocumentKey(e))throw new $(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function wC(e){if(Z.isDocumentKey(e))throw new $(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function xm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Y()}function Se(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xm(e);throw new $(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function SC(e,t){if(t<=0)throw new $(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EC=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,GO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),jc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EC({}),this._settingsFrozen=!1,t instanceof Ip?(this._databaseId=t,this._credentials=new gC):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ip(r.options.projectId)}(t),this._credentials=new y3(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EC(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new gC;switch(n.type){case"gapi":var r=n.client;return se(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new S3(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new $(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=vC.get(t))&&(K("ComponentProvider","Removing Datastore"),vC.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Be=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new oo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Pn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),oo=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,ff(o))||this)._path=o,s.type="collection",s}return te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Be(this.firestore,null,new Z(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ut(e),lE("collection","path",t),e instanceof jc)return wC(n=we.fromString.apply(we,Me([t],r))),new oo(e,null,n);if(!(e instanceof Be||e instanceof oo))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wC(n=we.fromString.apply(we,Me([e.path],r)).child(we.fromString(t))),new oo(e.firestore,null,n)}function kd(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ut(e),arguments.length===1&&(t=NR.u()),lE("doc","path",t),e instanceof jc)return yC(n=we.fromString.apply(we,Me([t],r))),new Be(e,null,new Z(n));if(!(e instanceof Be||e instanceof oo))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yC(n=e._path.child(we.fromString.apply(we,Me([t],r)))),new Be(e.firestore,e instanceof oo?e.converter:null,new Z(n))}function XO(e,t){return e=ut(e),t=ut(t),(e instanceof Be||e instanceof oo)&&(t instanceof Be||t instanceof oo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YO(e,t){return e=ut(e),t=ut(t),e instanceof Pn&&t instanceof Pn&&e.firestore===t.firestore&&hf(e._query,t._query)&&e.converter===t.converter}var E3=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new GS(this,"async_queue_retry"),this.Ic=function(){var r=Id();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Id();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Id();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new wn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t,n=this;return P(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Vs(t=r.sent()))throw t;return K("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=$K.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Y()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function gu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var T3=-1,mt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new E3,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return te(t,e),t.prototype._terminate=function(){return this._firestoreClient||JO(this),this._firestoreClient.terminate()},t}(jc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e){return e._firestoreClient||JO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JO(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new v3(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new m3(e._credentials,e._queue,r)}function TC(e,t,n){var r=this,o=new wn;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return P(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,qO(e,n)];case 1:return u.sent(),[4,zO(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===O.FAILED_PRECONDITION||l.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function bC(e){if(e._initialized||e._terminated)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),As=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(yn.fromBase64String(t))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(yn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Fs=function(e){this._methodName=e},Am=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return pe(this._lat,t._lat)||pe(this._long,t._long)},e}(),b3=/^__.*__$/,I3=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new So(t,this.data,this.fieldMask,n,this.fieldTransforms):new mf(t,this.data,n,this.fieldTransforms)},e}(),ZO=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new So(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var tL=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return kp(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(eL(this.Nc)&&b3.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),k3=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Tm(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new tL({Nc:t,methodName:n,qc:r,path:gr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Us(e){var t=e._freezeSettings(),n=Tm(e._databaseId);return new k3(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cm(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);pE("Data must be an object, but it was:",u,r);var l,f,h=iL(r,u);if(s.merge)l=new ru(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,g=s.mergeFields;v<g.length;v++){var w=zw(t,g[v],n);if(!u.contains(w))throw new $(O.INVALID_ARGUMENT,"Field '"+w+"' is specified in your field mask but missing from your input data.");sL(p,w)||p.push(w)}l=new ru(p),f=u.fieldTransforms.filter(function(T){return l.covers(T.field)})}else l=null,f=u.fieldTransforms;return new I3(new An(h),l,f)}var fE=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Fs);function nL(e,t,n){return new tL({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var x3=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype._toFieldTransform=function(n){return new pf(n.path,new au)},t.prototype.isEqual=function(n){return n instanceof t},t}(Fs),A3=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return te(t,e),t.prototype._toFieldTransform=function(n){var r=nL(this,n,!0),o=this.Kc.map(function(u){return $s(u,r)}),s=new ks(o);return new pf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fs),C3=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return te(t,e),t.prototype._toFieldTransform=function(n){var r=nL(this,n,!0),o=this.Kc.map(function(u){return $s(u,r)}),s=new xs(o);return new pf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fs),N3=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return te(t,e),t.prototype._toFieldTransform=function(n){var r=new uu(n.R,qR(n.R,this.Qc));return new pf(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Fs);function hE(e,t,n,r){var o=e.Uc(1,t,n);pE("Data must be an object, but it was:",o,r);var s=[],u=An.empty();Ls(r,function(f,h){var p=mE(t,f,n);h=ut(h);var v=o.Oc(p);if(h instanceof fE)s.push(p);else{var g=$s(h,v);g!=null&&(s.push(p),u.set(p,g))}});var l=new ru(s);return new ZO(u,l,o.fieldTransforms)}function dE(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[zw(t,r,n)],f=[o];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(zw(t,s[h])),f.push(s[h+1]);for(var p=[],v=An.empty(),g=l.length-1;g>=0;--g)if(!sL(p,l[g])){var w=l[g],T=f[g];T=ut(T);var I=u.Oc(w);if(T instanceof fE)p.push(w);else{var A=$s(T,I);A!=null&&(p.push(w),v.set(w,A))}}var E=new ru(p);return new ZO(v,E,u.fieldTransforms)}function rL(e,t,n,r){return r===void 0&&(r=!1),$s(n,e.Uc(r?4:3,t))}function $s(e,t){if(oL(e=ut(e)))return pE("Unsupported field value:",t,e),iL(e,t);if(e instanceof Fs)return function(n,r){if(!eL(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=$s(l[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=ut(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qR(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=gn.fromDate(n);return{timestampValue:Oc(r.R,o)}}if(n instanceof gn)return o=new gn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Oc(r.R,o)};if(n instanceof Am)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof As)return{bytesValue:ZR(r.R,n._byteString)};if(n instanceof Be){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:$S(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+xm(n))}(e,t)}function iL(e,t){var n={};return DR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(e,function(r,o){var s=$s(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oL(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gn||e instanceof Am||e instanceof As||e instanceof Be||e instanceof Fs)}function pE(e,t,n){if(!oL(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=xm(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function zw(e,t,n){if((t=ut(t))instanceof Lr)return t._internalPath;if(typeof t=="string")return mE(e,t);throw kp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var _3=new RegExp("[~\\*/\\[\\]]");function mE(e,t,n){if(t.search(_3)>=0)throw kp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Lr.bind.apply(Lr,Me([void 0],t.split("."))))()._internalPath}catch{throw kp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function kp(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new $(O.INVALID_ARGUMENT,(l+=". ")+e+f)}function sL(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Be(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new D3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(xp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),D3=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Fc);function xp(e,t){return typeof t=="string"?mE(e,t):t instanceof Lr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ai=function(e){function t(n,r,o,s,u,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(xp("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(Fc),tc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ai),Ki=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ss(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new tc(r._firestore,r._userDataWriter,o.key,o,new ss(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new tc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ss(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new tc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ss(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(p=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:P3(l.type),doc:f,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function P3(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function aL(e,t){return e instanceof ai&&t instanceof ai?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ki&&t instanceof Ki&&e._firestore===t._firestore&&YO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(e){if(vp(e)&&e.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yf=function(){};function Oi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var R3=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return te(t,e),t.prototype._apply=function(n){var r=Us(n.firestore),o=function(s,u,l,f,h,p,v){var g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new $(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){CC(v,p);for(var w=[],T=0,I=v;T<I.length;T++){var A=I[T];w.push(AC(f,s,A))}g={arrayValue:{values:w}}}else g=AC(f,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||CC(v,p),g=rL(l,"where",v,p==="in"||p==="not-in");var E=_n.create(h,p,g);return function(b,k){if(k.g()){var N=MS(b);if(N!==null&&!N.isEqual(k.field))throw new $(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+N.toString()+"' and '"+k.field.toString()+"'");var D=LS(b);D!==null&&cL(b,k.field,D)}var _=function(U,L){for(var oe=0,C=U.filters;oe<C.length;oe++){var Re=C[oe];if(L.indexOf(Re.op)>=0)return Re.op}return null}(b,function(U){switch(U){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(_!==null)throw _===k.op?new $(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new $(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+_.toString()+"' filters.")}(s,E),E}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Pn(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new Si(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(yf),O3=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return te(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ha(s,u);return function(f,h){if(LS(f)===null){var p=MS(f);p!==null&&cL(f,p,h.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Pn(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new Si(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(yf),IC=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return te(t,e),t.prototype._apply=function(n){return new Pn(n.firestore,n.converter,jR(n._query,this.Hc,this.Jc))},t}(yf),kC=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return te(t,e),t.prototype._apply=function(n){var r=lL(n,this.type,this.Yc,this.Xc);return new Pn(n.firestore,n.converter,function(o,s){return new Si(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(yf),xC=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return te(t,e),t.prototype._apply=function(n){var r=lL(n,this.type,this.Yc,this.Xc);return new Pn(n.firestore,n.converter,function(o,s){return new Si(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(yf);function lL(e,t,n,r){if(n[0]=ut(n[0]),n[0]instanceof Fc)return function(s,u,l,f,h){if(!f)throw new $(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,g=su(s);v<g.length;v++){var w=g[v];if(w.field.isKeyField())p.push(dp(u,f.key));else{var T=f.data.field(w.field);if(PS(T))throw new $(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){var I=w.field.canonicalString();throw new $(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(T)}}return new Rc(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Us(e.firestore);return function(s,u,l,f,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new $(O.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],w=0;w<h.length;w++){var T=h[w];if(v[w].field.isKeyField()){if(typeof T!="string")throw new $(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof T);if(!VS(s)&&T.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+T+"' contains a slash.");var I=s.path.child(we.fromString(T));if(!Z.isDocumentKey(I))throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var A=new Z(I);g.push(dp(u,A))}else{var E=rL(l,f,T);g.push(E)}}return new Rc(g,p)}(e._query,e.firestore._databaseId,o,t,n,r)}function AC(e,t,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!VS(t)&&n.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(we.fromString(n));if(!Z.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dp(e,new Z(r))}if(n instanceof Be)return dp(e,n._key);throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xm(n)+".")}function CC(e,t){if(!Array.isArray(e)||e.length===0)throw new $(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new $(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function cL(e,t,n){if(!n.isEqual(t))throw new $(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vE=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(iu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Ls(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Am(ot(t.latitude),ot(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=RR(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=lo(t);return new gn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=we.fromString(t);se(aO(r));var o=new Ip(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return o.isEqual(n)||at("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var L3=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return te(t,e),t.prototype.convertBytes=function(n){return new As(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},t}(vE),M3=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Us(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Hi(t,this._firestore),s=Nm(o.converter,n,r),u=Cm(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,Ut.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=Hi(t,this._firestore);return u=typeof(n=ut(n))=="string"||n instanceof Lr?dE(this._dataReader,"WriteBatch.update",l._key,n,r,o):hE(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Ut.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Hi(t,this._firestore);return this._mutations=this._mutations.concat(new vf(n._key,Ut.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new $(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e,t){if((e=ut(e)).firestore!==t)throw new $(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return te(t,e),t.prototype.convertBytes=function(n){return new As(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},t}(vE);function NC(e,t,n){e=Se(e,Be);var r=Se(e.firestore,mt),o=Nm(e.converter,t,n);return wf(r,[Cm(Us(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Ut.none())])}function _C(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Se(e,Be);var s=Se(e.firestore,mt),u=Us(s);return wf(s,[(typeof(t=ut(t))=="string"||t instanceof Lr?dE(u,"updateDoc",e._key,t,n,r):hE(u,"updateDoc",e._key,t)).toMutation(e._key,Ut.exists(!0))])}function fL(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ut(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||gu(o[l])||(u=o[l],l++);var f,h,p,v={includeMetadataChanges:u.includeMetadataChanges};if(gu(o[l])){var g=o[l];o[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),o[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),o[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof Be)h=Se(e.firestore,mt),p=ff(e._key.path),f={next:function(I){o[l]&&o[l](Kw(h,e,I))},error:o[l+1],complete:o[l+2]};else{var w=Se(e,Pn);h=Se(w.firestore,mt),p=w._query;var T=new ds(h);f={next:function(I){o[l]&&o[l](new Ki(h,T,w,I))},error:o[l+1],complete:o[l+2]},uL(e._query)}return function(I,A,E,b){var k=this,N=new Im(b),D=new tE(A,N,E);return I.asyncQueue.enqueueAndForget(function(){return R(k,void 0,void 0,function(){var _;return P(this,function(U){switch(U.label){case 0:return _=JS,[4,vu(I)];case 1:return[2,_.apply(void 0,[U.sent(),D])]}})})}),function(){N.Wo(),I.asyncQueue.enqueueAndForget(function(){return R(k,void 0,void 0,function(){var _;return P(this,function(U){switch(U.label){case 0:return _=ZS,[4,vu(I)];case 1:return[2,_.apply(void 0,[U.sent(),D])]}})})})}}(jt(h),p,v,f)}function wf(e,t){return function(n,r){var o=this,s=new wn;return n.asyncQueue.enqueueAndForget(function(){return R(o,void 0,void 0,function(){var u;return P(this,function(l){switch(l.label){case 0:return u=YK,[4,HO(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(jt(e),t)}function Kw(e,t,n){var r=n.docs.get(t._key),o=new ds(e);return new ai(e,o,t._key,r,new ss(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V3=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return te(t,e),t.prototype.get=function(n){var r=this,o=Hi(n,this._firestore),s=new ds(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ai(r._firestore,s,o._key,u._document,new ss(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Us(t)}return e.prototype.get=function(t){var n=this,r=Hi(t,this._firestore),o=new L3(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Y();var u=s[0];if(u.isFoundDocument())return new Fc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Fc(n._firestore,o,r._key,null,r.converter);throw Y()})},e.prototype.set=function(t,n,r){var o=Hi(t,this._firestore),s=Nm(o.converter,n,r),u=Cm(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=Hi(t,this._firestore);return u=typeof(n=ut(n))=="string"||n instanceof Lr?dE(this._dataReader,"Transaction.update",l._key,n,r,o):hE(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=Hi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){if(typeof Uint8Array>"u")throw new $(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function PC(){if(typeof atob>"u")throw new $(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hL=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return PC(),new e(As.fromBase64String(t))},e.fromUint8Array=function(t){return DC(),new e(As.fromUint8Array(t))},e.prototype.toBase64=function(){return PC(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return DC(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),j3=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){bC(r=Se(r,mt));var s=jt(r),u=r._freezeSettings(),l=new qw;return TC(s,l,new BO(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){bC(n=Se(n,mt));var r=jt(n),o=n._freezeSettings(),s=new qw;return TC(r,s,new h3(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new $(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new wn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return P(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var f;return P(this,function(h){switch(h.label){case 0:return fu.yt()?(f=l+"main",[4,fu.delete(f)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(HS(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),dL=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Ip||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||fp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var f;l===void 0&&(l={});var h=(o=Se(o,jc))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&fp("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},h),{host:s+":"+u,ssl:!1})),l.mockUserToken){var p,v;if(typeof l.mockUserToken=="string")p=l.mockUserToken,v=kt.MOCK_USER;else{p=oz(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var g=l.mockUserToken.sub||l.mockUserToken.user_id;if(!g)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new kt(g)}o._credentials=new g3(new WO(p,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,o;return P(this,function(s){switch(s.label){case 0:return[4,hC(t)];case 1:return r=s.sent(),[4,dC(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=H(u);return l.Or.delete(0),gf(l)}(o))]}})})})}(jt(Se(this._delegate,mt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,o;return P(this,function(s){switch(s.label){case 0:return[4,hC(t)];case 1:return r=s.sent(),[4,dC(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return R(this,void 0,void 0,function(){var l;return P(this,function(f){switch(f.label){case 0:return(l=H(u)).Or.add(0),[4,_u(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(jt(Se(this._delegate,mt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&GO("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new wn;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var o;return P(this,function(s){switch(s.label){case 0:return o=t3,[4,HO(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(jt(Se(this._delegate,mt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new Im(s);return o.asyncQueue.enqueueAndForget(function(){return R(u,void 0,void 0,function(){var f;return P(this,function(h){switch(h.label){case 0:return f=function(p,v){H(p).Gr.add(v),v.next()},[4,vu(o)];case 1:return[2,f.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return R(u,void 0,void 0,function(){var f;return P(this,function(h){switch(h.label){case 0:return f=function(p,v){H(p).Gr.delete(v)},[4,vu(o)];case 1:return[2,f.apply(void 0,[h.sent(),l])]}})})})}}(jt(n=Se(n,mt)),gu(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ap(this,QO(this._delegate,t))}catch(n){throw Qt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ps(this,kd(this._delegate,t))}catch(n){throw Qt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Pm(this,function(n,r){if(n=Se(n,jc),lE("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new $(O.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pn(n,null,function(o){return new Si(we.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Qt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,f=new wn;return s.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var h;return P(this,function(p){switch(p.label){case 0:return[4,function(v){return km(v).then(function(g){return g.datastore})}(s)];case 1:return h=p.sent(),new p3(s.asyncQueue,h,u,f).run(),[2]}})})}),f.promise}(jt(r),function(s){return o(new V3(r,s))})}(this._delegate,function(r){return t(new pL(n,r))})},e.prototype.batch=function(){var t=this;return jt(this._delegate),new mL(new M3(this._delegate,function(n){return wf(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new $(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new $(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),_m=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return te(t,e),t.prototype.convertBytes=function(n){return new hL(new As(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ps.eu(r,this.firestore,null)},t}(vE);function F3(e){var t;t=e,dr.setLogLevel(t)}var pL=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new _m(t)}return e.prototype.get=function(t){var n=this,r=as(t);return this._delegate.get(r).then(function(o){return new Uc(n._firestore,new ai(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=as(t);return r?(cE("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=as(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Me([l,n,r],s)),this},e.prototype.delete=function(t){var n=as(t);return this._delegate.delete(n),this},e}(),mL=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=as(t);return r?(cE("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=as(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Me([l,n,r],s)),this},e.prototype.delete=function(t){var n=as(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Dm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new tc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new $c(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new _m(t),n),o.set(n,s)),s},e}();Dm.su=new WeakMap;var ps=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new _m(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new $(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Be(n._delegate,r,new Z(t)))},e.eu=function(t,n,r){return new e(n,new Be(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ap(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ap(this.firestore,QO(this._delegate,t))}catch(n){throw Qt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ut(t))instanceof Be&&XO(this._delegate,t)},e.prototype.set=function(t,n){n=cE("DocumentReference.set",n);try{return n?NC(this._delegate,t,n):NC(this._delegate,t)}catch(r){throw Qt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?_C(this._delegate,t):_C.apply(void 0,Me([this._delegate,t,n],r))}catch(s){throw Qt(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wf(Se((t=this._delegate).firestore,mt),[new vf(t._key,Ut.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=vL(n),s=gL(n,function(u){return new Uc(t.firestore,new ai(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return fL(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Se(r,Be);var o=Se(r.firestore,mt),s=jt(o),u=new ds(o);return function(l,f){var h=this,p=new wn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=function(w,T,I){return R(this,void 0,void 0,function(){var A,E;return P(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(k,N){var D=H(k);return D.persistence.runTransaction("read document","readonly",function(_){return D.Mn.mn(_,N)})}(w,T)];case 1:return(E=b.sent()).isFoundDocument()?I.resolve(E):E.isNoDocument()?I.resolve(null):I.reject(new $(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=b.sent(),E=Ru(A,"Failed to get document '"+T+" from cache"),I.reject(E),[3,3];case 3:return[2]}})})},[4,KO(l)];case 1:return[2,v.apply(void 0,[g.sent(),f,p])]}})})}),p.promise}(s,r._key).then(function(l){return new ai(o,u,r._key,l,new ss(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Se(r,Be);var o=Se(r.firestore,mt);return pC(jt(o),r._key,{source:"server"}).then(function(s){return Kw(o,r,s)})}(this._delegate):function(r){r=Se(r,Be);var o=Se(r.firestore,mt);return pC(jt(o),r._key).then(function(s){return Kw(o,r,s)})}(this._delegate)).then(function(r){return new Uc(n.firestore,new ai(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Qt(e,t,n){return e.message=e.message.replace(t,n),e}function vL(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!gu(r))return r}return{}}function gL(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=gu(e[0])?e[0]:gu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Uc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ps(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return aL(this._delegate,t._delegate)},e}(),$c=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Uc),Pm=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new _m(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Oi(this._delegate,function(o,s,u){var l=s,f=xp("where",o);return new R3(f,l,u)}(t,n,r)))}catch(o){throw Qt(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Oi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=xp("orderBy",r);return new O3(u,s)}(t,n)))}catch(r){throw Qt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return SC("limit",n),new IC("limit",n,"F")}(t)))}catch(n){throw Qt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return SC("limitToLast",n),new IC("limitToLast",n,"L")}(t)))}catch(n){throw Qt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new kC("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Qt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new kC("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Qt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new xC("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Qt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new xC("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Qt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return YO(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Se(r,Pn);var o=Se(r.firestore,mt),s=jt(o),u=new ds(o);return function(l,f){var h=this,p=new wn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=function(w,T,I){return R(this,void 0,void 0,function(){var A,E,b,k,N;return P(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,Ep(w,T,!0)];case 1:return N=D.sent(),A=new VO(T,N.Bn),E=A._o(N.documents),b=A.applyChanges(E,!1),I.resolve(b.snapshot),[3,3];case 2:return k=D.sent(),N=Ru(k,"Failed to execute query '"+T+" against cache"),I.reject(N),[3,3];case 3:return[2]}})})},[4,KO(l)];case 1:return[2,v.apply(void 0,[g.sent(),f,p])]}})})}),p.promise}(s,r._query).then(function(l){return new Ki(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Se(r,Pn);var o=Se(r.firestore,mt),s=jt(o),u=new ds(o);return mC(s,r._query,{source:"server"}).then(function(l){return new Ki(o,u,r,l)})}(this._delegate):function(r){r=Se(r,Pn);var o=Se(r.firestore,mt),s=jt(o),u=new ds(o);return uL(r._query),mC(s,r._query).then(function(l){return new Ki(o,u,r,l)})}(this._delegate)).then(function(r){return new Hw(n.firestore,new Ki(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=vL(n),s=gL(n,function(u){return new Hw(t.firestore,new Ki(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return fL(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),U3=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new $c(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Hw=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Pm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new $c(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new U3(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new $c(r._firestore,o))})},e.prototype.isEqual=function(t){return aL(this._delegate,t._delegate)},e}(),Ap=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ps(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ps(this.firestore,n===void 0?kd(this._delegate):kd(this._delegate,n))}catch(r){throw Qt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=Se(o.firestore,mt),l=kd(o),f=Nm(o.converter,s);return wf(u,[Cm(Us(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,Ut.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new ps(r.firestore,o)})},t.prototype.isEqual=function(n){return XO(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Dm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Pm);function as(e){return Se(e,Be)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $3=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Lr.bind.apply(Lr,Me([void 0],t)))}return e.documentId=function(){return new e(gr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ut(t))instanceof Lr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),B3=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new x3("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new fE("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new A3("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new C3("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new N3("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),q3={Firestore:dL,GeoPoint:Am,Timestamp:gn,Blob:hL,Transaction:pL,WriteBatch:mL,DocumentReference:ps,DocumentSnapshot:Uc,Query:Pm,QueryDocumentSnapshot:$c,QuerySnapshot:Hw,CollectionReference:Ap,FieldPath:$3,FieldValue:B3,setLogLevel:F3,CACHE_SIZE_UNLIMITED:T3};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(e){(function(t,n){t.INTERNAL.registerComponent(new ku("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},q3)))})(e,function(t,n){return new dL(t,new mt(t,n),new j3)}),e.registerVersion("@firebase/firestore","2.4.1")}z3(J);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,c){i!=Array.prototype&&i!=Object.prototype&&(i[a]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var c=i[a];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,a){if(a){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var m=i[d];m in c||(c[m]={}),c=c[m]}i=i[i.length-1],d=c[i],a=a(d),a!=d&&a!=null&&t(c,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(S){this.b=0,this.c=void 0,this.a=[];var x=this.f();try{S(x.resolve,x.reject)}catch(M){x.reject(M)}}function c(){this.a=null}function d(S){return S instanceof a?S:new a(function(x){x(S)})}if(i)return i;c.prototype.b=function(S){if(this.a==null){this.a=[];var x=this;this.c(function(){x.g()})}this.a.push(S)};var m=r.setTimeout;c.prototype.c=function(S){m(S,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var x=0;x<S.length;++x){var M=S[x];S[x]=null;try{M()}catch(F){this.f(F)}}}this.a=null},c.prototype.f=function(S){this.c(function(){throw S})},a.prototype.f=function(){function S(F){return function(ae){M||(M=!0,F.call(x,ae))}}var x=this,M=!1;return{resolve:S(this.m),reject:S(this.g)}},a.prototype.m=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof a)this.s(S);else{e:switch(typeof S){case"object":var x=S!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.v(S):this.h(S)}},a.prototype.v=function(S){var x=void 0;try{x=S.then}catch(M){this.g(M);return}typeof x=="function"?this.u(x,S):this.h(S)},a.prototype.g=function(S){this.i(2,S)},a.prototype.h=function(S){this.i(1,S)},a.prototype.i=function(S,x){if(this.b!=0)throw Error("Cannot settle("+S+", "+x+"): Promise already settled in state"+this.b);this.b=S,this.c=x,this.l()},a.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)y.b(this.a[S]);this.a=null}};var y=new c;return a.prototype.s=function(S){var x=this.f();S.Ra(x.resolve,x.reject)},a.prototype.u=function(S,x){var M=this.f();try{S.call(x,M.resolve,M.reject)}catch(F){M.reject(F)}},a.prototype.then=function(S,x){function M(ge,gt){return typeof ge=="function"?function(Qr){try{F(ge(Qr))}catch(yy){ae(yy)}}:gt}var F,ae,Ee=new a(function(ge,gt){F=ge,ae=gt});return this.Ra(M(S,F),M(x,ae)),Ee},a.prototype.catch=function(S){return this.then(void 0,S)},a.prototype.Ra=function(S,x){function M(){switch(F.b){case 1:S(F.c);break;case 2:x(F.c);break;default:throw Error("Unexpected state: "+F.b)}}var F=this;this.a==null?y.b(M):this.a.push(M)},a.resolve=d,a.reject=function(S){return new a(function(x,M){M(S)})},a.race=function(S){return new a(function(x,M){for(var F=u(S),ae=F.next();!ae.done;ae=F.next())d(ae.value).Ra(x,M)})},a.all=function(S){var x=u(S),M=x.next();return M.done?d([]):new a(function(F,ae){function Ee(Qr){return function(yy){ge[Qr]=yy,gt--,gt==0&&F(ge)}}var ge=[],gt=0;do ge.push(void 0),gt++,d(M.value).Ra(Ee(ge.length-1),ae),M=x.next();while(!M.done)})},a});var l=l||{},f=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&h.test(i)?i:""}function g(){}function w(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function T(i){var a=w(i);return a=="array"||a=="object"&&typeof i.length=="number"}function I(i){return w(i)=="function"}function A(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function E(i){return Object.prototype.hasOwnProperty.call(i,b)&&i[b]||(i[b]=++k)}var b="closure_uid_"+(1e9*Math.random()>>>0),k=0;function N(i,a,c){return i.call.apply(i.bind,arguments)}function D(i,a,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),i.apply(a,m)}}return function(){return i.apply(a,arguments)}}function _(i,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_=N:_=D,_.apply(null,arguments)}function U(i,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function L(i,a){function c(){}c.prototype=a.prototype,i.bb=a.prototype,i.prototype=new c,i.prototype.constructor=i}function oe(i){return i}function C(i,a,c){this.code=on+i,this.message=a||Br[i]||"",this.a=c||null}L(C,Error),C.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},C.prototype.toJSON=function(){return this.w()};function Re(i){var a=i&&i.code;return a?new C(a.substring(on.length),i.message,i.serverResponse):null}var on="auth/",Br={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},qr={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ei(i){for(var a in qr)if(qr[a].id===i)return i=qr[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var yr;yr=Ei("__EID__")?"__EID__":void 0;function He(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function z(i){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}L(z,Error),z.prototype.name="CustomError";function re(i,a){i=i.split("%s");for(var c="",d=i.length-1,m=0;m<d;m++)c+=i[m]+(m<a.length?a[m]:"%s");z.call(this,c+i[d])}L(re,z),re.prototype.name="AssertionError";function ie(i,a){throw new re("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Ce(i,a){this.c=i,this.f=a,this.b=0,this.a=null}Ce.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Ye(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function Io(){this.b=this.a=null}var wr=new Ce(function(){return new Yn},function(i){i.reset()});Io.prototype.add=function(i,a){var c=wr.get();c.set(i,a),this.b?this.b.next=c:this.a=c,this.b=c};function ju(){var i=VT,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function Yn(){this.next=this.b=this.a=null}Yn.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},Yn.prototype.reset=function(){this.next=this.b=this.a=null};var ko=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===a)return c;return-1},Fe=Array.prototype.forEach?function(i,a,c){Array.prototype.forEach.call(i,a,c)}:function(i,a,c){for(var d=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<d;y++)y in m&&a.call(c,m[y],y,i)};function wV(i,a){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&a.call(void 0,c[d],d,i)}var SV=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=[],m=0,y=typeof i=="string"?i.split(""):i,S=0;S<c;S++)if(S in y){var x=y[S];a.call(void 0,x,S,i)&&(d[m++]=x)}return d},xf=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=Array(c),m=typeof i=="string"?i.split(""):i,y=0;y<c;y++)y in m&&(d[y]=a.call(void 0,m[y],y,i));return d},EV=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=typeof i=="string"?i.split(""):i,m=0;m<c;m++)if(m in d&&a.call(void 0,d[m],m,i))return!0;return!1};function TV(i){e:{for(var a=tF,c=i.length,d=typeof i=="string"?i.split(""):i,m=0;m<c;m++)if(m in d&&a.call(void 0,d[m],m,i)){a=m;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function zr(i,a){return 0<=ko(i,a)}function Af(i,a){a=ko(i,a);var c;return(c=0<=a)&&Array.prototype.splice.call(i,a,1),c}function Jn(i,a){var c=0;wV(i,function(d,m){a.call(void 0,d,m,i)&&Array.prototype.splice.call(i,m,1).length==1&&c++})}function qm(i){return Array.prototype.concat.apply([],arguments)}function xo(i){var a=i.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=i[d];return c}return[]}var hT=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},bV=/&/g,IV=/</g,kV=/>/g,xV=/"/g,AV=/'/g,CV=/\x00/g,NV=/[\x00&<>"']/;function ke(i,a){return i.indexOf(a)!=-1}function zm(i,a){return i<a?-1:i>a?1:0}var zs;e:{var dT=f.navigator;if(dT){var pT=dT.userAgent;if(pT){zs=pT;break e}}zs=""}function ct(i){return ke(zs,i)}function mT(i,a){for(var c in i)a.call(void 0,i[c],c,i)}function Ao(i){for(var a in i)return!1;return!0}function Ti(i){var a={},c;for(c in i)a[c]=i[c];return a}var vT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sn(i,a){for(var c,d,m=1;m<arguments.length;m++){d=arguments[m];for(c in d)i[c]=d[c];for(var y=0;y<vT.length;y++)c=vT[y],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function gT(i,a){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var m=d;break e}}catch{}m=null}if(m&&typeof m[a]<"u"&&(!i||!(i instanceof m[a])&&(i instanceof m.Location||i instanceof m.Element))){if(A(i))try{var y=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{y="<object could not be stringified>"}else y=i===void 0?"undefined":i===null?"null":typeof i;ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,y)}}function Sr(i,a){this.a=i===Cf&&a||"",this.b=yT}Sr.prototype.ta=!0,Sr.prototype.sa=function(){return this.a},Sr.prototype.toString=function(){return"Const{"+this.a+"}"};function Km(i){return i instanceof Sr&&i.constructor===Sr&&i.b===yT?i.a:(ie("expected object of type Const, got '"+i+"'"),"type_error:Const")}var yT={},Cf={},Nf;function wT(){if(Nf===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:oe,createScript:oe,createScriptURL:oe})}catch(c){f.console&&f.console.error(c.message)}Nf=i}else Nf=i}return Nf}function Ks(i,a){this.a=a===ET?i:""}Ks.prototype.ta=!0,Ks.prototype.sa=function(){return this.a.toString()},Ks.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ST(i){return i instanceof Ks&&i.constructor===Ks?i.a:(ie("expected object of type TrustedResourceUrl, got '"+i+"' of type "+w(i)),"type_error:TrustedResourceUrl")}function Hm(i,a){var c=Km(i);if(!DV.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(_V,function(d,m){if(!Object.prototype.hasOwnProperty.call(a,m))throw Error('Found marker, "'+m+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return d=a[m],d instanceof Sr?Km(d):encodeURIComponent(String(d))}),PV(i)}var _V=/%{(\w+)}/g,DV=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ET={};function PV(i){var a=wT();return i=a?a.createScriptURL(i):i,new Ks(i,ET)}function an(i,a){this.a=a===Fu?i:""}an.prototype.ta=!0,an.prototype.sa=function(){return this.a.toString()},an.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function _f(i){return i instanceof an&&i.constructor===an?i.a:(ie("expected object of type SafeUrl, got '"+i+"' of type "+w(i)),"type_error:SafeUrl")}var RV=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,OV=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,TT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function bT(i){if(i instanceof an)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),TT.test(i))i=new an(i,Fu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(OV);i=a&&RV.test(a[1])?new an(i,Fu):null}return i}function IT(i){return i instanceof an?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),TT.test(i)||(i="about:invalid#zClosurez"),new an(i,Fu))}var Fu={},kT=new an("about:invalid#zClosurez",Fu);function Hs(i,a,c){this.a=c===xT?i:""}Hs.prototype.ta=!0,Hs.prototype.sa=function(){return this.a.toString()},Hs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function LV(i){return i instanceof Hs&&i.constructor===Hs?i.a:(ie("expected object of type SafeHtml, got '"+i+"' of type "+w(i)),"type_error:SafeHtml")}var xT={};function MV(i,a){gT(i,"HTMLScriptElement"),i.src=ST(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=v(a.document):(p===null&&(p=v(f.document)),a=p),a&&i.setAttribute("nonce",a)}function AT(i,a,c,d){return i=i instanceof an?i:IT(i),a=a||f,c=c instanceof Sr?Km(c):c||"",a.open(_f(i),c,d,void 0)}function CT(i,a){for(var c=i.split("%s"),d="",m=Array.prototype.slice.call(arguments,1);m.length&&1<c.length;)d+=c.shift()+m.shift();return d+c.join("%s")}function Wm(i){return NV.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(bV,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(IV,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(kV,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(xV,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(AV,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(CV,"&#0;"))),i}function Gm(i){return Gm[" "](i),i}Gm[" "]=g;function VV(i,a){var c=$V;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=a(i)}var jV=ct("Opera"),Zn=ct("Trident")||ct("MSIE"),NT=ct("Edge"),FV=NT||Zn,_T=ct("Gecko")&&!(ke(zs.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),UV=ke(zs.toLowerCase(),"webkit")&&!ct("Edge");function DT(){var i=f.document;return i?i.documentMode:void 0}var Df;e:{var Qm="",Xm=function(){var i=zs;if(_T)return/rv:([^\);]+)(\)|;)/.exec(i);if(NT)return/Edge\/([\d\.]+)/.exec(i);if(Zn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(UV)return/WebKit\/(\S+)/.exec(i);if(jV)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Xm&&(Qm=Xm?Xm[1]:""),Zn){var Ym=DT();if(Ym!=null&&Ym>parseFloat(Qm)){Df=String(Ym);break e}}Df=Qm}var $V={};function PT(i){return VV(i,function(){for(var a=0,c=hT(String(Df)).split("."),d=hT(String(i)).split("."),m=Math.max(c.length,d.length),y=0;a==0&&y<m;y++){var S=c[y]||"",x=d[y]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],S[0].length==0&&x[0].length==0)break;a=zm(S[1].length==0?0:parseInt(S[1],10),x[1].length==0?0:parseInt(x[1],10))||zm(S[2].length==0,x[2].length==0)||zm(S[2],x[2]),S=S[3],x=x[3]}while(a==0)}return 0<=a})}var Jm;if(f.document&&Zn){var RT=DT();Jm=RT||parseInt(Df,10)||void 0}else Jm=void 0;var bi=Jm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var BV=!Zn||9<=Number(bi);function Uu(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function OT(i,a){mT(a,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:LT.hasOwnProperty(d)?i.setAttribute(LT[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var LT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qV(i,a,c){var d=arguments,m=document,y=String(d[0]),S=d[1];if(!BV&&S&&(S.name||S.type)){if(y=["<",y],S.name&&y.push(' name="',Wm(S.name),'"'),S.type){y.push(' type="',Wm(S.type),'"');var x={};sn(x,S),delete x.type,S=x}y.push(">"),y=y.join("")}return y=Pf(m,y),S&&(typeof S=="string"?y.className=S:Array.isArray(S)?y.className=S.join(" "):OT(y,S)),2<d.length&&zV(m,y,d),y}function zV(i,a,c){function d(x){x&&a.appendChild(typeof x=="string"?i.createTextNode(x):x)}for(var m=2;m<c.length;m++){var y=c[m];if(!T(y)||A(y)&&0<y.nodeType)d(y);else{e:{if(y&&typeof y.length=="number"){if(A(y)){var S=typeof y.item=="function"||typeof y.item=="string";break e}if(I(y)){S=typeof y.item=="function";break e}}S=!1}Fe(S?xo(y):y,d)}}}function Pf(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function MT(i){f.setTimeout(function(){throw i},0)}var Zm;function KV(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(i=function(){var m=Pf(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var y=m.contentWindow;m=y.document,m.open(),m.close();var S="callImmediate"+Math.random(),x=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;m=_(function(M){(x=="*"||M.origin==x)&&M.data==S&&this.port1.onmessage()},this),y.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(S,x)}}}),typeof i<"u"&&!ct("Trident")&&!ct("MSIE")){var a=new i,c={},d=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var m=c.Hb;c.Hb=null,m()}},function(m){d.next={Hb:m},d=d.next,a.port2.postMessage(0)}}return function(m){f.setTimeout(m,0)}}function Rf(i,a){Of||HV(),ev||(Of(),ev=!0),VT.add(i,a)}var Of;function HV(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);Of=function(){i.then(jT)}}else Of=function(){var a=jT;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!ct("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Zm||(Zm=KV()),Zm(a)):f.setImmediate(a)}}var ev=!1,VT=new Io;function jT(){for(var i;i=ju();){try{i.a.call(i.b)}catch(a){MT(a)}Ye(wr,i)}ev=!1}function fe(i,a){if(this.a=Co,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=g)try{var c=this;i.call(a,function(d){No(c,$u,d)},function(d){if(!(d instanceof Ws))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}No(c,Kr,d)})}catch(d){No(this,Kr,d)}}var Co=0,$u=2,Kr=3;function FT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}FT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var UT=new Ce(function(){return new FT},function(i){i.reset()});function tv(i,a,c){var d=UT.get();return d.g=i,d.b=a,d.f=c,d}function ee(i){if(i instanceof fe)return i;var a=new fe(g);return No(a,$u,i),a}function Oe(i){return new fe(function(a,c){c(i)})}function $T(i,a,c){KT(i,a,c,null)||Rf(U(a,i))}function WV(i){return new fe(function(a,c){var d=i.length,m=[];if(d)for(var y=function(F,ae){d--,m[F]=ae,d==0&&a(m)},S=function(F){c(F)},x=0,M;x<i.length;x++)M=i[x],$T(M,U(y,x),S);else a(m)})}function BT(i){return new fe(function(a){var c=i.length,d=[];if(c)for(var m=function(x,M,F){c--,d[x]=M?{Qb:!0,value:F}:{Qb:!1,reason:F},c==0&&a(d)},y=0,S;y<i.length;y++)S=i[y],$T(S,U(m,y,!0),U(m,y,!1));else a(d)})}fe.prototype.then=function(i,a,c){return zT(this,I(i)?i:null,I(a)?a:null,c)},fe.prototype.$goog_Thenable=!0,e=fe.prototype,e.oa=function(i,a){return i=tv(i,i,a),i.c=!0,nv(this,i),this},e.o=function(i,a){return zT(this,null,i,a)},e.cancel=function(i){if(this.a==Co){var a=new Ws(i);Rf(function(){qT(this,a)},this)}};function qT(i,a){if(i.a==Co)if(i.c){var c=i.c;if(c.b){for(var d=0,m=null,y=null,S=c.b;S&&(S.c||(d++,S.a==i&&(m=S),!(m&&1<d)));S=S.next)m||(y=S);m&&(c.a==Co&&d==1?qT(c,a):(y?(d=y,d.next==c.f&&(c.f=d),d.next=d.next.next):WT(c),GT(c,m,Kr,a)))}i.c=null}else No(i,Kr,a)}function nv(i,a){i.b||i.a!=$u&&i.a!=Kr||HT(i),i.f?i.f.next=a:i.b=a,i.f=a}function zT(i,a,c,d){var m=tv(null,null,null);return m.a=new fe(function(y,S){m.g=a?function(x){try{var M=a.call(d,x);y(M)}catch(F){S(F)}}:y,m.b=c?function(x){try{var M=c.call(d,x);M===void 0&&x instanceof Ws?S(x):y(M)}catch(F){S(F)}}:S}),m.a.c=i,nv(i,m),m.a}e.$c=function(i){this.a=Co,No(this,$u,i)},e.ad=function(i){this.a=Co,No(this,Kr,i)};function No(i,a,c){i.a==Co&&(i===c&&(a=Kr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,KT(c,i.$c,i.ad,i)||(i.i=c,i.a=a,i.c=null,HT(i),a!=Kr||c instanceof Ws||QV(i,c)))}function KT(i,a,c,d){if(i instanceof fe)return nv(i,tv(a||g,c||null,d)),!0;if(He(i))return i.then(a,c,d),!0;if(A(i))try{var m=i.then;if(I(m))return GV(i,m,a,c,d),!0}catch(y){return c.call(d,y),!0}return!1}function GV(i,a,c,d,m){function y(M){x||(x=!0,d.call(m,M))}function S(M){x||(x=!0,c.call(m,M))}var x=!1;try{a.call(i,S,y)}catch(M){y(M)}}function HT(i){i.h||(i.h=!0,Rf(i.gc,i))}function WT(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=WT(this);)GT(this,i,this.a,this.i);this.h=!1};function GT(i,a,c,d){if(c==Kr&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,QT(a,c,d);else try{a.c?a.g.call(a.f):QT(a,c,d)}catch(m){XT.call(null,m)}Ye(UT,a)}function QT(i,a,c){a==$u?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function QV(i,a){i.g=!0,Rf(function(){i.g&&XT.call(null,a)})}var XT=MT;function Ws(i){z.call(this,i)}L(Ws,z),Ws.prototype.name="cancel";function Lf(){this.ya=this.ya,this.pa=this.pa}var XV=0;Lf.prototype.ya=!1;function YT(i){!i.ya&&(i.ya=!0,i.Da(),XV!=0)&&E(i)}Lf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var YV=Object.freeze||function(i){return i},JT=!Zn||9<=Number(bi),JV=Zn&&!PT("9"),ZV=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",g,a),f.removeEventListener("test",g,a)}catch{}return i}();function un(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}un.prototype.preventDefault=function(){this.defaultPrevented=!0};function _o(i,a){if(un.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(_T){e:{try{Gm(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else c=="mouseover"?a=i.fromElement:c=="mouseout"&&(a=i.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:ej[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}L(_o,un);var ej=YV({2:"touch",3:"pen",4:"mouse"});_o.prototype.preventDefault=function(){_o.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,JV)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},_o.prototype.g=function(){return this.a};var Bu="closure_listenable_"+(1e6*Math.random()|0),tj=0;function nj(i,a,c,d,m){this.listener=i,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.Wa=m,this.key=++tj,this.wa=this.Qa=!1}function Mf(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Vf(i){this.src=i,this.a={},this.b=0}Vf.prototype.add=function(i,a,c,d,m){var y=i.toString();i=this.a[y],i||(i=this.a[y]=[],this.b++);var S=iv(i,a,d,m);return-1<S?(a=i[S],c||(a.Qa=!1)):(a=new nj(a,this.src,y,!!d,m),a.Qa=c,i.push(a)),a};function rv(i,a){var c=a.type;c in i.a&&Af(i.a[c],a)&&(Mf(a),i.a[c].length==0&&(delete i.a[c],i.b--))}function iv(i,a,c,d){for(var m=0;m<i.length;++m){var y=i[m];if(!y.wa&&y.listener==a&&y.capture==!!c&&y.Wa==d)return m}return-1}var ov="closure_lm_"+(1e6*Math.random()|0),sv={};function Fn(i,a,c,d,m){if(d&&d.once)av(i,a,c,d,m);else if(Array.isArray(a))for(var y=0;y<a.length;y++)Fn(i,a[y],c,d,m);else c=lv(c),i&&i[Bu]?ib(i,a,c,A(d)?!!d.capture:!!d,m):ZT(i,a,c,!1,d,m)}function ZT(i,a,c,d,m,y){if(!a)throw Error("Invalid event type");var S=A(m)?!!m.capture:!!m,x=jf(i);if(x||(i[ov]=x=new Vf(i)),c=x.add(a,c,d,S,y),!c.proxy)if(d=rj(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)ZV||(m=S),m===void 0&&(m=!1),i.addEventListener(a.toString(),d,m);else if(i.attachEvent)i.attachEvent(tb(a.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function rj(){var i=ij,a=JT?function(c){return i.call(a.src,a.listener,c)}:function(c){if(c=i.call(a.src,a.listener,c),!c)return c};return a}function av(i,a,c,d,m){if(Array.isArray(a))for(var y=0;y<a.length;y++)av(i,a[y],c,d,m);else c=lv(c),i&&i[Bu]?cv(i,a,c,A(d)?!!d.capture:!!d,m):ZT(i,a,c,!0,d,m)}function En(i,a,c,d,m){if(Array.isArray(a))for(var y=0;y<a.length;y++)En(i,a[y],c,d,m);else d=A(d)?!!d.capture:!!d,c=lv(c),i&&i[Bu]?(i=i.v,a=String(a).toString(),a in i.a&&(y=i.a[a],c=iv(y,c,d,m),-1<c&&(Mf(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete i.a[a],i.b--)))):i&&(i=jf(i))&&(a=i.a[a.toString()],i=-1,a&&(i=iv(a,c,d,m)),(c=-1<i?a[i]:null)&&eb(c))}function eb(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[Bu])rv(a.v,i);else{var c=i.type,d=i.proxy;a.removeEventListener?a.removeEventListener(c,d,i.capture):a.detachEvent?a.detachEvent(tb(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=jf(a))?(rv(c,i),c.b==0&&(c.src=null,a[ov]=null)):Mf(i)}}}function tb(i){return i in sv?sv[i]:sv[i]="on"+i}function nb(i,a,c,d){var m=!0;if((i=jf(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var y=a[i];y&&y.capture==c&&!y.wa&&(y=rb(y,d),m=m&&y!==!1)}return m}function rb(i,a){var c=i.listener,d=i.Wa||i.src;return i.Qa&&eb(i),c.call(d,a)}function ij(i,a){if(i.wa)return!0;if(!JT){if(!a)e:{a=["window","event"];for(var c=f,d=0;d<a.length;d++)if(c=c[a[d]],c==null){a=null;break e}a=c}if(d=a,a=new _o(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.b;m;m=m.parentNode)d.push(m);for(i=i.type,m=d.length-1;0<=m;m--){a.b=d[m];var y=nb(d[m],i,!0,a);c=c&&y}for(m=0;m<d.length;m++)a.b=d[m],y=nb(d[m],i,!1,a),c=c&&y}return c}return rb(i,new _o(a,this))}function jf(i){return i=i[ov],i instanceof Vf?i:null}var uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function lv(i){return I(i)?i:(i[uv]||(i[uv]=function(a){return i.handleEvent(a)}),i[uv])}function Ht(){Lf.call(this),this.v=new Vf(this),this.bc=this,this.hb=null}L(Ht,Lf),Ht.prototype[Bu]=!0,Ht.prototype.addEventListener=function(i,a,c,d){Fn(this,i,a,c,d)},Ht.prototype.removeEventListener=function(i,a,c,d){En(this,i,a,c,d)},Ht.prototype.dispatchEvent=function(i){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new un(i,c);else if(i instanceof un)i.target=i.target||c;else{var m=i;i=new un(d,c),sn(i,m)}if(m=!0,a)for(var y=a.length-1;0<=y;y--){var S=i.b=a[y];m=Ff(S,d,!0,i)&&m}if(S=i.b=c,m=Ff(S,d,!0,i)&&m,m=Ff(S,d,!1,i)&&m,a)for(y=0;y<a.length;y++)S=i.b=a[y],m=Ff(S,d,!1,i)&&m;return m},Ht.prototype.Da=function(){if(Ht.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var c=i.a[a],d=0;d<c.length;d++)Mf(c[d]);delete i.a[a],i.b--}}this.hb=null};function ib(i,a,c,d,m){i.v.add(String(a),c,!1,d,m)}function cv(i,a,c,d,m){i.v.add(String(a),c,!0,d,m)}function Ff(i,a,c,d){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,y=0;y<a.length;++y){var S=a[y];if(S&&!S.wa&&S.capture==c){var x=S.listener,M=S.Wa||S.src;S.Qa&&rv(i.v,S),m=x.call(M,d)!==!1&&m}}return m&&!d.defaultPrevented}function fv(i,a,c){if(I(i))c&&(i=_(i,c));else if(i&&typeof i.handleEvent=="function")i=_(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function Gs(i){var a=null;return new fe(function(c,d){a=fv(function(){c(void 0)},i),a==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function ob(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(T(i)){for(var a=[],c=i.length,d=0;d<c;d++)a.push(i[d]);return a}a=[],c=0;for(d in i)a[c++]=i[d];return a}function sb(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(T(i)||typeof i=="string"){var a=[];i=i.length;for(var c=0;c<i;c++)a.push(c);return a}a=[],c=0;for(var d in i)a[c++]=d;return a}}function oj(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(T(i)||typeof i=="string")Fe(i,a,void 0);else for(var c=sb(i),d=ob(i),m=d.length,y=0;y<m;y++)a.call(void 0,d[y],c&&c[y],i)}function Qs(i,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof Qs)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}e=Qs.prototype,e.X=function(){hv(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return hv(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function hv(i){if(i.c!=i.a.length){for(var a=0,c=0;a<i.a.length;){var d=i.a[a];Do(i.b,d)&&(i.a[c++]=d),a++}i.a.length=c}if(i.c!=i.a.length){var m={};for(c=a=0;a<i.a.length;)d=i.a[a],Do(m,d)||(i.a[c++]=d,m[d]=1),a++;i.a.length=c}}e.get=function(i,a){return Do(this.b,i)?this.b[i]:a},e.set=function(i,a){Do(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var c=this.Y(),d=0;d<c.length;d++){var m=c[d],y=this.get(m);i.call(a,y,m,this)}};function Do(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var ab=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sj(i,a){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),m=null;if(0<=d){var y=i[c].substring(0,d);m=i[c].substring(d+1)}else y=i[c];a(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Ii(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof Ii?(this.i=a!==void 0?a:i.i,qu(this,i.c),this.l=i.l,this.a=i.a,zu(this,i.g),this.f=i.f,dv(this,fb(i.b)),this.h=i.h):i&&(c=String(i).match(ab))?(this.i=!!a,qu(this,c[1]||"",!0),this.l=Ku(c[2]||""),this.a=Ku(c[3]||"",!0),zu(this,c[4]),this.f=Ku(c[5]||"",!0),dv(this,c[6]||"",!0),this.h=Ku(c[7]||"")):(this.i=!!a,this.b=new Po(null,this.i))}Ii.prototype.toString=function(){var i=[],a=this.c;a&&i.push(Hu(a,ub,!0),":");var c=this.a;return(c||a=="file")&&(i.push("//"),(a=this.l)&&i.push(Hu(a,ub,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(Hu(c,c.charAt(0)=="/"?lj:uj,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",Hu(c,fj)),i.join("")},Ii.prototype.resolve=function(i){var a=new Ii(this),c=!!i.c;c?qu(a,i.c):c=!!i.l,c?a.l=i.l:c=!!i.a,c?a.a=i.a:c=i.g!=null;var d=i.f;if(c)zu(a,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var m=a.f.lastIndexOf("/");m!=-1&&(d=a.f.substr(0,m+1)+d)}if(m=d,m==".."||m==".")d="";else if(ke(m,"./")||ke(m,"/.")){d=m.lastIndexOf("/",0)==0,m=m.split("/");for(var y=[],S=0;S<m.length;){var x=m[S++];x=="."?d&&S==m.length&&y.push(""):x==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),d&&S==m.length&&y.push("")):(y.push(x),d=!0)}d=y.join("/")}else d=m}return c?a.f=d:c=i.b.toString()!=="",c?dv(a,fb(i.b)):c=!!i.h,c&&(a.h=i.h),a};function qu(i,a,c){i.c=c?Ku(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function zu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function dv(i,a,c){a instanceof Po?(i.b=a,hj(i.b,i.i)):(c||(a=Hu(a,cj)),i.b=new Po(a,i.i))}function Je(i,a,c){i.b.set(a,c)}function Un(i,a){return i.b.get(a)}function ln(i){return i instanceof Ii?new Ii(i):new Ii(i,void 0)}function Uf(i,a,c,d){var m=new Ii(null,void 0);return i&&qu(m,i),a&&(m.a=a),c&&zu(m,c),d&&(m.f=d),m}function Ku(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Hu(i,a,c){return typeof i=="string"?(i=encodeURI(i).replace(a,aj),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function aj(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var ub=/[#\/\?@]/g,uj=/[#\?:]/g,lj=/[#\?]/g,cj=/[#\?@]/g,fj=/#/g;function Po(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function ki(i){i.a||(i.a=new Qs,i.b=0,i.c&&sj(i.c,function(a,c){i.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function lb(i){var a=sb(i);if(typeof a>"u")throw Error("Keys are undefined");var c=new Po(null,void 0);i=ob(i);for(var d=0;d<a.length;d++){var m=a[d],y=i[d];Array.isArray(y)?cb(c,m,y):c.add(m,y)}return c}e=Po.prototype,e.add=function(i,a){ki(this),this.c=null,i=Xs(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(a),this.b+=1,this};function Er(i,a){ki(i),a=Xs(i,a),Do(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Do(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&hv(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function pv(i,a){return ki(i),a=Xs(i,a),Do(i.a.b,a)}e.forEach=function(i,a){ki(this),this.a.forEach(function(c,d){Fe(c,function(m){i.call(a,m,d,this)},this)},this)},e.Y=function(){ki(this);for(var i=this.a.X(),a=this.a.Y(),c=[],d=0;d<a.length;d++)for(var m=i[d],y=0;y<m.length;y++)c.push(a[d]);return c},e.X=function(i){ki(this);var a=[];if(typeof i=="string")pv(this,i)&&(a=qm(a,this.a.get(Xs(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)a=qm(a,i[c])}return a},e.set=function(i,a){return ki(this),this.c=null,i=Xs(this,i),pv(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function cb(i,a,c){Er(i,a),0<c.length&&(i.c=null,i.a.set(Xs(i,a),xo(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),c=0;c<a.length;c++){var d=a[c],m=encodeURIComponent(String(d));d=this.X(d);for(var y=0;y<d.length;y++){var S=m;d[y]!==""&&(S+="="+encodeURIComponent(String(d[y]))),i.push(S)}}return this.c=i.join("&")};function fb(i){var a=new Po;return a.c=i.c,i.a&&(a.a=new Qs(i.a),a.b=i.b),a}function Xs(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function hj(i,a){a&&!i.f&&(ki(i),i.c=null,i.a.forEach(function(c,d){var m=d.toLowerCase();d!=m&&(Er(this,d),cb(this,m,c))},i)),i.f=a}function hb(i){var a=[];return mv(new dj,i,a),a.join("")}function dj(){}function mv(i,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var d=a;a=d.length,c.push("[");for(var m="",y=0;y<a;y++)c.push(m),mv(i,d[y],c),m=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(y=a[d],typeof y!="function"&&(c.push(m),pb(d,c),c.push(":"),mv(i,y,c),m=","));c.push("}");return}}switch(typeof a){case"string":pb(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var db={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},pj=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function pb(i,a){a.push('"',i.replace(pj,function(c){var d=db[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),db[c]=d),d}),'"')}function vv(){var i=Tt();return Zn&&!!bi&&bi==11||/Edge\/\d+/.test(i)}function Wu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function mb(i,a){a=a||f.window;var c="about:blank";i&&(c=_f(bT(i)||kT)),a.location.href=c}function vb(i,a){var c=[],d;for(d in i)d in a?typeof i[d]!=typeof a[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&a[d]!=null?0<vb(i[d],a[d]).length&&c.push(d):i[d]!==a[d]&&c.push(d):c.push(d);for(d in a)d in i||c.push(d);return c}function mj(){var i=Tt();return i=Ys(i)!=Sb?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Zn||!bi||9<bi}function gb(i){return i=(i||Tt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function Ro(i){i=i||f.window;try{i.close()}catch{}}function yb(i,a,c){var d=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var m=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<m?m:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Tt().toLowerCase(),d&&(a.target=d,ke(c,"crios/")&&(a.target="_blank")),Ys(Tt())==wv&&(i=i||"http://localhost",a.scrollbars=!0),c=i||"",(i=a)||(i={}),d=window,a=c instanceof an?c:bT(typeof c.href<"u"?c.href:String(c))||kT,c=i.target||c.target,m=[];for(S in i)switch(S){case"width":case"height":case"top":case"left":m.push(S+"="+i[S]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(S+"="+(i[S]?1:0))}var S=m.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(S=Pf(document,"A"),gT(S,"HTMLAnchorElement"),a=a instanceof an?a:IT(a),S.href=_f(a),S.setAttribute("target",c),i.noreferrer&&S.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),S.dispatchEvent(i),S={}):i.noreferrer?(S=AT("",d,c,S),i=_f(a),S&&(FV&&ke(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),S.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wm(i)+'">',i=(d=wT())?d.createHTML(i):i,i=new Hs(i,null,xT),d=S.document)&&(d.write(LV(i)),d.close())):(S=AT(a,d,c,S))&&i.noopener&&(S.opener=null),S)try{S.focus()}catch{}return S}function vj(i){return new fe(function(a){function c(){Gs(2e3).then(function(){if(!i||i.closed)a();else return c()})}return c()})}var gj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yj=/^[^@]+@[^@]+$/;function $f(){var i=null;return new fe(function(a){f.document.readyState=="complete"?a():(i=function(){a()},av(window,"load",i))}).o(function(a){throw En(window,"load",i),a})}function wj(){return gv(void 0)?$f().then(function(){return new fe(function(i,a){var c=f.document,d=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):Oe(Error("Cordova must run in an Android or iOS file scheme."))}function gv(i){return i=i||Tt(),!(Zs()!=="file:"&&Zs()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function yv(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function er(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Tr(){return J.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.INTERNAL.hasOwnProperty("node")?"Node":er()?"Worker":"Browser"}function wb(){var i=Tr();return i==="ReactNative"||i==="Node"}function Sj(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var wv="Firefox",Sb="Chrome";function Ys(i){var a=i.toLowerCase();if(ke(a,"opera/")||ke(a,"opr/")||ke(a,"opios/"))return"Opera";if(ke(a,"iemobile"))return"IEMobile";if(ke(a,"msie")||ke(a,"trident/"))return"IE";if(ke(a,"edge/"))return"Edge";if(ke(a,"firefox/"))return wv;if(ke(a,"silk/"))return"Silk";if(ke(a,"blackberry"))return"Blackberry";if(ke(a,"webos"))return"Webos";if(!ke(a,"safari/")||ke(a,"chrome/")||ke(a,"crios/")||ke(a,"android"))if(!ke(a,"chrome/")&&!ke(a,"crios/")||ke(a,"edge/")){if(ke(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return Sb;else return"Safari";return"Other"}var Eb={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Js(i,a){a=a||[];var c=[],d={},m;for(m in Eb)d[Eb[m]]=!0;for(m=0;m<a.length;m++)typeof d[a[m]]<"u"&&(delete d[a[m]],c.push(a[m]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Tr(),c==="Browser"?(d=Tt(),c=Ys(d)):c==="Worker"&&(d=Tt(),c=Ys(d)+"-"+c),c+"/JsCore/"+i+"/"+a.join(",")}function Tt(){return f.navigator&&f.navigator.userAgent||""}function Le(i,a){i=i.split("."),a=a||f;for(var c=0;c<i.length&&typeof a=="object"&&a!=null;c++)a=a[i[c]];return c!=i.length&&(a=void 0),a}function Sv(){try{var i=f.localStorage,a=Lo();if(i)return i.setItem(a,"1"),i.removeItem(a),vv()?!!f.indexedDB:!0}catch{return er()&&!!f.indexedDB}return!1}function Oo(){return(Bf()||Zs()==="chrome-extension:"||gv())&&!wb()&&Sv()&&!er()}function Bf(){return Zs()==="http:"||Zs()==="https:"}function Zs(){return f.location&&f.location.protocol||null}function Gu(i){return i=i||Tt(),!(gb(i)||Ys(i)==wv)}function Qu(i){return typeof i>"u"?null:hb(i)}function Tb(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(a[c]=i[c]);return a}function ea(i){if(i!==null)return JSON.parse(i)}function Lo(i){return i||Math.floor(1e9*Math.random()).toString()}function bb(i){return i=i||Tt(),!(Ys(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function Ib(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function xi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=Tt(),a=Tr(),this.b=gb(i)||a==="ReactNative"}xi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Bf()||Zs()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Ev(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function Ej(){var i=f.document,a=null;return Ev()||!i?ee():new fe(function(c){a=function(){Ev()&&(i.removeEventListener("visibilitychange",a,!1),c())},i.addEventListener("visibilitychange",a,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",a,!1),c})}function Xu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function kb(){return!(!Le("fireauth.oauthhelper",f)&&!Le("fireauth.iframe",f))}function Tj(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function bj(){var i=f.navigator;return i&&i.serviceWorker?ee().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):ee(null)}var xb={};function Tv(i){xb[i]||(xb[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var bv;try{var Iv={};Object.defineProperty(Iv,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Iv,"abcd",{configurable:!0,enumerable:!0,value:2}),bv=Iv.abcd==2}catch{bv=!1}function X(i,a,c){bv?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:c}):i[a]=c}function Wt(i,a){if(a)for(var c in a)a.hasOwnProperty(c)&&X(i,c,a[c])}function br(i){var a={};return Wt(a,i),a}function Ij(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);return a}function kj(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var c=0;c<a.length;c++){var d=i[a[c]];if(d==null||d==="")return!1}return!0}function kv(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var c in i)X(a,c,kv(i[c]))}return a}function xv(i){var a=i&&(i[_v]?"phone":null);if(a&&i&&i[Nv]){X(this,"uid",i[Nv]),X(this,"displayName",i[Ab]||null);var c=null;i[Cv]&&(c=new Date(i[Cv]).toUTCString()),X(this,"enrollmentTime",c),X(this,"factorId",a)}else throw new C("internal-error","Internal assert: invalid MultiFactorInfo object")}xv.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Av(i){try{var a=new Yu(i)}catch{a=null}return a}var Ab="displayName",Cv="enrolledAt",Nv="mfaEnrollmentId",_v="phoneInfo";function Yu(i){xv.call(this,i),X(this,"phoneNumber",i[_v])}L(Yu,xv),Yu.prototype.w=function(){var i=Yu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function xj(i){var a={},c=i[Aj],d=i[Nj],m=i[_j];if(i=Av(i[Cj]),!m||m!=qf&&m!=Ju&&!c||m==Ju&&!d||m==Dv&&!i)throw Error("Invalid checkActionCode response!");m==Ju?(a[Nb]=c||null,a[_b]=c||null,a[Cb]=d):(a[Nb]=d||null,a[_b]=d||null,a[Cb]=c||null),a[Dj]=i||null,X(this,Rj,m),X(this,Pj,kv(a))}var Dv="REVERT_SECOND_FACTOR_ADDITION",qf="EMAIL_SIGNIN",Ju="VERIFY_AND_CHANGE_EMAIL",Aj="email",Cj="mfaInfo",Nj="newEmail",_j="requestType",Cb="email",Nb="fromEmail",Dj="multiFactorInfo",_b="previousEmail",Pj="data",Rj="operation";function Pv(i){i=ln(i);var a=Un(i,Db)||null,c=Un(i,Pb)||null,d=Un(i,Rb)||null;if(d=d&&Vj[d]||null,!a||!c||!d)throw new C("argument-error",Db+", "+Pb+"and "+Rb+" are required in a valid action code URL.");Wt(this,{apiKey:a,operation:d,code:c,continueUrl:Un(i,Oj)||null,languageCode:Un(i,Lj)||null,tenantId:Un(i,Mj)||null})}var Db="apiKey",Pb="oobCode",Oj="continueUrl",Lj="languageCode",Rb="mode",Mj="tenantId",Vj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Dv,signIn:qf,verifyAndChangeEmail:Ju,verifyEmail:"VERIFY_EMAIL"};function Ob(i){try{return new Pv(i)}catch{return null}}function zf(i){var a=i[jj];if(typeof a>"u")throw new C("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new C("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=i[Lb];if(c&&typeof c=="object"){a=c[Ub];var d=c[jb];if(c=c[Fb],typeof a=="string"&&a.length){if(this.a=a,typeof d<"u"&&typeof d!="boolean")throw new C("argument-error",jb+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new C("argument-error",Fb+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new C("argument-error",Ub+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new C("missing-android-pkg-name")}}else if(typeof c<"u")throw new C("argument-error",Lb+" property must be a non null object when specified.");if(this.f=null,(a=i[Vb])&&typeof a=="object"){if(a=a[$b],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new C("argument-error",$b+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new C("argument-error",Vb+" property must be a non null object when specified.");if(a=i[Rv],typeof a<"u"&&typeof a!="boolean")throw new C("argument-error",Rv+" property must be a boolean when specified.");if(this.c=!!a,i=i[Mb],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new C("argument-error",Mb+" property must be a non empty string when specified.");this.i=i||null}var Lb="android",Mb="dynamicLinkDomain",Rv="handleCodeInApp",Vb="iOS",jj="url",jb="installApp",Fb="minimumVersion",Ub="packageName",$b="bundleId";function Kf(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var c in a)a[c]===null&&delete a[c];return a}function Fj(i){return xf(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Zu=null;function Uj(i){var a=[];return $j(i,function(c){a.push(c)}),a}function $j(i,a){function c(M){for(;d<i.length;){var F=i.charAt(d++),ae=Zu[F];if(ae!=null)return ae;if(!/^[\s\xa0]*$/.test(F))throw Error("Unknown base64 encoding at char: "+F)}return M}Bj();for(var d=0;;){var m=c(-1),y=c(0),S=c(64),x=c(64);if(x===64&&m===-1)break;a(m<<2|y>>4),S!=64&&(a(y<<4&240|S>>2),x!=64&&a(S<<6&192|x))}}function Bj(){if(!Zu){Zu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(a[c].split("")),m=0;m<d.length;m++){var y=d[m];Zu[y]===void 0&&(Zu[y]=m)}}}function Hf(i){var a=Bb(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Hf.prototype.T=function(){return this.f},Hf.prototype.l=function(){return this.c},Hf.prototype.toString=function(){return this.h};function Wf(i){try{return new Hf(i)}catch{return null}}function Bb(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,c=0;c<a;c++)i+=".";try{var d=Uj(i);for(i=[],c=a=0;a<d.length;){var m=d[a++];if(128>m)i[c++]=String.fromCharCode(m);else if(191<m&&224>m){var y=d[a++];i[c++]=String.fromCharCode((m&31)<<6|y&63)}else if(239<m&&365>m){y=d[a++];var S=d[a++],x=d[a++],M=((m&7)<<18|(y&63)<<12|(S&63)<<6|x&63)-65536;i[c++]=String.fromCharCode(55296+(M>>10)),i[c++]=String.fromCharCode(56320+(M&1023))}else y=d[a++],S=d[a++],i[c++]=String.fromCharCode((m&15)<<12|(y&63)<<6|S&63)}return JSON.parse(i.join(""))}catch{}return null}var qb="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gf=["client_id","response_type","scope","redirect_uri","state"],Ov={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gf},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gf},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gf},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:qb},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Lv(i){for(var a in Ov)if(Ov[a].fa==i)return Ov[a];return null}function zb(i){var a={};a["facebook.com"]=Hb,a["google.com"]=Gb,a["github.com"]=Wb,a["twitter.com"]=Qb;var c=i&&i[Kb];try{if(c)return a[c]?new a[c](i):new Ir(i);if(typeof i[Mv]<"u")return new Vv(i)}catch{}return null}var Mv="idToken",Kb="providerId";function Vv(i){var a=i[Kb];if(!a&&i[Mv]){var c=Wf(i[Mv]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),X(this,"providerId",a),X(this,"isNewUser",c)}function Ir(i){Vv.call(this,i),i=ea(i.rawUserInfo||"{}"),X(this,"profile",kv(i||{}))}L(Ir,Vv);function Hb(i){if(Ir.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(Hb,Ir);function Wb(i){if(Ir.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");X(this,"username",this.profile&&this.profile.login||null)}L(Wb,Ir);function Gb(i){if(Ir.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(Gb,Ir);function Qb(i){if(Ir.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");X(this,"username",i.screenName||null)}L(Qb,Ir);function Xb(i){var a=ln(i),c=Un(a,"link"),d=Un(ln(c),"link");return a=Un(a,"deep_link_id"),Un(ln(a),"link")||a||d||c||i}function Qf(i,a){if(!i&&!a)throw new C("internal-error","Internal assert: no raw session string available");if(i&&a)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?el:Xf}var el="enroll",Xf="signin";Qf.prototype.Ha=function(){return this.a?ee(this.a):ee(this.b)},Qf.prototype.w=function(){return this.type==el?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ta(){}ta.prototype.ka=function(){},ta.prototype.b=function(){},ta.prototype.c=function(){},ta.prototype.w=function(){};function na(i,a){return i.then(function(c){if(c[rr]){var d=Wf(c[rr]);if(!d||a!=d.i)throw new C("user-mismatch");return c}throw new C("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==on+"user-not-found"?new C("user-mismatch"):c})}function Mo(i,a){if(a)this.a=a;else throw new C("internal-error","failed to construct a credential");X(this,"providerId",i),X(this,"signInMethod",i)}Mo.prototype.ka=function(i){return ag(i,jv(this))},Mo.prototype.b=function(i,a){var c=jv(this);return c.idToken=a,ug(i,c)},Mo.prototype.c=function(i,a){return na(lg(i,jv(this)),a)};function jv(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function qj(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Mo(i.providerId,i.pendingToken)}catch{}return null}function Hr(i,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&X(this,"idToken",a.idToken),a.accessToken&&X(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&X(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)X(this,"accessToken",a.oauthToken),X(this,"secret",a.oauthTokenSecret);else throw new C("internal-error","failed to construct a credential");X(this,"providerId",i),X(this,"signInMethod",c)}Hr.prototype.ka=function(i){return ag(i,Fv(this))},Hr.prototype.b=function(i,a){var c=Fv(this);return c.idToken=a,ug(i,c)},Hr.prototype.c=function(i,a){var c=Fv(this);return na(lg(i,c),a)};function Fv(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:lb(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}Hr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function zj(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Hr(i.providerId,a,i.signInMethod)}catch{}}return null}function Vo(i,a){this.Qc=a||[],Wt(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Lv(i)||{}).Ja||null,this.pb=null}Vo.prototype.Ka=function(i){return this.Jb=Ti(i),this};function Yb(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');Vo.call(this,i,[])}L(Yb,Vo);function Tn(i){Vo.call(this,i,Gf),this.a=[]}L(Tn,Vo),Tn.prototype.Ca=function(i){return zr(this.a,i)||this.a.push(i),this},Tn.prototype.Rb=function(){return xo(this.a)},Tn.prototype.credential=function(i,a){var c;if(A(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new Hr(this.providerId,c,this.providerId)};function jo(){Tn.call(this,"facebook.com")}L(jo,Tn),X(jo,"PROVIDER_ID","facebook.com"),X(jo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Jb(i){if(!i)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return A(i)&&(a=i.accessToken),new jo().credential({accessToken:a})}function Fo(){Tn.call(this,"github.com")}L(Fo,Tn),X(Fo,"PROVIDER_ID","github.com"),X(Fo,"GITHUB_SIGN_IN_METHOD","github.com");function Zb(i){if(!i)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return A(i)&&(a=i.accessToken),new Fo().credential({accessToken:a})}function Uo(){Tn.call(this,"google.com"),this.Ca("profile")}L(Uo,Tn),X(Uo,"PROVIDER_ID","google.com"),X(Uo,"GOOGLE_SIGN_IN_METHOD","google.com");function eI(i,a){var c=i;return A(i)&&(c=i.idToken,a=i.accessToken),new Uo().credential({idToken:c,accessToken:a})}function ra(){Vo.call(this,"twitter.com",qb)}L(ra,Vo),X(ra,"PROVIDER_ID","twitter.com"),X(ra,"TWITTER_SIGN_IN_METHOD","twitter.com");function tI(i,a){var c=i;if(A(c)||(c={oauthToken:i,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Hr("twitter.com",c,"twitter.com")}function Ai(i,a,c){this.a=i,this.f=a,X(this,"providerId","password"),X(this,"signInMethod",c===$n.EMAIL_LINK_SIGN_IN_METHOD?$n.EMAIL_LINK_SIGN_IN_METHOD:$n.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ai.prototype.ka=function(i){return this.signInMethod==$n.EMAIL_LINK_SIGN_IN_METHOD?de(i,CF,{email:this.a,oobCode:this.f}):de(i,NI,{email:this.a,password:this.f})},Ai.prototype.b=function(i,a){return this.signInMethod==$n.EMAIL_LINK_SIGN_IN_METHOD?de(i,NF,{idToken:a,email:this.a,oobCode:this.f}):de(i,CI,{idToken:a,email:this.a,password:this.f})},Ai.prototype.c=function(i,a){return na(this.ka(i),a)},Ai.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Kj(i){return i&&i.email&&i.password?new Ai(i.email,i.password,i.signInMethod):null}function $n(){Wt(this,{providerId:"password",isOAuthProvider:!1})}function nI(i,a){if(a=Uv(a),!a)throw new C("argument-error","Invalid email link!");return new Ai(i,a.code,$n.EMAIL_LINK_SIGN_IN_METHOD)}function Uv(i){return i=Xb(i),(i=Ob(i))&&i.operation===qf?i:null}Wt($n,{PROVIDER_ID:"password"}),Wt($n,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wt($n,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ci(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new C("internal-error");this.a=i,X(this,"providerId","phone"),this.fa="phone",X(this,"signInMethod","phone")}Ci.prototype.ka=function(i){return i.gb(tl(this))},Ci.prototype.b=function(i,a){var c=tl(this);return c.idToken=a,de(i,QF,c)},Ci.prototype.c=function(i,a){var c=tl(this);return c.operation="REAUTH",i=de(i,XF,c),na(i,a)},Ci.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function Hj(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return Fe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(a[c]=i[c])}),new Ci(a)}return null}function tl(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Wr(i){try{this.a=i||J.auth()}catch{throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wt(this,{providerId:"phone",isOAuthProvider:!1})}Wr.prototype.gb=function(i,a){var c=this.a.a;return ee(a.verify()).then(function(d){if(typeof d!="string")throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var m=A(i)?i.session:null,y=A(i)?i.phoneNumber:i,S;return m&&m.type==el?S=m.Ha().then(function(x){return wF(c,{idToken:x,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:d}})}):m&&m.type==Xf?S=m.Ha().then(function(x){return SF(c,{mfaPendingCredential:x,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):S=yF(c,{phoneNumber:y,recaptchaToken:d}),S.then(function(x){return typeof a.reset=="function"&&a.reset(),x},function(x){throw typeof a.reset=="function"&&a.reset(),x});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function rI(i,a){if(!i)throw new C("missing-verification-id");if(!a)throw new C("missing-verification-code");return new Ci({fb:i,eb:a})}Wt(Wr,{PROVIDER_ID:"phone"}),Wt(Wr,{PHONE_SIGN_IN_METHOD:"phone"});function $v(i){if(i.temporaryProof&&i.phoneNumber)return new Ci({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,m=i&&i.nonce,y=i&&i.oauthIdToken,S=i&&i.pendingToken;try{switch(a){case"google.com":return eI(y,c);case"facebook.com":return Jb(c);case"github.com":return Zb(c);case"twitter.com":return tI(c,d);default:return c||d||y||S?S?a.indexOf("saml.")==0?new Mo(a,S):new Hr(a,{pendingToken:S,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Tn(a).credential({idToken:y,accessToken:c,rawNonce:m}):null}}catch{return null}}function Bv(i){if(!i.isOAuthProvider)throw new C("invalid-oauth-provider")}function tr(i,a,c,d,m,y,S){if(this.c=i,this.b=a||null,this.g=c||null,this.f=d||null,this.i=y||null,this.h=S||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}else throw new C("invalid-auth-event")}tr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},tr.prototype.T=function(){return this.h},tr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function iI(i){return i=i||{},i.type?new tr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Re(i.error),i.postBody,i.tenantId):null}function Wj(){this.b=null,this.a=[]}var qv=null;function Gj(i){var a=qv;a.a.push(i),a.b||(a.b=function(c){for(var d=0;d<a.a.length;d++)a.a[d](c)},i=Le("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function zv(i){var a="unauthorized-domain",c=void 0,d=ln(i);i=d.a,d=d.c,d=="chrome-extension"?c=CT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=CT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",C.call(this,a,c)}L(zv,C);function nl(i,a,c){C.call(this,i,c),i=a||{},i.Kb&&X(this,"email",i.Kb),i.ea&&X(this,"phoneNumber",i.ea),i.credential&&X(this,"credential",i.credential),i.$b&&X(this,"tenantId",i.$b)}L(nl,C),nl.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&sn(i,a),i},nl.prototype.toJSON=function(){return this.w()};function Yf(i){if(i.code){var a=i.code||"";a.indexOf(on)==0&&(a=a.substring(on.length));var c={credential:$v(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new C(a,i.message||void 0);return new nl(a,c,i.message)}return null}function rl(){}rl.prototype.c=null;function oI(i){return i.c||(i.c=i.b())}var Kv;function Jf(){}L(Jf,rl),Jf.prototype.a=function(){var i=sI(this);return i?new ActiveXObject(i):new XMLHttpRequest},Jf.prototype.b=function(){var i={};return sI(this)&&(i[0]=!0,i[1]=!0),i};function sI(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Kv=new Jf;function Zf(){}L(Zf,rl),Zf.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new aI;throw Error("Unsupported browser")},Zf.prototype.b=function(){return{}};function aI(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}e=aI.prototype,e.open=function(i,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Hv(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Hv(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Hv(this,1)};function Hv(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Wv(i,a,c){this.reset(i,a,c,void 0,void 0)}Wv.prototype.a=null,Wv.prototype.reset=function(i,a,c,d,m){delete this.a};function Gv(i){this.f=i,this.b=this.c=this.a=null}function il(i,a){this.name=i,this.value=a}il.prototype.toString=function(){return this.name};var uI=new il("SEVERE",1e3),Qv=new il("WARNING",900),Qj=new il("CONFIG",700),Xj=new il("FINE",500);function lI(i){return i.c?i.c:i.a?lI(i.a):(ie("Root logger has no level set."),null)}Gv.prototype.log=function(i,a,c){if(i.value>=lI(this).value)for(I(a)&&(a=a()),i=new Wv(i,String(a),this.f),c&&(i.a=c),c=this;c;)c=c.a};var Xv={},eh=null;function Yv(i){eh||(eh=new Gv(""),Xv[""]=eh,eh.c=Qj);var a;if(!(a=Xv[i])){a=new Gv(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=Yv(i.substr(0,c)),c.b||(c.b={}),c.b[d]=a,a.a=c,Xv[i]=a}return a}function Bn(i,a){i&&i.log(Xj,a,void 0)}function th(i){this.f=i}L(th,rl),th.prototype.a=function(){return new nh(this.f)},th.prototype.b=function(i){return function(){return i}}({});function nh(i){Ht.call(this),this.u=i,this.h=void 0,this.readyState=Jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Yv("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(nh,Ht);var Jv=0;e=nh.prototype,e.open=function(i,a){if(this.readyState!=Jv)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,sl(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ol(this)),this.readyState=Jv},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,sl(this)),this.a&&(this.readyState=3,sl(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,cI(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function cI(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?ol(this):sl(this),this.readyState==3&&cI(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,ol(this))},e.sc=function(i){this.a&&(this.response=i,ol(this))},e.Va=function(i){var a=this.i;a&&a.log(Qv,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&ol(this)};function ol(i){i.readyState=4,i.g=null,i.c=null,i.m=null,sl(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Qv,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Qv,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=a.next();return i.join(`\r
`)};function sl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function al(i){Ht.call(this),this.headers=new Qs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=fI,this.u=this.S=!1}L(al,Ht);var fI="";al.prototype.b=Yv("goog.net.XhrIo");var Yj=/^https?$/i,Jj=["POST","PUT"];function Zj(i,a,c,d,m){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);c=c?c.toUpperCase():"GET",i.l=a,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Kv.a(),i.C=i.D?oI(i.D):oI(Kv),i.a.onreadystatechange=_(i.Wb,i);try{Bn(i.b,Gr(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(a),!0),i.N=!1}catch(S){Bn(i.b,Gr(i,"Error opening Xhr: "+S.message)),hI(i,S);return}a=d||"";var y=new Qs(i.headers);m&&oj(m,function(S,x){y.set(x,S)}),m=TV(y.Y()),d=f.FormData&&a instanceof f.FormData,!zr(Jj,c)||m||d||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(S,x){this.a.setRequestHeader(x,S)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{mI(i),0<i.g&&(i.u=eF(i.a),Bn(i.b,Gr(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=_(i.Ma,i)):i.s=fv(i.Ma,i.g,i)),Bn(i.b,Gr(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(S){Bn(i.b,Gr(i,"Send error: "+S.message)),hI(i,S)}}function eF(i){return Zn&&PT(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function tF(i){return i.toLowerCase()=="content-type"}e=al.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Bn(this.b,Gr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function hI(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,dI(i),rh(i)}function dI(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Bn(this.b,Gr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rh(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),rh(this,!0)),al.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?pI(this):this.Jc())},e.Jc=function(){pI(this)};function pI(i){if(i.c&&typeof l<"u"){if(i.C[1]&&ul(i)==4&&ih(i)==2)Bn(i.b,Gr(i,"Local request error detected and ignored"));else if(i.i&&ul(i)==4)fv(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),ul(i)==4){Bn(i.b,Gr(i,"Request complete")),i.c=!1;try{var a=ih(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var m;if(m=a===0){var y=String(i.l).match(ab)[1]||null;if(!y&&f.self&&f.self.location){var S=f.self.location.protocol;y=S.substr(0,S.length-1)}m=!Yj.test(y?y.toLowerCase():"")}d=m}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var x=2<ul(i)?i.a.statusText:""}catch(M){Bn(i.b,"Can not get status: "+M.message),x=""}i.h=x+" ["+ih(i)+"]",dI(i)}}finally{rh(i)}}}}function rh(i,a){if(i.a){mI(i);var c=i.a,d=i.C[0]?g:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(m){(i=i.b)&&i.log(uI,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function mI(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ul(i){return i.a?i.a.readyState:0}function ih(i){try{return 2<ul(i)?i.a.status:-1}catch{return-1}}function nF(i){try{return i.a?i.a.responseText:""}catch(a){return Bn(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fI:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(uI,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Bn(this.b,"Can not get response: "+a.message),null}};function Gr(i,a){return a+" ["+i.P+" "+i.l+" "+ih(i)+"]"}function $o(i){var a=oF;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}$o.prototype.cancel=function(i){if(this.a)this.c instanceof $o&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new cl,oh(this),ll(this,!1,i))}},$o.prototype.m=function(i,a){this.i=!1,ll(this,i,a)};function ll(i,a,c){i.a=!0,i.c=c,i.f=!a,gI(i)}function oh(i){if(i.a){if(!i.v)throw new sh;i.v=!1}}function rF(i,a){Zv(i,null,a,void 0)}function Zv(i,a,c,d){i.g.push([a,c,d]),i.a&&gI(i)}$o.prototype.then=function(i,a,c){var d,m,y=new fe(function(S,x){d=S,m=x});return Zv(this,d,function(S){S instanceof cl?y.cancel():m(S)}),y.then(i,a,c)},$o.prototype.$goog_Thenable=!0;function vI(i){return EV(i.g,function(a){return I(a[1])})}function gI(i){if(i.h&&i.a&&vI(i)){var a=i.h,c=ah[a];c&&(f.clearTimeout(c.a),delete ah[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var d=c=!1;i.g.length&&!i.i;){var m=i.g.shift(),y=m[0],S=m[1];if(m=m[2],y=i.f?S:y)try{var x=y.call(m||i.s,a);x!==void 0&&(i.f=i.f&&(x==a||x instanceof Error),i.c=a=x),(He(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(d=!0,i.i=!0)}catch(M){a=M,i.f=!0,vI(i)||(c=!0)}}i.c=a,d&&(x=_(i.m,i,!0),d=_(i.m,i,!1),a instanceof $o?(Zv(a,x,d),a.C=!0):a.then(x,d)),c&&(a=new yI(a),ah[a.a]=a,i.h=a.a)}function sh(){z.call(this)}L(sh,z),sh.prototype.message="Deferred has already fired",sh.prototype.name="AlreadyCalledError";function cl(){z.call(this)}L(cl,z),cl.prototype.message="Deferred was canceled",cl.prototype.name="CanceledError";function yI(i){this.a=f.setTimeout(_(this.c,this),0),this.b=i}yI.prototype.c=function(){throw delete ah[this.a],this.b};var ah={};function eg(i){var a={},c=a.document||document,d=ST(i).toString(),m=Pf(document,"SCRIPT"),y={Xb:m,Ma:void 0},S=new $o(y),x=null,M=a.timeout!=null?a.timeout:5e3;return 0<M&&(x=window.setTimeout(function(){uh(m,!0);var F=new tg(aF,"Timeout reached for loading script "+d);oh(S),ll(S,!1,F)},M),y.Ma=x),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(uh(m,a.xd||!1,x),oh(S),ll(S,!0,null))},m.onerror=function(){uh(m,!0,x);var F=new tg(sF,"Error while loading script "+d);oh(S),ll(S,!1,F)},y=a.attributes||{},sn(y,{type:"text/javascript",charset:"UTF-8"}),OT(m,y),MV(m,i),iF(c).appendChild(m),S}function iF(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function oF(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&uh(i,!0,this.Ma)}}function uh(i,a,c){c!=null&&f.clearTimeout(c),i.onload=g,i.onerror=g,i.onreadystatechange=g,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var sF=0,aF=1;function tg(i,a){var c="Jsloader error (code #"+i+")";a&&(c+=": "+a),z.call(this,c),this.code=i}L(tg,z);function lh(i){this.f=i}L(lh,rl),lh.prototype.a=function(){return new this.f},lh.prototype.b=function(){return{}};function nr(i,a,c){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||uF,this.g=Ti(i.secureTokenHeaders||lF),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||cF,this.a=Ti(i.firebaseHeaders||fF),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Tr()=="Node",c=f.XMLHttpRequest||c&&J.INTERNAL.node&&J.INTERNAL.node.XMLHttpRequest,!c&&!er())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,er()?this.f=new th(self):wb()?this.f=new lh(c):this.f=new Zf,this.b=null}var ng,rr="idToken",uF=new xi(3e4,6e4),lF={"Content-Type":"application/x-www-form-urlencoded"},cF=new xi(3e4,6e4),fF={"Content-Type":"application/json"};function wI(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function ch(i,a){a&&(i.l=rg("https://securetoken.googleapis.com/v1/token",a),i.h=rg("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=rg("https://identitytoolkit.googleapis.com/v2/",a))}function rg(i,a){return i=ln(i),a=ln(a.url),i.f=i.a+i.f,qu(i,a.c),i.a=a.a,zu(i,a.g),i.toString()}function SI(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}nr.prototype.T=function(){return this.b};function EI(i,a,c,d,m,y,S){mj()||er()?i=_(i.u,i):(ng||(ng=new fe(function(x,M){dF(x,M)})),i=_(i.s,i)),i(a,c,d,m,y,S)}nr.prototype.u=function(i,a,c,d,m,y){if(er()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new al(this.f);if(y){S.g=Math.max(0,y);var x=setTimeout(function(){S.dispatchEvent("timeout")},y)}ib(S,"complete",function(){x&&clearTimeout(x);var M=null;try{M=JSON.parse(nF(this))||null}catch{M=null}a&&a(M)}),cv(S,"ready",function(){x&&clearTimeout(x),YT(this)}),cv(S,"timeout",function(){x&&clearTimeout(x),YT(this),a&&a(null)}),Zj(S,i,c,d,m)};var hF=new Sr(Cf,"https://apis.google.com/js/client.js?onload=%{onload}"),TI="__fcb"+Math.floor(1e6*Math.random()).toString();function dF(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[TI]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var c=Hm(hF,{onload:TI});rF(eg(c),function(){a(Error("CORS_UNSUPPORTED"))})}}nr.prototype.s=function(i,a,c,d,m){var y=this;ng.then(function(){window.gapi.client.setApiKey(y.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:m,authType:"none",callback:function(x){window.gapi.auth.setToken(S),a&&a(x)}})}).o(function(S){a&&a({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function pF(i,a){return new fe(function(c,d){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?EI(i,i.l+"?key="+encodeURIComponent(i.c),function(m){m?m.error?d(fg(m)):m.access_token&&m.refresh_token?c(m):d(new C("internal-error")):d(new C("network-request-failed"))},"POST",lb(a).toString(),i.g,i.m.get()):d(new C("internal-error"))})}function bI(i,a,c,d,m,y,S){var x=ln(a+c);Je(x,"key",i.c),S&&Je(x,"cb",Date.now().toString());var M=d=="GET";if(M)for(var F in m)m.hasOwnProperty(F)&&Je(x,F,m[F]);return new fe(function(ae,Ee){EI(i,x.toString(),function(ge){ge?ge.error?Ee(fg(ge,y||{})):ae(ge):Ee(new C("network-request-failed"))},d,M?void 0:hb(Tb(m)),i.a,i.v.get())})}function Bo(i){if(i=i.email,typeof i!="string"||!yj.test(i))throw new C("invalid-email")}function II(i){"email"in i&&Bo(i)}function mF(i,a){return de(i,kF,{identifier:a,continueUri:Bf()?Wu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function vF(i){return de(i,VF,{}).then(function(a){return a.authorizedDomains||[]})}function cn(i){if(!i[rr])throw i.mfaPendingCredential?new C("multi-factor-auth-required",null,Ti(i)):new C("internal-error")}function ig(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new C("internal-error")}else{if(!i.sessionInfo)throw new C("missing-verification-id");if(!i.code)throw new C("missing-verification-code")}}nr.prototype.Ab=function(){return de(this,$F,{})},nr.prototype.Cb=function(i,a){return de(this,AI,{idToken:i,email:a})},nr.prototype.Db=function(i,a){return de(this,CI,{idToken:i,password:a})};var gF={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=nr.prototype,e.Eb=function(i,a){var c={idToken:i},d=[];return mT(gF,function(m,y){var S=a[y];S===null?d.push(m):y in a&&(c[y]=S)}),d.length&&(c.deleteAttribute=d),de(this,AI,c)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},sn(i,a),de(this,MF,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},sn(i,a),de(this,RF,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},sn(i,a),de(this,OF,i)},e.Fb=function(i,a,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},sn(i,c),de(this,LF,i)};function yF(i,a){return de(i,UF,a)}e.gb=function(i){return de(this,GF,i)};function wF(i,a){return de(i,BF,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function kI(i){if(!i.phoneVerificationInfo)throw new C("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new C("missing-verification-code")}function SF(i,a){return de(i,qF,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function EF(i,a,c){return de(i,AF,{idToken:a,deleteProvider:c})}function og(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new C("internal-error")}function sg(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Po(i.postBody),pv(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function xI(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=Yf(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=Yf(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=Yf(i)):i.errorMessage&&(a=_I(i.errorMessage)),a)throw a;cn(i)}function ag(i,a){return a.returnIdpCredential=!0,de(i,zF,a)}function ug(i,a){return a.returnIdpCredential=!0,de(i,HF,a)}function lg(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,de(i,KF,a)}function cg(i){if(!i.oobCode)throw new C("invalid-action-code")}e.ob=function(i,a){return de(this,FF,{oobCode:i,newPassword:a})},e.Sa=function(i){return de(this,bF,{oobCode:i})},e.kb=function(i){return de(this,TF,{oobCode:i})};var TF={endpoint:"setAccountInfo",A:cg,Z:"email",B:!0},bF={endpoint:"resetPassword",A:cg,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},B:!0},IF={endpoint:"signupNewUser",A:function(i){if(Bo(i),!i.password)throw new C("weak-password")},G:cn,V:!0,B:!0},kF={endpoint:"createAuthUri",B:!0},xF={endpoint:"deleteAccount",O:["idToken"]},AF={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new C("internal-error")}},CF={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Bo,G:cn,V:!0,B:!0},NF={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Bo,G:cn,V:!0},_F={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:kI,G:cn,B:!0,Na:!0},DF={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:kI,G:cn,B:!0,Na:!0},PF={endpoint:"getAccountInfo"},RF={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new C("internal-error");Bo(i)},Z:"email",B:!0},OF={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new C("internal-error")},Z:"email",B:!0},LF={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},Z:"email",B:!0},MF={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new C("internal-error");Bo(i)},Z:"email",B:!0},VF={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},jF={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new C("internal-error")}},FF={endpoint:"resetPassword",A:cg,Z:"email",B:!0},UF={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},AI={endpoint:"setAccountInfo",O:["idToken"],A:II,V:!0},CI={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(II(i),!i.password)throw new C("weak-password")},G:cn,V:!0},$F={endpoint:"signupNewUser",G:cn,V:!0,B:!0},BF={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new C("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},qF={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},zF={endpoint:"verifyAssertion",A:og,Za:sg,G:xI,V:!0,B:!0},KF={endpoint:"verifyAssertion",A:og,Za:sg,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new C("user-not-found");if(i.errorMessage)throw _I(i.errorMessage);cn(i)},V:!0,B:!0},HF={endpoint:"verifyAssertion",A:function(i){if(og(i),!i.idToken)throw new C("internal-error")},Za:sg,G:xI,V:!0},WF={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new C("invalid-custom-token")},G:cn,V:!0,B:!0},NI={endpoint:"verifyPassword",A:function(i){if(Bo(i),!i.password)throw new C("wrong-password")},G:cn,V:!0,B:!0},GF={endpoint:"verifyPhoneNumber",A:ig,G:cn,B:!0},QF={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new C("internal-error");ig(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Yf(i);cn(i)}},XF={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ig,G:cn,B:!0},YF={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[rr]^!!i.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function de(i,a,c){if(!kj(c,a.O))return Oe(new C("internal-error"));var d=!!a.Na,m=a.Vb||"POST",y;return ee(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?bI(i,i.i,a.endpoint,m,c,a.Ib,a.mb||!1):bI(i,i.h,a.endpoint,m,c,a.Ib,a.mb||!1)}).then(function(S){return y=S,a.Za?a.Za(c,y):y}).then(a.G).then(function(){if(!a.Z)return y;if(!(a.Z in y))throw new C("internal-error");return y[a.Z]})}function _I(i){return fg({error:{errors:[{message:i}],code:400,message:i}})}function fg(i,a){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new C(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},sn(d,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var m in d)if(c.indexOf(m)===0)return new C(d[m],a);return!a&&i&&(a=Qu(i)),new C("internal-error",a)}function JF(i){this.b=i,this.a=null,this.sb=ZF(this)}function ZF(i){return oU().then(function(){return new fe(function(a,c){Le("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Le("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function m(){clearTimeout(y),a()}i.a=d,i.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},iU.get());d.ping(m).then(m,function(){c(Error("Network Error"))})})})})}function eU(i,a){return i.sb.then(function(){return new fe(function(c){i.a.send(a.type,a,c,Le("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function tU(i,a){i.sb.then(function(){i.a.register("authEvent",a,Le("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var nU=new Sr(Cf,"https://apis.google.com/js/api.js?onload=%{onload}"),rU=new xi(3e4,6e4),iU=new xi(5e3,15e3),fh=null;function oU(){return fh||(fh=new fe(function(i,a){function c(){Ib(),Le("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){Ib(),a(Error("Network Error"))},timeout:rU.get()})}if(Le("gapi.iframes.Iframe"))i();else if(Le("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){Le("gapi.load")?c():a(Error("Network Error"))},d=Hm(nU,{onload:d}),ee(eg(d)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw fh=null,i}))}function DI(i,a,c,d){this.l=i,this.h=a,this.i=c,this.g=d,this.f=null,this.g?(i=ln(this.g.url),i=Uf(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Uf("https",this.l,null,"/__/auth/iframe"),this.a=i,Je(this.a,"apiKey",this.h),Je(this.a,"appName",this.i),this.b=null,this.c=[]}DI.prototype.toString=function(){return this.f?Je(this.a,"v",this.f):Er(this.a.b,"v"),this.b?Je(this.a,"eid",this.b):Er(this.a.b,"eid"),this.c.length?Je(this.a,"fw",this.c.join(",")):Er(this.a.b,"fw"),this.a.toString()};function hg(i,a,c,d,m,y){this.u=i,this.s=a,this.c=c,this.m=d,this.v=y,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}hg.prototype.zb=function(i){return this.h=i,this},hg.prototype.toString=function(){if(this.v){var i=ln(this.v.url);i=Uf(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Uf("https",this.u,null,"/__/auth/handler");if(Je(i,"apiKey",this.s),Je(i,"appName",this.c),Je(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=J.app(this.c).auth().la()}catch{c=null}a.pb=c,Je(i,"providerId",this.a.providerId),c=this.a,a=Tb(c.Jb);for(var d in a)a[d]=a[d].toString();d=c.Qc,a=Ti(a);for(var m=0;m<d.length;m++){var y=d[m];y in a&&delete a[y]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),Ao(a)||Je(i,"customParameters",Qu(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Je(i,"scopes",c.join(","))),this.l?Je(i,"redirectUrl",this.l):Er(i.b,"redirectUrl"),this.g?Je(i,"eventId",this.g):Er(i.b,"eventId"),this.i?Je(i,"v",this.i):Er(i.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!Un(i,S)&&Je(i,S,this.b[S]);return this.h?Je(i,"tid",this.h):Er(i.b,"tid"),this.f?Je(i,"eid",this.f):Er(i.b,"eid"),S=dg(this.c),S.length&&Je(i,"fw",S.join(",")),i.toString()};function dg(i){try{return J.app(i).auth().Ga()}catch{return[]}}function PI(i,a,c,d,m,y){this.s=i,this.g=a,this.b=c,this.f=y,this.c=d||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function RI(i){var a=Wu();return vF(i).then(function(c){e:{var d=ln(a),m=d.c;d=d.a;for(var y=0;y<c.length;y++){var S=c[y],x=d,M=m;if(S.indexOf("chrome-extension://")==0?x=ln(S).a==x&&M=="chrome-extension":M!="http"&&M!="https"?x=!1:gj.test(S)?x=x==S:(S=S.split(".").join("\\."),x=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(x)),x){c=!0;break e}}c=!1}if(!c)throw new zv(Wu())})}function OI(i){return i.m||(i.m=$f().then(function(){if(!i.u){var a=i.c,c=i.i,d=dg(i.b),m=new DI(i.s,i.g,i.b,i.f);m.f=a,m.b=c,m.c=xo(d||[]),i.u=m.toString()}i.v=new JF(i.u),sU(i)})),i.m}e=PI.prototype,e.Pb=function(i,a,c){var d=new C("popup-closed-by-user"),m=new C("web-storage-unsupported"),y=this,S=!1;return this.ma().then(function(){aU(y).then(function(x){x||(i&&Ro(i),a(m),S=!0)})}).o(function(){}).then(function(){if(!S)return vj(i)}).then(function(){if(!S)return Gs(c).then(function(){a(d)})})},e.Yb=function(){var i=Tt();return!Gu(i)&&!bb(i)},e.Ub=function(){return!1},e.Nb=function(i,a,c,d,m,y,S,x){if(!i)return Oe(new C("popup-blocked"));if(S&&!Gu())return this.ma().o(function(F){Ro(i),m(F)}),d(),ee();this.a||(this.a=RI(LI(this)));var M=this;return this.a.then(function(){var F=M.ma().o(function(ae){throw Ro(i),m(ae),ae});return d(),F}).then(function(){if(Bv(c),!S){var F=fl(M.s,M.g,M.b,a,c,null,y,M.c,void 0,M.i,x,M.f);mb(F,i)}}).o(function(F){throw F.code=="auth/network-request-failed"&&(M.a=null),F})};function LI(i){return i.l||(i.C=i.c?Js(i.c,dg(i.b)):null,i.l=new nr(i.g,Ei(i.i),i.C),i.f&&ch(i.l,i.f)),i.l}e.Ob=function(i,a,c,d){this.a||(this.a=RI(LI(this)));var m=this;return this.a.then(function(){Bv(a);var y=fl(m.s,m.g,m.b,i,a,Wu(),c,m.c,void 0,m.i,d,m.f);mb(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(m.a=null),y})},e.ma=function(){var i=this;return OI(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new C("network-request-failed")})},e.ac=function(){return!0};function fl(i,a,c,d,m,y,S,x,M,F,ae,Ee){return i=new hg(i,a,c,d,m,Ee),i.l=y,i.g=S,i.i=x,i.b=Ti(M||null),i.f=F,i.zb(ae).toString()}function sU(i){if(!i.v)throw Error("IfcHandler must be initialized!");tU(i.v,function(a){var c={};if(a&&a.authEvent){var d=!1;for(a=iI(a.authEvent),c=0;c<i.h.length;c++)d=i.h[c](a)||d;return c={},c.status=d?"ACK":"ERROR",ee(c)}return c.status="ERROR",ee(c)})}function aU(i){var a={type:"webStorageSupport"};return OI(i).then(function(){return eU(i.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){Jn(this.h,function(a){return a==i})};function MI(i){if(this.a=i||J.INTERNAL.reactNative&&J.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=MI.prototype,e.get=function(i){return ee(this.a.getItem(i)).then(function(a){return a&&ea(a)})},e.set=function(i,a){return ee(this.a.setItem(i,Qu(a)))},e.U=function(i){return ee(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function VI(i){this.b=i,this.a={},this.f=_(this.c,this)}var jI=[];function uU(){var i=er()?self:null;if(Fe(jI,function(c){c.b==i&&(a=c)}),!a){var a=new VI(i);jI.push(a)}return a}VI.prototype.c=function(i){var a=i.data.eventType,c=i.data.eventId,d=this.a[a];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var m=[];Fe(d,function(y){m.push(ee().then(function(){return y(i.origin,i.data.data)}))}),BT(m).then(function(y){var S=[];Fe(y,function(x){S.push({fulfilled:x.Qb,value:x.value,reason:x.reason?x.reason.message:void 0})}),Fe(S,function(x){for(var M in x)typeof x[M]>"u"&&delete x[M]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:S})})}};function FI(i,a,c){Ao(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(c)}function UI(i){this.a=i}UI.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function $I(i){this.c=i,this.b=!1,this.a=[]}function BI(i,a,c,d){var m,y=c||{},S,x,M,F=null;if(i.b)return Oe(Error("connection_unavailable"));var ae=d?800:50,Ee=typeof MessageChannel<"u"?new MessageChannel:null;return new fe(function(ge,gt){Ee?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ee.port1.start(),x=setTimeout(function(){gt(Error("unsupported_event"))},ae),S=function(Qr){Qr.data.eventId===m&&(Qr.data.status==="ack"?(clearTimeout(x),M=setTimeout(function(){gt(Error("timeout"))},3e3)):Qr.data.status==="done"?(clearTimeout(M),typeof Qr.data.response<"u"?ge(Qr.data.response):gt(Error("unknown_error"))):(clearTimeout(x),clearTimeout(M),gt(Error("invalid_response"))))},F={messageChannel:Ee,onMessage:S},i.a.push(F),Ee.port1.addEventListener("message",S),i.c.postMessage({eventType:a,eventId:m,data:y},[Ee.port2])):gt(Error("connection_unavailable"))}).then(function(ge){return pg(i,F),ge}).o(function(ge){throw pg(i,F),ge})}function pg(i,a){if(a){var c=a.messageChannel,d=a.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),Jn(i.a,function(m){return m==a})}}$I.prototype.close=function(){for(;0<this.a.length;)pg(this,this.a[0]);this.b=!0};function qI(){if(!gg())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;er()&&self?(this.v=uU(),FI(this.v,"keyChanged",function(a,c){return HI(i).then(function(d){return 0<d.length&&Fe(i.a,function(m){m(d)}),{keyProcessed:zr(d,c.key)}})}),FI(this.v,"ping",function(){return ee(["keyChanged"])})):bj().then(function(a){(i.h=a)&&(i.g=new $I(new UI(a)),BI(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&zr(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var mg;function lU(i){return new fe(function(a,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){a()},d.onerror=function(m){c(Error(m.target.error))}})}function zI(i){return new fe(function(a,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(m){try{m.preventDefault()}catch{}c(Error(m.target.error))},d.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},d.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?a(m):lU(i).then(function(){return zI(i)}).then(function(y){a(y)}).o(function(y){c(y)})}})}function vg(i){return i.i||(i.i=zI(i)),i.i}function hh(i,a){function c(m,y){vg(i).then(a).then(m).o(function(S){if(3<++d)y(S);else return vg(i).then(function(x){return x.close(),i.i=void 0,c(m,y)}).o(function(x){y(x)})})}var d=0;return new fe(c)}function gg(){try{return!!f.indexedDB}catch{return!1}}function hl(i){return i.objectStore("firebaseLocalStorage")}function dl(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function ia(i){return new fe(function(a,c){i.onsuccess=function(d){d&&d.target?a(d.target.result):a()},i.onerror=function(d){c(d.target.error)}})}e=qI.prototype,e.set=function(i,a){var c=this,d=!1;return hh(this,function(m){return m=hl(dl(m,!0)),ia(m.get(i))}).then(function(m){return hh(c,function(y){if(y=hl(dl(y,!0)),m)return m.value=a,ia(y.put(m));c.b++,d=!0;var S={};return S.fbase_key=i,S.value=a,ia(y.add(S))})}).then(function(){return c.c[i]=a,KI(c,i)}).oa(function(){d&&c.b--})};function KI(i,a){return i.g&&i.h&&Tj()===i.h?BI(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):ee()}e.get=function(i){return hh(this,function(a){return ia(hl(dl(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,c=!1;return hh(this,function(d){return c=!0,a.b++,ia(hl(dl(d,!0)).delete(i))}).then(function(){return delete a.c[i],KI(a,i)}).oa(function(){c&&a.b--})};function HI(i){return vg(i).then(function(a){var c=hl(dl(a,!1));return c.getAll?ia(c.getAll()):new fe(function(d,m){var y=[],S=c.openCursor();S.onsuccess=function(x){(x=x.target.result)?(y.push(x.value),x.continue()):d(y)},S.onerror=function(x){m(x.target.error)}})}).then(function(a){var c={},d=[];if(i.b==0){for(d=0;d<a.length;d++)c[a[d].fbase_key]=a[d].value;d=vb(i.c,c),i.c=c}return d})}e.ca=function(i){this.a.length==0&&cU(this),this.a.push(i)},e.ia=function(i){Jn(this.a,function(a){return a==i}),this.a.length==0&&WI(this)};function cU(i){function a(){i.f=setTimeout(function(){i.l=HI(i).then(function(c){0<c.length&&Fe(i.a,function(d){d(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}WI(i),a()}function WI(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function GI(i){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=ee().then(function(){if(gg()){var d=Lo(),m="__sak"+d;return mg||(mg=new qI),c=mg,c.set(m,d).then(function(){return c.get(m)}).then(function(y){if(y!==d)throw Error("indexedDB not supported!");return c.U(m)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(d){return a.type=d.type,d.ca(function(m){Fe(a.a,function(y){y(m)})}),d})}e=GI.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(c){return c.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){Jn(this.a,function(a){return a==i})};function pl(){this.a={},this.type="inMemory"}e=pl.prototype,e.get=function(i){return ee(this.a[i])},e.set=function(i,a){return this.a[i]=a,ee()},e.U=function(i){return delete this.a[i],ee()},e.ca=function(){},e.ia=function(){};function dh(){if(!fU())throw Tr()=="Node"?new C("internal-error","The LocalStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=QI()||J.INTERNAL.node.localStorage,this.type="localStorage"}function QI(){try{var i=f.localStorage,a=Lo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function fU(){var i=Tr()=="Node";if(i=QI()||i&&J.INTERNAL.node&&J.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=dh.prototype,e.get=function(i){var a=this;return ee().then(function(){var c=a.a.getItem(i);return ea(c)})},e.set=function(i,a){var c=this;return ee().then(function(){var d=Qu(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return ee().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&Fn(f.window,"storage",i)},e.ia=function(i){f.window&&En(f.window,"storage",i)};function yg(){this.type="nullStorage"}e=yg.prototype,e.get=function(){return ee(null)},e.set=function(){return ee()},e.U=function(){return ee()},e.ca=function(){},e.ia=function(){};function wg(){if(!hU())throw Tr()=="Node"?new C("internal-error","The SessionStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=XI()||J.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function XI(){try{var i=f.sessionStorage,a=Lo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function hU(){var i=Tr()=="Node";if(i=XI()||i&&J.INTERNAL.node&&J.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=wg.prototype,e.get=function(i){var a=this;return ee().then(function(){var c=a.a.getItem(i);return ea(c)})},e.set=function(i,a){var c=this;return ee().then(function(){var d=Qu(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return ee().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function dU(){var i={};i.Browser=pU,i.Node=mU,i.ReactNative=vU,i.Worker=gU,this.a=i[Tr()]}var Sg,pU={F:dh,cb:wg},mU={F:dh,cb:wg},vU={F:MI,cb:yg},gU={F:dh,cb:yg},oa={rd:"local",NONE:"none",td:"session"};function yU(i){var a=new C("invalid-persistence-type"),c=new C("unsupported-persistence-type");e:{for(d in oa)if(oa[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw a;switch(Tr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!gg()&&i!=="none")throw c;break;default:if(!Sv()&&i!=="none")throw c}}function YI(){var i=!!(!bb(Tt())&&yv()),a=Gu(),c=Sv();this.m=i,this.h=a,this.l=c,this.a={},Sg||(Sg=new dU),i=Sg;try{this.g=!vv()&&kb()||!f.indexedDB?new i.a.F:new GI(er()?new pl:new i.a.F)}catch{this.g=new pl,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new pl}this.v=new pl,this.f=_(this.Zb,this),this.b={}}var Eg;function ml(){return Eg||(Eg=new YI),Eg}function qo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function sa(i,a){return"firebase:"+i.name+(a?":"+a:"")}function wU(i,a,c){var d=sa(a,c),m=qo(i,a.F);return i.get(a,c).then(function(y){var S=null;try{S=ea(f.localStorage.getItem(d))}catch{}if(S&&!y)return f.localStorage.removeItem(d),i.set(a,S,c);S&&y&&m.type!="localStorage"&&f.localStorage.removeItem(d)})}e=YI.prototype,e.get=function(i,a){return qo(this,i.F).get(sa(i,a))};function aa(i,a,c){return c=sa(a,c),a.F=="local"&&(i.b[c]=null),qo(i,a.F).U(c)}e.set=function(i,a,c){var d=sa(i,c),m=this,y=qo(this,i.F);return y.set(d,a).then(function(){return y.get(d)}).then(function(S){i.F=="local"&&(m.b[d]=S)})},e.addListener=function(i,a,c){i=sa(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Ao(this.a)&&(qo(this,"local").ca(this.f),this.h||(vv()||!kb())&&f.indexedDB||!this.l||SU(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,a,c){i=sa(i,a),this.a[i]&&(Jn(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),Ao(this.a)&&(qo(this,"local").ia(this.f),Tg(this))};function SU(i){Tg(i),i.c=setInterval(function(){for(var a in i.a){var c=f.localStorage.getItem(a),d=i.b[a];c!=d&&(i.b[a]=c,c=new _o({type:"storage",key:a,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Tg(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var m=f.localStorage.getItem(c);m!==d&&(this.b[c]=m,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?qo(this,"local").ia(this.f):Tg(this),this.m){if(c=f.localStorage.getItem(a),d=i.a.newValue,d!==c)d!==null?f.localStorage.setItem(a,d):f.localStorage.removeItem(a);else if(this.b[a]===d&&typeof i.a.a>"u")return}var y=this;c=function(){(typeof i.a.a<"u"||y.b[a]!==f.localStorage.getItem(a))&&(y.b[a]=f.localStorage.getItem(a),y.nb(a))},Zn&&bi&&bi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else Fe(i,_(this.nb,this))},e.nb=function(i){this.a[i]&&Fe(this.a[i],function(a){a()})};function EU(i){this.a=i,this.b=ml()}var bg={name:"authEvent",F:"local"};function TU(i){return i.b.get(bg,i.a).then(function(a){return iI(a)})}function bU(){this.a=ml()}function IU(){this.b=-1}function ph(i,a){this.b=JI,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),mh===void 0&&(f.Int32Array?mh=new Int32Array(tk):mh=tk),this.reset()}var mh;L(ph,IU);for(var JI=64,kU=JI-1,ZI=[],Ig=0;Ig<kU;Ig++)ZI[Ig]=0;var ek=qm(128,ZI);ph.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):xo(this.h)};function kg(i){for(var a=i.f,c=i.l,d=0,m=0;m<a.length;)c[d++]=a[m]<<24|a[m+1]<<16|a[m+2]<<8|a[m+3],m=4*d;for(a=16;64>a;a++){m=c[a-15]|0,d=c[a-2]|0;var y=(c[a-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,S=(c[a-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[a]=y+S|0}d=i.a[0]|0,m=i.a[1]|0;var x=i.a[2]|0,M=i.a[3]|0,F=i.a[4]|0,ae=i.a[5]|0,Ee=i.a[6]|0;for(y=i.a[7]|0,a=0;64>a;a++){var ge=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&m^d&x^m&x)|0;S=F&ae^~F&Ee,y=y+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))|0,S=S+(mh[a]|0)|0,S=y+(S+(c[a]|0)|0)|0,y=Ee,Ee=ae,ae=F,F=M+S|0,M=x,x=m,m=d,d=S+ge|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+m|0,i.a[2]=i.a[2]+x|0,i.a[3]=i.a[3]+M|0,i.a[4]=i.a[4]+F|0,i.a[5]=i.a[5]+ae|0,i.a[6]=i.a[6]+Ee|0,i.a[7]=i.a[7]+y|0}function xg(i,a,c){c===void 0&&(c=a.length);var d=0,m=i.c;if(typeof a=="string")for(;d<c;)i.f[m++]=a.charCodeAt(d++),m==i.b&&(kg(i),m=0);else if(T(a))for(;d<c;){var y=a[d++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");i.f[m++]=y,m==i.b&&(kg(i),m=0)}else throw Error("message must be string or array");i.c=m,i.g+=c}var tk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function nk(){ph.call(this,8,xU)}L(nk,ph);var xU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function rk(i,a,c,d,m,y){this.v=i,this.i=a,this.l=c,this.m=d||null,this.u=m||null,this.s=y,this.h=a+":"+c,this.C=new bU,this.g=new EU(this.h),this.f=null,this.b=[],this.a=this.c=null}function vh(i){return new C("invalid-cordova-configuration",i)}e=rk.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=wj().then(function(){if(typeof Le("universalLinks.subscribe",f)!="function")throw vh("cordova-universal-links-plugin-fix is not installed");if(typeof Le("BuildInfo.packageName",f)>"u")throw vh("cordova-plugin-buildinfo is not installed");if(typeof Le("cordova.plugins.browsertab.openUrl",f)!="function")throw vh("cordova-plugin-browsertab is not installed");if(typeof Le("cordova.InAppBrowser.open",f)!="function")throw vh("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})};function AU(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function CU(i){var a=new nk;xg(a,i),i=[];var c=8*a.g;56>a.c?xg(a,ek,56-a.c):xg(a,ek,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;for(kg(a),d=c=0;d<a.i;d++)for(var m=24;0<=m;m-=8)i[c++]=a.a[d]>>m&255;return Fj(i)}e.Pb=function(i,a){return a(new C("operation-not-supported-in-this-environment")),ee()},e.Nb=function(){return Oe(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,c,d){if(this.c)return Oe(new C("redirect-operation-pending"));var m=this,y=f.document,S=null,x=null,M=null,F=null;return this.c=ee().then(function(){return Bv(a),ok(m)}).then(function(){return NU(m,i,a,c,d)}).then(function(){return new fe(function(ae,Ee){x=function(){var ge=Le("cordova.plugins.browsertab.close",f);return ae(),typeof ge=="function"&&ge(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(x),M=function(){S||(S=Gs(2e3).then(function(){Ee(new C("redirect-cancelled-by-user"))}))},F=function(){Ev()&&M()},y.addEventListener("resume",M,!1),Tt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",F,!1)}).o(function(ae){return Ag(m).then(function(){throw ae})})}).oa(function(){M&&y.removeEventListener("resume",M,!1),F&&y.removeEventListener("visibilitychange",F,!1),S&&S.cancel(),x&&m.Ta(x),m.c=null})};function NU(i,a,c,d,m){var y=AU(),S=new tr(a,d,null,y,new C("no-auth-event"),null,m),x=Le("BuildInfo.packageName",f);if(typeof x!="string")throw new C("invalid-cordova-configuration");var M=Le("BuildInfo.displayName",f),F={};if(Tt().toLowerCase().match(/iphone|ipad|ipod/))F.ibi=x;else if(Tt().toLowerCase().match(/android/))F.apn=x;else return Oe(new C("operation-not-supported-in-this-environment"));M&&(F.appDisplayName=M),y=CU(y),F.sessionId=y;var ae=fl(i.v,i.i,i.l,a,c,null,d,i.m,F,i.u,m,i.s);return i.ma().then(function(){var Ee=i.h;return i.C.a.set(bg,S.w(),Ee)}).then(function(){var Ee=Le("cordova.plugins.browsertab.isAvailable",f);if(typeof Ee!="function")throw new C("invalid-cordova-configuration");var ge=null;Ee(function(gt){if(gt){if(ge=Le("cordova.plugins.browsertab.openUrl",f),typeof ge!="function")throw new C("invalid-cordova-configuration");ge(ae)}else{if(ge=Le("cordova.InAppBrowser.open",f),typeof ge!="function")throw new C("invalid-cordova-configuration");gt=Tt(),i.a=ge(ae,gt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||gt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function ik(i,a){for(var c=0;c<i.b.length;c++)try{i.b[c](a)}catch{}}function ok(i){return i.f||(i.f=i.ma().then(function(){return new fe(function(a){function c(d){return a(d),i.Ta(c),!1}i.Ea(c),_U(i)})})),i.f}function Ag(i){var a=null;return TU(i.g).then(function(c){return a=c,c=i.g,aa(c.b,bg,c.a)}).then(function(){return a})}function _U(i){function a(S){d=!0,m&&m.cancel(),Ag(i).then(function(x){var M=c;if(x&&S&&S.url){var F=null;M=Xb(S.url),M.indexOf("/__/auth/callback")!=-1&&(F=ln(M),F=ea(Un(F,"firebaseError")||null),F=(F=typeof F=="object"?Re(F):null)?new tr(x.c,x.b,null,null,F,null,x.T()):new tr(x.c,x.b,M,x.f,null,null,x.T())),M=F||c}ik(i,M)})}var c=new tr("unknown",null,null,null,new C("no-auth-event")),d=!1,m=Gs(500).then(function(){return Ag(i).then(function(){d||ik(i,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(S){if(S.toLowerCase().indexOf(Le("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:S}),typeof y=="function")try{y(S)}catch(x){console.error(x)}},qv||(qv=new Wj),Gj(a)}e.Ea=function(i){this.b.push(i),ok(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new tr("unknown",null,null,null,new C("no-auth-event")),i(a))})},e.Ta=function(i){Jn(this.b,function(a){return a==i})};function DU(i){this.a=i,this.b=ml()}var Cg={name:"pendingRedirect",F:"session"};function PU(i){return i.b.set(Cg,"pending",i.a)}function Ng(i){return aa(i.b,Cg,i.a)}function RU(i){return i.b.get(Cg,i.a).then(function(a){return a=="pending"})}function gh(i,a,c,d){this.i={},this.u=0,this.D=i,this.v=a,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new wh,this.C=new mk,this.g=new DU(hk(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=sk(this.D,this.v,this.m,yr,this.J)}function sk(i,a,c,d,m){var y=J.SDK_VERSION||null;return gv()?new rk(i,a,c,y,d,m):new PI(i,a,c,y,d,m)}gh.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=sk(this.D,this.v,this.m,null,this.J),this.i={}};function ak(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(c){throw i.a==a&&i.reset(),c})}function uk(i){i.a.Yb()&&ak(i).o(function(a){var c=new tr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dg(a)&&i.s(c)}),i.a.Ub()||dk(i.b)}function yh(i,a){zr(i.h,a)||i.h.push(a),i.f||RU(i.g).then(function(c){c?Ng(i.g).then(function(){ak(i).o(function(d){var m=new tr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dg(d)&&i.s(m)})}):uk(i)}).o(function(){uk(i)})}function _g(i,a){Jn(i.h,function(c){return c==a})}gh.prototype.s=function(i){if(!i)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return dk(this.b),a};var OU=new xi(2e3,1e4),LU=new xi(3e4,6e4);gh.prototype.ra=function(){return this.b.ra()};function lk(i,a,c,d,m,y,S){return i.a.Nb(a,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},m,y,S)}function Dg(i){return!!(i&&i.code=="auth/cordova-not-ready")}function ck(i,a,c,d,m){var y;return PU(i.g).then(function(){return i.a.Ob(a,c,d,m).o(function(S){if(Dg(S))throw new C("operation-not-supported-in-this-environment");return y=S,Ng(i.g).then(function(){throw y})}).then(function(){return i.a.ac()?new fe(function(){}):Ng(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function fk(i,a,c,d,m){return i.a.Pb(d,function(y){a.na(c,null,y,m)},OU.get())}var Pg={};function hk(i,a,c){return i=i+":"+a,c&&(i=i+":"+c.url),i}function Rg(i,a,c,d){var m=hk(a,c,d);return Pg[m]||(Pg[m]=new gh(i,a,c,d)),Pg[m]}function wh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}wh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},wh.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,m=i.a&&i.a.code=="auth/web-storage-unsupported",y=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!y),c!="unknown"||m||y?i.a?(zo(this,!0,null,i.a),ee()):a.Fa(c,d)?MU(this,i,a):Oe(new C("invalid-auth-event")):(zo(this,!1,null,null),ee())}else Oe(new C("invalid-auth-event"))};function dk(i){i.g||(i.g=!0,zo(i,!1,null,null))}function Sh(i){i.g&&!i.i&&zo(i,!1,null,null)}function MU(i,a,c){c=c.Fa(a.c,a.b);var d=a.g,m=a.f,y=a.i,S=a.T(),x=!!a.c.match(/Redirect$/);c(d,m,S,y).then(function(M){zo(i,x,M,null)}).o(function(M){zo(i,x,null,M)})}function VU(i,a){if(i.b=function(){return Oe(a)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](a)}function pk(i,a){if(i.b=function(){return ee(a)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](a)}function zo(i,a,c,d){a?d?VU(i,d):pk(i,c):pk(i,{user:null}),i.f=[],i.c=[]}wh.prototype.ra=function(){var i=this;return new fe(function(a,c){i.b?i.b().then(a,c):(i.f.push(a),i.c.push(c),jU(i))})};function jU(i){var a=new C("timeout");i.a&&i.a.cancel(),i.a=Gs(LU.get()).then(function(){i.b||(i.g=!0,zo(i,!0,null,a))})}function mk(){}mk.prototype.h=function(i,a){if(i){var c=i.c,d=i.b;i.a?(a.na(i.c,null,i.a,i.b),ee()):a.Fa(c,d)?FU(i,a):Oe(new C("invalid-auth-event"))}else Oe(new C("invalid-auth-event"))};function FU(i,a){var c=i.b,d=i.c;a.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(m){a.na(d,m,null,c)}).o(function(m){a.na(d,null,m,c)})}function vk(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function Og(i,a){this.a=a,X(this,"verificationId",i)}Og.prototype.confirm=function(i){return i=rI(this.verificationId,i),this.a(i)};function Lg(i,a,c,d){return new Wr(i).gb(a,c).then(function(m){return new Og(m,d)})}function UU(i){var a=Bb(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wt(this,{token:i,expirationTime:Xu(1e3*a.exp),authTime:Xu(1e3*a.auth_time),issuedAtTime:Xu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Mg(i,a,c){var d=a&&a[yk];if(!d)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Ti(a),this.g=c,this.c=new Qf(null,d),this.b=[];var m=this;Fe(a[gk]||[],function(y){(y=Av(y))&&m.b.push(y)}),X(this,"auth",this.a),X(this,"session",this.c),X(this,"hints",this.b)}var gk="mfaInfo",yk="mfaPendingCredential";Mg.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(c){var d=Ti(a.f);return delete d[gk],delete d[yk],sn(d,c),a.g(d)})};function Vg(i,a,c,d){C.call(this,"multi-factor-auth-required",d,a),this.b=new Mg(i,a,c),X(this,"resolver",this.b)}L(Vg,C);function wk(i,a,c){if(i&&A(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Vg(a,i.serverResponse,c,i.message)}catch{}return null}function Sk(){}Sk.prototype.tb=function(i,a,c){return a.type==el?$U(this,i,a,c):BU(this,i,a)};function $U(i,a,c,d){return c.Ha().then(function(m){return m={idToken:m},typeof d<"u"&&(m.displayName=d),sn(m,{phoneVerificationInfo:tl(i.a)}),de(a,_F,m)})}function BU(i,a,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},sn(d,{phoneVerificationInfo:tl(i.a)}),de(a,DF,d)})}function jg(i){X(this,"factorId",i.fa),this.a=i}L(jg,Sk);function Ek(i){if(jg.call(this,i),this.a.fa!=Wr.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(Ek,jg);function ua(i,a){un.call(this,i);for(var c in a)this[c]=a[c]}L(ua,un);function Fg(i,a){this.a=i,this.b=[],this.c=_(this.yc,this),Fn(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Fe(a.multiFactor.enrolledFactors,function(d){var m=null,y={};if(d){d.uid&&(y[Nv]=d.uid),d.displayName&&(y[Ab]=d.displayName),d.enrollmentTime&&(y[Cv]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(y[_v]=d.phoneNumber);try{m=new Yu(y)}catch{}d=m}else d=null;d&&c.push(d)}),Eh(this,c)}function qU(i){var a=[];return Fe(i.mfaInfo||[],function(c){(c=Av(c))&&a.push(c)}),a}e=Fg.prototype,e.yc=function(i){Eh(this,qU(i.hd))};function Eh(i,a){i.b=a,X(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new Qf(i,null)})},e.fc=function(i,a){var c=this,d=this.a.a;return this.Sb().then(function(m){return i.tb(d,m,a)}).then(function(m){return kr(c.a,m),c.a.reload()})},e.bd=function(i){var a=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(m){return de(d,YF,{idToken:m,mfaEnrollmentId:c})}).then(function(m){var y=SV(a.b,function(S){return S.uid!=c});return Eh(a,y),kr(a.a,m),a.a.reload().o(function(S){if(S.code!="auth/user-token-expired")throw S})})},e.w=function(){return{multiFactor:{enrolledFactors:xf(this.b,function(i){return i.w()})}}};function Ug(i,a,c){if(this.h=i,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Ug.prototype.start=function(){this.a=this.c,$g(this,!0)};function zU(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function $g(i,a){i.stop(),i.b=Gs(zU(i,a)).then(function(){return Ej()}).then(function(){return i.h()}).then(function(){$g(i,!0)}).o(function(c){i.i(c)&&$g(i,!1)})}Ug.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Bg(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Bg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Tk(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function bk(i,a){i.b=Wf(a[rr]||""),i.a=a.refreshToken,a=a.expiresIn,Tk(i,typeof a<"u"?Number(a):void 0)}function KU(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function HU(i,a){return pF(i.f,a).then(function(c){return i.b=Wf(c.access_token),i.a=c.refresh_token,Tk(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}Bg.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Oe(new C("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?HU(this,{grant_type:"refresh_token",refresh_token:this.a}):ee(null):ee({accessToken:this.b.toString(),refreshToken:this.a})};function Th(i,a){this.a=i||null,this.b=a||null,Wt(this,{lastSignInTime:Xu(a||null),creationTime:Xu(i||null)})}function WU(i){return new Th(i.a,i.b)}Th.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function GU(i,a,c,d,m,y){Wt(this,{uid:i,displayName:d||null,photoURL:m||null,email:c||null,phoneNumber:y||null,providerId:a})}function bn(i,a,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=J.SDK_VERSION?Js(J.SDK_VERSION):null;this.a=new nr(this.l,Ei(yr),d),(this.u=i.emulatorConfig||null)&&ch(this.a,this.u),this.h=new Bg(this.a),Qg(this,a[rr]),bk(this.h,a),X(this,"refreshToken",this.h.a),kk(this,c||{}),Ht.call(this),this.P=!1,this.s&&Oo()&&(this.b=Rg(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=QU(this),this.ba=_(this.ib,this);var m=this;this.za=null,this.Pa=function(y){m.xa(y.h)},this.qa=null,this.Ba=function(y){qg(m,y.c)},this.$=null,this.aa=[],this.Oa=function(y){vl(m,y.f)},this.ja=null,this.S=new Fg(this,c),X(this,"multiFactor",this.S)}L(bn,Ht),bn.prototype.xa=function(i){this.za=i,wI(this.a,i)};function qg(i,a){i.u=a,ch(i.a,a),i.b&&(a=i.b,i.b=Rg(i.s,i.l,i.m,i.u),i.P&&(_g(a,i),yh(i.b,i)))}bn.prototype.la=function(){return this.za};function zg(i,a){i.qa&&En(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&Fn(a,"languageCodeChanged",i.Pa)}function Kg(i,a){i.$&&En(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&Fn(a,"emulatorConfigChanged",i.Ba)}function vl(i,a){i.aa=a,SI(i.a,J.SDK_VERSION?Js(J.SDK_VERSION,i.aa):null)}bn.prototype.Ga=function(){return xo(this.aa)};function Hg(i,a){i.ja&&En(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&Fn(a,"frameworkChanged",i.Oa)}bn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Wg(i){try{return J.app(i.m).auth()}catch{throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function QU(i){return new Ug(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function Ik(i){i.J||i.D.b||(i.D.start(),En(i,"tokenChanged",i.ba),Fn(i,"tokenChanged",i.ba))}function Gg(i){En(i,"tokenChanged",i.ba),i.D.stop()}function Qg(i,a){i.Aa=a,X(i,"_lat",a)}function XU(i,a){Jn(i.W,function(c){return c==a})}function Ko(i){for(var a=[],c=0;c<i.W.length;c++)a.push(i.W[c](i));return BT(a).then(function(){return i})}function gl(i){i.b&&!i.P&&(i.P=!0,yh(i.b,i))}function kk(i,a){Wt(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Th(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}X(bn.prototype,"providerId","firebase");function xk(){}function Xg(i){return ee().then(function(){if(i.J)throw new C("app-deleted")})}function Yg(i){return xf(i.providerData,function(a){return a.providerId})}function Jg(i,a){a&&(Ak(i,a.providerId),i.providerData.push(a))}function Ak(i,a){Jn(i.providerData,function(c){return c.providerId==a})}function Ni(i,a,c){(a!="uid"||c)&&i.hasOwnProperty(a)&&X(i,a,c)}function bh(i,a){i!=a&&(Wt(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?X(i,"metadata",WU(a.metadata)):X(i,"metadata",new Th),Fe(a.providerData,function(c){Jg(i,c)}),KU(i.h,a.h),X(i,"refreshToken",i.h.a),Eh(i.S,a.S.b))}e=bn.prototype,e.reload=function(){var i=this;return ft(this,Xg(this).then(function(){return Zg(i).then(function(){return Ko(i)}).then(xk)}))};function Zg(i){return i.I().then(function(a){var c=i.isAnonymous;return YU(i,a).then(function(){return c||Ni(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new UU(a)})},e.I=function(i){var a=this;return ft(this,Xg(this).then(function(){return a.h.getToken(i)}).then(function(c){if(!c)throw new C("internal-error");return c.accessToken!=a.Aa&&(Qg(a,c.accessToken),a.dispatchEvent(new ua("tokenChanged"))),Ni(a,"refreshToken",c.refreshToken),c.accessToken}))};function kr(i,a){a[rr]&&i.Aa!=a[rr]&&(bk(i.h,a),i.dispatchEvent(new ua("tokenChanged")),Qg(i,a[rr]),Ni(i,"refreshToken",i.h.a))}function YU(i,a){return de(i.a,PF,{idToken:a}).then(_(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new C("internal-error");i=i[0],kk(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=JU(i),c=0;c<a.length;c++)Jg(this,a[c]);Ni(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ua("userReloaded",{hd:i}))};function JU(i){return(i=i.providerUserInfo)&&i.length?xf(i,function(a){return new GU(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Tv("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,c=null;return ft(this,i.c(this.a,this.uid).then(function(d){return kr(a,d),c=yl(a,d,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Ih(i,a){return Zg(i).then(function(){if(zr(Yg(i),a))return Ko(i).then(function(){throw new C("provider-already-linked")})})}e.Cc=function(i){return Tv("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,c=null;return ft(this,Ih(this,i.providerId).then(function(){return a.I()}).then(function(d){return i.b(a.a,d)}).then(function(d){return c=yl(a,d,"link"),Ck(a,d)}).then(function(){return c}))},e.Dc=function(i,a){var c=this;return ft(this,Ih(this,"phone").then(function(){return Lg(Wg(c),i,a,_(c.rb,c))}))},e.Mc=function(i,a){var c=this;return ft(this,ee().then(function(){return Lg(Wg(c),i,a,_(c.ub,c))}),!0)};function yl(i,a,c){var d=$v(a);return a=zb(a),br({user:i,credential:d,additionalUserInfo:a,operationType:c})}function Ck(i,a){return kr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return ft(this,this.I().then(function(c){return a.a.Cb(c,i)}).then(function(c){return kr(a,c),a.reload()}))},e.ed=function(i){var a=this;return ft(this,this.I().then(function(c){return i.b(a.a,c)}).then(function(c){return kr(a,c),a.reload()}))},e.Db=function(i){var a=this;return ft(this,this.I().then(function(c){return a.a.Db(c,i)}).then(function(c){return kr(a,c),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Xg(this);var a=this;return ft(this,this.I().then(function(c){return a.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return kr(a,c),Ni(a,"displayName",c.displayName||null),Ni(a,"photoURL",c.photoUrl||null),Fe(a.providerData,function(d){d.providerId==="password"&&(X(d,"displayName",a.displayName),X(d,"photoURL",a.photoURL))}),Ko(a)}).then(xk))},e.cd=function(i){var a=this;return ft(this,Zg(this).then(function(c){return zr(Yg(a),i)?EF(a.a,c,[i]).then(function(d){var m={};return Fe(d.providerUserInfo||[],function(y){m[y.providerId]=!0}),Fe(Yg(a),function(y){m[y]||Ak(a,y)}),m[Wr.PROVIDER_ID]||X(a,"phoneNumber",null),Ko(a)}):Ko(a).then(function(){throw new C("no-such-provider")})}))},e.delete=function(){var i=this;return ft(this,this.I().then(function(a){return de(i.a,xF,{idToken:a})}).then(function(){i.dispatchEvent(new ua("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");zg(i,null),Kg(i,null),Hg(i,null),i.N=[],i.J=!0,Gg(i),X(i,"refreshToken",null),i.b&&_g(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?_(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?_(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?_(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?_(this.Mb,this):null},e.Ec=function(i){var a=this;return Nk(this,"linkViaPopup",i,function(){return Ih(a,i.providerId).then(function(){return Ko(a)})},!1)},e.Nc=function(i){return Nk(this,"reauthViaPopup",i,function(){return ee()},!0)};function Nk(i,a,c,d,m){if(!Oo())return Oe(new C("operation-not-supported-in-this-environment"));if(i.i&&!m)return Oe(i.i);var y=Lv(c.providerId),S=Lo(i.uid+":::"),x=null;(!Gu()||yv())&&i.s&&c.isOAuthProvider&&(x=fl(i.s,i.l,i.m,a,c,null,S,J.SDK_VERSION||null,null,null,i.tenantId,i.u));var M=yb(x,y&&y.va,y&&y.ua);return d=d().then(function(){if(Dk(i),!m)return i.I().then(function(){})}).then(function(){return lk(i.b,M,a,c,S,!!x,i.tenantId)}).then(function(){return new fe(function(F,ae){i.na(a,null,new C("cancelled-popup-request"),i.g||null),i.f=F,i.C=ae,i.g=S,i.c=fk(i.b,i,a,M,S)})}).then(function(F){return M&&Ro(M),F?br(F):null}).o(function(F){throw M&&Ro(M),F}),ft(i,d,m)}e.Fc=function(i){var a=this;return _k(this,"linkViaRedirect",i,function(){return Ih(a,i.providerId)},!1)},e.Oc=function(i){return _k(this,"reauthViaRedirect",i,function(){return ee()},!0)};function _k(i,a,c,d,m){if(!Oo())return Oe(new C("operation-not-supported-in-this-environment"));if(i.i&&!m)return Oe(i.i);var y=null,S=Lo(i.uid+":::");return d=d().then(function(){if(Dk(i),!m)return i.I().then(function(){})}).then(function(){return i.ga=S,Ko(i)}).then(function(x){return i.ha&&(x=i.ha,x=x.b.set(ey,i.w(),x.a)),x}).then(function(){return ck(i.b,a,c,S,i.tenantId)}).o(function(x){if(y=x,i.ha)return Rk(i.ha);throw y}).then(function(){if(y)throw y}),ft(i,d,m)}function Dk(i){if(!i.b||!i.P)throw i.b&&!i.P?new C("internal-error"):new C("auth-domain-config-required")}e.Lb=function(i,a,c,d){var m=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(S){return ug(m.a,{requestUri:i,postBody:d,sessionId:a,idToken:S})}).then(function(S){return y=yl(m,S,"link"),Ck(m,S)}).then(function(){return y}),ft(this,c)},e.Mb=function(i,a,c,d){var m=this;this.c&&(this.c.cancel(),this.c=null);var y=null,S=ee().then(function(){return na(lg(m.a,{requestUri:i,sessionId:a,postBody:d,tenantId:c}),m.uid)}).then(function(x){return y=yl(m,x,"reauthenticate"),kr(m,x),m.i=null,m.reload()}).then(function(){return y});return ft(this,S,!0)},e.vb=function(i){var a=this,c=null;return ft(this,this.I().then(function(d){return c=d,typeof i>"u"||Ao(i)?{}:Kf(new zf(i))}).then(function(d){return a.a.vb(c,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var c=this,d=null;return ft(this,this.I().then(function(m){return d=m,typeof a>"u"||Ao(a)?{}:Kf(new zf(a))}).then(function(m){return c.a.Fb(d,i,m)}).then(function(m){if(c.email!=m)return c.reload()}).then(function(){}))};function ft(i,a,c){var d=ZU(i,a,c);return i.N.push(d),d.oa(function(){Af(i.N,d)}),d.o(function(m){var y=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(y=wk(m.w(),Wg(i),_(i.jc,i))),y||m})}e.jc=function(i){var a=null,c=this;return i=na(ee(i),c.uid).then(function(d){return a=yl(c,d,"reauthenticate"),kr(c,d),c.i=null,c.reload()}).then(function(){return a}),ft(this,i,!0)};function ZU(i,a,c){return i.i&&!c?(a.cancel(),Oe(i.i)):a.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new ua("userInvalidated")),i.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&sn(i,this.metadata.w()),Fe(this.providerData,function(a){i.providerData.push(Ij(a))}),sn(i,this.S.w()),i};function Pk(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[rr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var m=new bn(a,c,i);return i.providerData&&Fe(i.providerData,function(y){y&&Jg(m,br(y))}),i.redirectEventId&&(m.ga=i.redirectEventId),m}function e$(i,a,c,d){var m=new bn(i,a);return c&&(m.ha=c),d&&vl(m,d),m.reload().then(function(){return m})}function t$(i,a,c,d){var m=i.h,y={};return y[rr]=m.b&&m.b.toString(),y.refreshToken=m.a,a=new bn(a||{apiKey:i.l,authDomain:i.s,appName:i.m},y),c&&(a.ha=c),d&&vl(a,d),bh(a,i),a}function n$(i){this.a=i,this.b=ml()}var ey={name:"redirectUser",F:"session"};function Rk(i){return aa(i.b,ey,i.a)}function r$(i,a){return i.b.get(ey,i.a).then(function(c){return c&&a&&(c.authDomain=a),Pk(c||{})})}function ty(i){this.a=i,this.b=ml(),this.c=null,this.f=i$(this),this.b.addListener(xr("local"),this.a,_(this.g,this))}ty.prototype.g=function(){var i=this,a=xr("local");la(this,function(){return ee().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(c){if(c)return ny(i,"local").then(function(){i.c=a})})})};function ny(i,a){var c=[],d;for(d in oa)oa[d]!==a&&c.push(aa(i.b,xr(oa[d]),i.a));return c.push(aa(i.b,ry,i.a)),WV(c)}function i$(i){var a=xr("local"),c=xr("session"),d=xr("none");return wU(i.b,a,i.a).then(function(){return i.b.get(c,i.a)}).then(function(m){return m?c:i.b.get(d,i.a).then(function(y){return y?d:i.b.get(a,i.a).then(function(S){return S?a:i.b.get(ry,i.a).then(function(x){return x?xr(x):a})})})}).then(function(m){return i.c=m,ny(i,m.F)}).o(function(){i.c||(i.c=a)})}var ry={name:"persistence",F:"session"};function xr(i){return{name:"authUser",F:i}}ty.prototype.yb=function(i){var a=null,c=this;return yU(i),la(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return a=d,ny(c,i)}).then(function(){if(c.c=xr(i),a)return c.b.set(c.c,a,c.a)}):ee()})};function o$(i){return la(i,function(){return i.b.set(ry,i.c.F,i.a)})}function Ok(i,a){return la(i,function(){return i.b.set(i.c,a.w(),i.a)})}function Lk(i){return la(i,function(){return aa(i.b,i.c,i.a)})}function Mk(i,a,c){return la(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&a&&(d.authDomain=a),d&&c&&(d.emulatorConfig=c),Pk(d||{})})})}function la(i,a){return i.f=i.f.then(a,a),i.f}function ir(i){if(this.l=!1,X(this,"settings",new vk),X(this,"app",i),Ie(this).options&&Ie(this).options.apiKey)i=J.SDK_VERSION?Js(J.SDK_VERSION):null,this.a=new nr(Ie(this).options&&Ie(this).options.apiKey,Ei(yr),i);else throw new C("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=J.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=J.INTERNAL.createSubscribe(_(this.Ac,this)),ca(this,null),this.i=new ty(Ie(this).options.apiKey+":"+Ie(this).name),this.D=new n$(Ie(this).options.apiKey+":"+Ie(this).name),this.$=We(this,f$(this)),this.h=We(this,h$(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,u$(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,Ht.call(this),a$(this),this.J=[],this.R=null}L(ir,Ht);function Vk(i){un.call(this,"languageCodeChanged"),this.h=i}L(Vk,un);function jk(i){un.call(this,"emulatorConfigChanged"),this.c=i}L(jk,un);function Fk(i){un.call(this,"frameworkChanged"),this.f=i}L(Fk,un),e=ir.prototype,e.yb=function(i){return i=this.i.yb(i),We(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,wI(this.a,this.aa),this.dispatchEvent(new Vk(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,s$(a),this.R={url:i,ec:a},this.settings.jb=!0,ch(this.a,this.R),this.dispatchEvent(new jk(this.R))}};function s$(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&$f().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),SI(this.a,J.SDK_VERSION?Js(J.SDK_VERSION,this.J):null),this.dispatchEvent(new Fk(this.J))},e.Ga=function(){return xo(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function a$(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=ln(this.R.url);a=br({protocol:a.c,host:a.a,port:a.g,options:br({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:Ie(this).options.apiKey,authDomain:Ie(this).options.authDomain,appName:Ie(this).name,currentUser:le(this)&&le(this).w()}};function iy(i){return i.Oa||Oe(new C("auth-domain-config-required"))}function u$(i){var a=Ie(i).options.authDomain,c=Ie(i).options.apiKey;a&&Oo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Rg(a,c,Ie(i).name,i.R),yh(i.b,i),le(i)&&gl(le(i)),i.m){gl(i.m);var d=i.m;d.xa(i.la()),zg(d,i),d=i.m,vl(d,i.J),Hg(d,i),d=i.m,qg(d,i.R),Kg(d,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?_(this.ic,this):null},e.ic=function(i,a,c,d){var m=this,y={requestUri:i,postBody:d,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Ho(m,ag(m.a,y))})},e.Xc=function(i){if(!Oo())return Oe(new C("operation-not-supported-in-this-environment"));var a=this,c=Lv(i.providerId),d=Lo(),m=null;(!Gu()||yv())&&Ie(this).options.authDomain&&i.isOAuthProvider&&(m=fl(Ie(this).options.authDomain,Ie(this).options.apiKey,Ie(this).name,"signInViaPopup",i,null,d,J.SDK_VERSION||null,null,null,this.T(),this.R));var y=yb(m,c&&c.va,c&&c.ua);return c=iy(this).then(function(S){return lk(S,y,"signInViaPopup",i,d,!!m,a.T())}).then(function(){return new fe(function(S,x){a.na("signInViaPopup",null,new C("cancelled-popup-request"),a.g),a.f=S,a.C=x,a.g=d,a.c=fk(a.b,a,"signInViaPopup",y,d)})}).then(function(S){return y&&Ro(y),S?br(S):null}).o(function(S){throw y&&Ro(y),S}),We(this,c)},e.Yc=function(i){if(!Oo())return Oe(new C("operation-not-supported-in-this-environment"));var a=this,c=iy(this).then(function(){return o$(a.i)}).then(function(){return ck(a.b,"signInViaRedirect",i,void 0,a.T())});return We(this,c)};function Uk(i){if(!Oo())return Oe(new C("operation-not-supported-in-this-environment"));var a=iy(i).then(function(){return i.b.ra()}).then(function(c){return c?br(c):null});return We(i,a)}e.ra=function(){var i=this;return Uk(this).then(function(a){return i.b&&Sh(i.b.b),a}).o(function(a){throw i.b&&Sh(i.b.b),a})},e.dd=function(i){if(!i)return Oe(new C("null-user"));if(this.S!=i.tenantId)return Oe(new C("tenant-id-mismatch"));var a=this,c={};c.apiKey=Ie(this).options.apiKey,c.authDomain=Ie(this).options.authDomain,c.appName=Ie(this).name;var d=t$(i,c,a.D,a.Ga());return We(this,this.h.then(function(){if(Ie(a).options.apiKey!=i.l)return d.reload()}).then(function(){return le(a)&&i.uid==le(a).uid?(bh(le(a),i),a.da(i)):(ca(a,d),gl(d),a.da(d))}).then(function(){wl(a)}))};function l$(i,a){var c={};return c.apiKey=Ie(i).options.apiKey,c.authDomain=Ie(i).options.authDomain,c.appName=Ie(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return e$(c,a,i.D,i.Ga())}).then(function(d){return le(i)&&d.uid==le(i).uid?(bh(le(i),d),i.da(d)):(ca(i,d),gl(d),i.da(d))}).then(function(){wl(i)})}function ca(i,a){le(i)&&(XU(le(i),i.Ba),En(le(i),"tokenChanged",i.qa),En(le(i),"userDeleted",i.za),En(le(i),"userInvalidated",i.Aa),Gg(le(i))),a&&(a.W.push(i.Ba),Fn(a,"tokenChanged",i.qa),Fn(a,"userDeleted",i.za),Fn(a,"userInvalidated",i.Aa),0<i.u&&Ik(a)),X(i,"currentUser",a),a&&(a.xa(i.la()),zg(a,i),vl(a,i.J),Hg(a,i),qg(a,i.R),Kg(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&Sh(i.b.b),le(i)?(ca(i,null),Lk(i.i).then(function(){wl(i)})):ee()});return We(this,a)};function c$(i){var a=r$(i.D,Ie(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),Rk(i.D)});return We(i,a)}function f$(i){var a=Ie(i).options.authDomain,c=c$(i).then(function(){return Mk(i.i,a,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return Ok(i.i,d).then(function(){return d})}).o(function(m){return m.code=="auth/network-request-failed"?d:Lk(i.i)})):null}).then(function(d){ca(i,d||null)});return We(i,c)}function h$(i){return i.$.then(function(){return Uk(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(xr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return Mk(this.i,Ie(this).options.authDomain).then(function(a){if(!i.l){var c;if(c=le(i)&&a){c=le(i).uid;var d=a.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return bh(le(i),a),le(i).I();(le(i)||a)&&(ca(i,a),a&&(gl(a),a.ha=i.D),i.b&&yh(i.b,i),wl(i))}})},e.da=function(i){return Ok(this.i,i)},e.mc=function(){wl(this),this.da(le(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ho(i,a){var c=null,d=null;return We(i,a.then(function(m){return c=$v(m),d=zb(m),l$(i,m)},function(m){var y=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(y=wk(m.w(),i,_(i.kc,i))),y||m}).then(function(){return br({user:le(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Ho(a,ee(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(le(a))})},e.Ac=function(i){var a=this;d$(this,function(){i.next(le(a))})},e.Ic=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(le(d)):typeof i.next=="function"&&i.next(le(d))}),this.Pa(i,a,c)},e.Hc=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(le(d)):typeof i.next=="function"&&i.next(le(d))}),this.ib(i,a,c)},e.nc=function(i){var a=this,c=this.h.then(function(){return le(a)?le(a).I(i).then(function(d){return{accessToken:d}}):null});return We(this,c)},e.Tc=function(i){var a=this;return this.h.then(function(){return Ho(a,de(a.a,WF,{token:i}))}).then(function(c){var d=c.user;return Ni(d,"isAnonymous",!1),a.da(d),c})},e.Uc=function(i,a){var c=this;return this.h.then(function(){return Ho(c,de(c.a,NI,{email:i,password:a}))})},e.dc=function(i,a){var c=this;return this.h.then(function(){return Ho(c,de(c.a,IF,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Ho(a,i.ka(a.a))})},e.Sc=function(i){return Tv("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=le(i);if(a&&a.isAnonymous){var c=br({providerId:null,isNewUser:!1});return br({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Ho(i,i.a.Ab()).then(function(d){var m=d.user;return Ni(m,"isAnonymous",!0),i.da(m),d})})};function Ie(i){return i.app}function le(i){return i.currentUser}e.getUid=function(){return le(this)&&le(this).uid||null};function kh(i){return le(i)&&le(i)._lat||null}function wl(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](kh(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](kh(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&le(this)&&Ik(le(this))},e.Pc=function(i){var a=this;Fe(this.s,function(c){c==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&le(this)&&Gg(le(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),We(this,this.h.then(function(){a.l||zr(a.s,i)&&i(kh(a))}))},e.removeAuthTokenListener=function(i){Jn(this.s,function(a){return a==i})};function d$(i,a){i.N.push(a),We(i,i.h.then(function(){!i.l&&zr(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(kh(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(xr("local"),i.a,this.ja)),this.b&&(_g(this.b,this),Sh(this.b.b)),Promise.resolve()};function We(i,a){return i.P.push(a),a.oa(function(){Af(i.P,a)}),a}e.hc=function(i){return We(this,mF(this.a,i))},e.Bc=function(i){return!!Uv(i)},e.xb=function(i,a){var c=this;return We(this,ee().then(function(){var d=new zf(a);if(!d.c)throw new C("argument-error",Rv+" must be true when sending sign in link to email");return Kf(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return We(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return We(this,this.a.Sa(i).then(function(a){return new xj(a)}))},e.kb=function(i){return We(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var c=this;return We(this,ee().then(function(){return typeof a>"u"||Ao(a)?{}:Kf(new zf(a))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},e.Wc=function(i,a){return We(this,Lg(this,i,a,_(this.ab,this)))},e.Vc=function(i,a){var c=this;return We(this,ee().then(function(){var d=a||Wu(),m=nI(i,d);if(d=Uv(d),!d)throw new C("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new C("tenant-id-mismatch");return c.ab(m)}))};function Sl(){}Sl.prototype.render=function(){},Sl.prototype.reset=function(){},Sl.prototype.getResponse=function(){},Sl.prototype.execute=function(){};function fa(){this.a={},this.b=1e12}var oy=null;fa.prototype.render=function(i,a){return this.a[this.b.toString()]=new xh(i,a),this.b++},fa.prototype.reset=function(i){var a=sy(this,i);i=$k(i),a&&i&&(a.delete(),delete this.a[i])},fa.prototype.getResponse=function(i){return(i=sy(this,i))?i.getResponse():null},fa.prototype.execute=function(i){(i=sy(this,i))&&i.execute()};function sy(i,a){return(a=$k(a))&&i.a[a]||null}function $k(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function xh(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Uu(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():Fn(this.f,"click",this.i)}xh.prototype.getResponse=function(){return ay(this),this.b},xh.prototype.execute=function(){ay(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=Sj();var a=i.c.callback,c=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},xh.prototype.delete=function(){ay(this),this.g=!0,clearTimeout(this.a),this.a=null,En(this.f,"click",this.i)};function ay(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function uy(){}X(uy,"FACTOR_ID","phone");function ly(){}ly.prototype.g=function(){return oy||(oy=new fa),ee(oy)},ly.prototype.c=function(){};var cy=null;function fy(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var p$=new Sr(Cf,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),m$=new xi(3e4,6e4);fy.prototype.g=function(i){var a=this;return new fe(function(c,d){var m=setTimeout(function(){d(new C("network-request-failed"))},m$.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var S=f.grecaptcha.render;f.grecaptcha.render=function(x,M){return x=S(x,M),a.b++,x},clearTimeout(m),c(f.grecaptcha)}else clearTimeout(m),d(new C("internal-error"));delete f[a.a]};var y=Hm(p$,{onload:a.a,hl:i||""});ee(eg(y)).o(function(){clearTimeout(m),d(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),c(f.grecaptcha)})},fy.prototype.c=function(){this.b--};var hy=null;function dy(i,a,c,d,m,y,S){if(X(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,S?(cy||(cy=new ly),S=cy):(hy||(hy=new fy),S=hy),this.m=S,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[zk])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[v$]==="invisible",!f.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Uu(a)||!this.i&&Uu(a).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new nr(i,y||null,m||null),this.u=d||function(){return null};var x=this;this.l=[];var M=this.a[Bk];this.a[Bk]=function(ae){if(Kk(x,ae),typeof M=="function")M(ae);else if(typeof M=="string"){var Ee=Le(M,f);typeof Ee=="function"&&Ee(ae)}};var F=this.a[qk];this.a[qk]=function(){if(Kk(x,null),typeof F=="function")F();else if(typeof F=="string"){var ae=Le(F,f);typeof ae=="function"&&ae()}}}var Bk="callback",qk="expired-callback",zk="sitekey",v$="size";function Kk(i,a){for(var c=0;c<i.l.length;c++)try{i.l[c](a)}catch{}}function g$(i,a){Jn(i.l,function(c){return c==a})}function py(i,a){return i.h.push(a),a.oa(function(){Af(i.h,a)}),a}e=dy.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=py(this,ee().then(function(){if(Bf()&&!er())return $f();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,de(i.s,jF,{})}).then(function(a){i.a[zk]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){Ah(this);var i=this;return py(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var c=Uu(a);a=qV("DIV"),c.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){Ah(this);var i=this;return py(this,this.render().then(function(a){return new fe(function(c){var d=i.g.getResponse(a);if(d)c(d);else{var m=function(y){y&&(g$(i,m),c(y))};i.l.push(m),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Ah(this),this.c!==null&&this.g.reset(this.c)};function Ah(i){if(i.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ah(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Uu(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function my(i,a,c){var d=!1;try{this.b=c||J.app()}catch{throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new C("invalid-api-key");var m=this,y=null;try{y=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=J.SDK_VERSION?Js(J.SDK_VERSION,y):null,dy.call(this,c,i,a,function(){try{var S=m.b.auth().la()}catch{S=null}return S},y,Ei(yr),d)}L(my,dy);function Hk(i,a,c,d){e:{c=Array.prototype.slice.call(c);for(var m=0,y=!1,S=0;S<a.length;S++)if(a[S].optional)y=!0;else{if(y)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(y=a.length,c.length<m||y<c.length)d="Expected "+(m==y?m==1?"1 argument":m+" arguments":m+"-"+y+" arguments")+" but got "+c.length+".";else{for(m=0;m<c.length;m++)if(y=a[m].optional&&c[m]===void 0,!a[m].M(c[m])&&!y){if(a=a[m],0>m||m>=Wk.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");c=Wk[m],d=(d?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}d=null}}if(d)throw new C("argument-error",i+" failed: "+d)}var Wk="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Q(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function vy(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function rt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:A}}function ha(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Ar(i,a){return{name:i||"",K:"null",optional:!!a,M:function(c){return c===null}}}function y$(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function w$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof ir)}}}function S$(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof J.app.App)}}}function _i(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!i||a.providerId===i;return!(!a.ka||!c)}}}function Gk(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function da(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function gy(i,a){return A(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function Qk(i){return A(i)&&typeof i.uid=="string"}function Ch(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Ze(i,a,c,d){return{name:c||"",K:i.K+" or "+a.K,optional:!!d,M:function(m){return i.M(m)||a.M(m)}}}function Ue(i,a){for(var c in a){var d=a[c].name;i[d]=Yk(d,i[c],a[c].j)}}function Xk(i,a){for(var c in a){var d=a[c].name;d!==c&&Object.defineProperty(i,d,{get:U(function(m){return this[m]},c),set:U(function(m,y,S,x){Hk(m,[S],[x],!0),this[y]=x},d,c,a[c].lb),enumerable:!0})}}function et(i,a,c,d){i[a]=Yk(a,c,d)}function Yk(i,a,c){function d(){var S=Array.prototype.slice.call(arguments);return Hk(m,c,S),a.apply(this,S)}if(!c)return a;var m=E$(i),y;for(y in a)d[y]=a[y];for(y in a.prototype)d.prototype[y]=a.prototype[y];return d}function E$(i){return i=i.split("."),i[i.length-1]}Ue(ir.prototype,{kb:{name:"applyActionCode",j:[Q("code")]},Sa:{name:"checkActionCode",j:[Q("code")]},ob:{name:"confirmPasswordReset",j:[Q("code"),Q("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Q("email"),Q("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Q("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Q("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ze(rt(),ha(),"nextOrObserver"),ha("opt_error",!0),ha("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ze(rt(),ha(),"nextOrObserver"),ha("opt_error",!0),ha("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Q("email"),Ze(rt("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Q("email"),rt("actionCodeSettings")]},yb:{name:"setPersistence",j:[Q("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[_i()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[_i()]},Tc:{name:"signInWithCustomToken",j:[Q("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Q("email"),Q("password")]},Vc:{name:"signInWithEmailLink",j:[Q("email"),Q("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Q("phoneNumber"),Ch()]},Xc:{name:"signInWithPopup",j:[da()]},Yc:{name:"signInWithRedirect",j:[da()]},dd:{name:"updateCurrentUser",j:[Ze(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof bn)}}}(),Ar(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Q(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Q("url"),rt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Q("code")]}}),Xk(ir.prototype,{lc:{name:"languageCode",lb:Ze(Q(),Ar(),"languageCode")},ti:{name:"tenantId",lb:Ze(Q(),Ar(),"tenantId")}}),ir.Persistence=oa,ir.Persistence.LOCAL="local",ir.Persistence.SESSION="session",ir.Persistence.NONE="none",Ue(bn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[vy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[vy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[_i()]},rb:{name:"linkWithCredential",j:[_i()]},Dc:{name:"linkWithPhoneNumber",j:[Q("phoneNumber"),Ch()]},Ec:{name:"linkWithPopup",j:[da()]},Fc:{name:"linkWithRedirect",j:[da()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[_i()]},ub:{name:"reauthenticateWithCredential",j:[_i()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Q("phoneNumber"),Ch()]},Nc:{name:"reauthenticateWithPopup",j:[da()]},Oc:{name:"reauthenticateWithRedirect",j:[da()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ze(rt("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Q(null,!0)]},cd:{name:"unlink",j:[Q("provider")]},Cb:{name:"updateEmail",j:[Q("email")]},Db:{name:"updatePassword",j:[Q("password")]},ed:{name:"updatePhoneNumber",j:[_i("phone")]},Eb:{name:"updateProfile",j:[rt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Q("email"),Ze(rt("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]}}),Ue(fa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ue(Sl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ue(fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xk(vk.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:vy("appVerificationDisabledForTesting")}}),Ue(Og.prototype,{confirm:{name:"confirm",j:[Q("verificationCode")]}}),et(ta,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,c=[zj,Kj,Hj,qj],d=0;d<c.length;d++)if(a=c[d](i))return a;return null},[Ze(Q(),rt(),"json")]),et($n,"credential",function(i,a){return new Ai(i,a)},[Q("email"),Q("password")]),Ue(Ai.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ue(jo.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[rt("customOAuthParameters")]}}),et(jo,"credential",Jb,[Ze(Q(),rt(),"token")]),et($n,"credentialWithLink",nI,[Q("email"),Q("emailLink")]),Ue(Fo.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[rt("customOAuthParameters")]}}),et(Fo,"credential",Zb,[Ze(Q(),rt(),"token")]),Ue(Uo.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[rt("customOAuthParameters")]}}),et(Uo,"credential",eI,[Ze(Q(),Ze(rt(),Ar()),"idToken"),Ze(Q(),Ar(),"accessToken",!0)]),Ue(ra.prototype,{Ka:{name:"setCustomParameters",j:[rt("customOAuthParameters")]}}),et(ra,"credential",tI,[Ze(Q(),rt(),"token"),Q("secret",!0)]),Ue(Tn.prototype,{Ca:{name:"addScope",j:[Q("scope")]},credential:{name:"credential",j:[Ze(Q(),Ze(rt(),Ar()),"optionsOrIdToken"),Ze(Q(),Ar(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[rt("customOAuthParameters")]}}),Ue(Hr.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ue(Mo.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),et(Wr,"credential",rI,[Q("verificationId"),Q("verificationCode")]),Ue(Wr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ze(Q(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?gy(c.session,el)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?gy(c.session,Xf)&&Qk(c.multiFactorHint):c.session&&c.multiFactorUid?gy(c.session,Xf)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Ch()]}}),Ue(Ci.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ue(C.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ue(nl.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ue(zv.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ue(Vg.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ue(Mg.prototype,{Rc:{name:"resolveSignIn",j:[Gk()]}}),Ue(Fg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Gk(),Q("displayName",!0)]},bd:{name:"unenroll",j:[Ze({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qk},Q(),"multiFactorInfoIdentifier")]}}),Ue(my.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),et(Pv,"parseLink",Ob,[Q("link")]),et(uy,"assertion",function(i){return new Ek(i)},[_i("phone")]),function(){if(typeof J<"u"&&J.INTERNAL&&J.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Dv,VERIFY_AND_CHANGE_EMAIL:Ju,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ir,AuthCredential:ta,Error:C};et(i,"EmailAuthProvider",$n,[]),et(i,"FacebookAuthProvider",jo,[]),et(i,"GithubAuthProvider",Fo,[]),et(i,"GoogleAuthProvider",Uo,[]),et(i,"TwitterAuthProvider",ra,[]),et(i,"OAuthProvider",Tn,[Q("providerId")]),et(i,"SAMLAuthProvider",Yb,[Q("providerId")]),et(i,"PhoneAuthProvider",Wr,[w$()]),et(i,"RecaptchaVerifier",my,[Ze(Q(),y$(),"recaptchaContainer"),rt("recaptchaParameters",!0),S$()]),et(i,"ActionCodeURL",Pv,[]),et(i,"PhoneMultiFactorGenerator",uy,[]),J.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new ir(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),J.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:_(a.getUid,a),getToken:_(a.nc,a),addAuthTokenListener:_(a.cc,a),removeAuthTokenListener:_(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.registerVersion("@firebase/auth","0.16.8"),J.INTERNAL.extendNamespace({User:bn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});function K3(e){return Array.prototype.slice.call(e)}function yL(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Rm(e,t,n){var r,o=new Promise(function(s,u){r=e[t].apply(e,n),yL(r).then(s,u)});return o.request=r,o}function H3(e,t,n){var r=Rm(e,t,n);return r.then(function(o){if(o)return new Bc(o,r.request)})}function Ou(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(o){this[t][r]=o}})})}function gE(e,t,n,r){r.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return Rm(this[t],o,arguments)})})}function Om(e,t,n,r){r.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function wL(e,t,n,r){r.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return H3(this[t],o,arguments)})})}function Bs(e){this._index=e}Ou(Bs,"_index",["name","keyPath","multiEntry","unique"]);gE(Bs,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);wL(Bs,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Bc(e,t){this._cursor=e,this._request=t}Ou(Bc,"_cursor",["direction","key","primaryKey","value"]);gE(Bc,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Bc.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),yL(t._request).then(function(r){if(r)return new Bc(r,t._request)})})})});function $r(e){this._store=e}$r.prototype.createIndex=function(){return new Bs(this._store.createIndex.apply(this._store,arguments))};$r.prototype.index=function(){return new Bs(this._store.index.apply(this._store,arguments))};Ou($r,"_store",["name","keyPath","indexNames","autoIncrement"]);gE($r,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);wL($r,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Om($r,"_store",IDBObjectStore,["deleteIndex"]);function Sf(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Sf.prototype.objectStore=function(){return new $r(this._tx.objectStore.apply(this._tx,arguments))};Ou(Sf,"_tx",["objectStoreNames","mode"]);Om(Sf,"_tx",IDBTransaction,["abort"]);function Lm(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Sf(n)}Lm.prototype.createObjectStore=function(){return new $r(this._db.createObjectStore.apply(this._db,arguments))};Ou(Lm,"_db",["name","version","objectStoreNames"]);Om(Lm,"_db",IDBDatabase,["deleteObjectStore","close"]);function Mm(e){this._db=e}Mm.prototype.transaction=function(){return new Sf(this._db.transaction.apply(this._db,arguments))};Ou(Mm,"_db",["name","version","objectStoreNames"]);Om(Mm,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[$r,Bs].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=K3(arguments),r=n[n.length-1],o=this._store||this._index,s=o[e].apply(o,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Bs,$r].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,o=[];return new Promise(function(s){r.iterateCursor(t,function(u){if(!u){s(o);return}if(o.push(u.value),n!==void 0&&o.length==n){s(o);return}u.continue()})})})});function yE(e,t,n){var r=Rm(indexedDB,"open",[e,t]),o=r.request;return o&&(o.onupgradeneeded=function(s){n&&n(new Lm(o.result,s.oldVersion,o.transaction))}),r.then(function(s){return new Mm(s)})}function o0(e){return Rm(indexedDB,"deleteDatabase",[e])}var W3="@firebase/installations",SL="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EL=1e4,TL="w:"+SL,bL="FIS_v2",G3="https://firebaseinstallations.googleapis.com/v1",Q3=60*60*1e3,X3="installations",Y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li,J3=(Li={},Li["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Li["not-registered"]="Firebase Installation is not registered.",Li["installation-not-found"]="Firebase Installation not found.",Li["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Li["app-offline"]="Could not process request. Application offline.",Li["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Li),gi=new tf(X3,Y3,J3);function IL(e){return e instanceof bP&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e){var t=e.projectId;return G3+"/projects/"+t+"/installations"}function kL(e){return{token:e.token,requestStatus:2,expiresIn:Z3(e.expiresIn),creationTime:Date.now()}}function SE(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,gi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function xL(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AL(e,t){var n=t.refreshToken,r=xL(e);return r.append("Authorization",eH(n)),r}function EE(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function Z3(e){return Number(e.replace("s","000"))}function eH(e){return bL+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,o,s,u,l,f,h;return P(this,function(p){switch(p.label){case 0:return r=wE(e),o=xL(e),s={fid:n,authVersion:bL,appId:e.appId,sdkVersion:TL},u={method:"POST",headers:o,body:JSON.stringify(s)},[4,EE(function(){return fetch(r,u)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return f=p.sent(),h={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:kL(f.authToken)},[2,h];case 3:return[4,SE("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(e){var t=btoa(String.fromCharCode.apply(String,Me([],Pa(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rH=/^[cdef][\w-]{21}$/,Ww="";function iH(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=oH(e);return rH.test(n)?n:Ww}catch{return Ww}}function oH(e){var t=nH(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yu=new Map;function NL(e,t){var n=Lu(e);_L(n,t),uH(n,t)}function sH(e,t){DL();var n=Lu(e),r=yu.get(n);r||(r=new Set,yu.set(n,r)),r.add(t)}function aH(e,t){var n=Lu(e),r=yu.get(n);r&&(r.delete(t),r.size===0&&yu.delete(n),PL())}function _L(e,t){var n,r,o=yu.get(e);if(o)try{for(var s=ro(o),u=s.next();!u.done;u=s.next()){var l=u.value;l(t)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function uH(e,t){var n=DL();n&&n.postMessage({key:e,fid:t}),PL()}var us=null;function DL(){return!us&&"BroadcastChannel"in self&&(us=new BroadcastChannel("[Firebase] FID Change"),us.onmessage=function(e){_L(e.data.key,e.data.fid)}),us}function PL(){yu.size===0&&us&&(us.close(),us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lH="firebase-installations-database",cH=1,Cs="firebase-installations-store",s0=null;function TE(){return s0||(s0=yE(lH,cH,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Cs)}})),s0}function Cp(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u;return P(this,function(l){switch(l.label){case 0:return n=Lu(e),[4,TE()];case 1:return r=l.sent(),o=r.transaction(Cs,"readwrite"),s=o.objectStore(Cs),[4,s.get(n)];case 2:return u=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,o.complete];case 4:return l.sent(),(!u||u.fid!==t.fid)&&NL(e,t.fid),[2,t]}})})}function bE(e){return R(this,void 0,void 0,function(){var t,n,r;return P(this,function(o){switch(o.label){case 0:return t=Lu(e),[4,TE()];case 1:return n=o.sent(),r=n.transaction(Cs,"readwrite"),[4,r.objectStore(Cs).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}})})}function Ef(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l;return P(this,function(f){switch(f.label){case 0:return n=Lu(e),[4,TE()];case 1:return r=f.sent(),o=r.transaction(Cs,"readwrite"),s=o.objectStore(Cs),[4,s.get(n)];case 2:return u=f.sent(),l=t(u),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return f.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),l&&(!u||u.fid!==l.fid)&&NL(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){return R(this,void 0,void 0,function(){var t,n,r;return P(this,function(o){switch(o.label){case 0:return[4,Ef(e,function(s){var u=fH(s),l=hH(e,u);return t=l.registrationPromise,l.installationEntry})];case 1:return n=o.sent(),n.fid!==Ww?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function fH(e){var t=e||{fid:iH(),registrationStatus:0};return RL(t)}function hH(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(gi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=dH(e,r);return{installationEntry:r,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:pH(e)}:{installationEntry:t}}function dH(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,tH(e,t)];case 1:return n=o.sent(),[2,Cp(e,n)];case 2:return r=o.sent(),IL(r)&&r.customData.serverCode===409?[4,bE(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Cp(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}})})}function pH(e){return R(this,void 0,void 0,function(){var t,n,r,o;return P(this,function(s){switch(s.label){case 0:return[4,RC(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,CL(100)];case 3:return s.sent(),[4,RC(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,IE(e)];case 6:return n=s.sent(),r=n.installationEntry,o=n.registrationPromise,o?[2,o]:[2,r];case 7:return[2,t]}})})}function RC(e){return Ef(e,function(t){if(!t)throw gi.create("installation-not-found");return RL(t)})}function RL(e){return mH(e)?{fid:e.fid,registrationStatus:0}:e}function mH(e){return e.registrationStatus===1&&e.registrationTime+EL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var o,s,u,l,f,h,p,v;return P(this,function(g){switch(g.label){case 0:return o=gH(n,t),s=AL(n,t),u=r.getImmediate({optional:!0}),u&&s.append("x-firebase-client",u.getPlatformInfoString()),l={installation:{sdkVersion:TL}},f={method:"POST",headers:s,body:JSON.stringify(l)},[4,EE(function(){return fetch(o,f)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=g.sent(),v=kL(p),[2,v];case 3:return[4,SE("Generate Auth Token",h)];case 4:throw g.sent()}})})}function gH(e,t){var n=t.fid;return wE(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,o,s;return P(this,function(u){switch(u.label){case 0:return[4,Ef(e.appConfig,function(l){if(!OL(l))throw gi.create("not-registered");var f=l.authToken;if(!t&&SH(f))return l;if(f.requestStatus===1)return n=yH(e,t),l;if(!navigator.onLine)throw gi.create("app-offline");var h=TH(l);return n=wH(e,h),h})];case 1:return r=u.sent(),n?[4,n]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=r.authToken,u.label=4;case 4:return o=s,[2,o]}})})}function yH(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return[4,OC(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,CL(100)];case 3:return o.sent(),[4,OC(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,kE(e,t)]:[2,r]}})})}function OC(e){return Ef(e,function(t){if(!OL(t))throw gi.create("not-registered");var n=t.authToken;return bH(n)?Ft(Ft({},t),{authToken:{requestStatus:0}}):t})}function wH(e,t){return R(this,void 0,void 0,function(){var n,o,r,o;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,vH(e,t)];case 1:return n=s.sent(),o=Ft(Ft({},t),{authToken:n}),[4,Cp(e.appConfig,o)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),IL(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,bE(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return o=Ft(Ft({},t),{authToken:{requestStatus:0}}),[4,Cp(e.appConfig,o)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function OL(e){return e!==void 0&&e.registrationStatus===2}function SH(e){return e.requestStatus===2&&!EH(e)}function EH(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Q3}function TH(e){var t={requestStatus:1,requestTime:Date.now()};return Ft(Ft({},e),{authToken:t})}function bH(e){return e.requestStatus===1&&e.requestTime+EL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(e){return R(this,void 0,void 0,function(){var t,n,r;return P(this,function(o){switch(o.label){case 0:return[4,IE(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):kE(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,xH(e.appConfig)];case 1:return r.sent(),[4,kE(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function xH(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,IE(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(e,t){return R(this,void 0,void 0,function(){var n,r,o,s;return P(this,function(u){switch(u.label){case 0:return n=CH(e,t),r=AL(e,t),o={method:"DELETE",headers:r},[4,EE(function(){return fetch(n,o)})];case 1:return s=u.sent(),s.ok?[3,3]:[4,SE("Delete Installation",s)];case 2:throw u.sent();case 3:return[2]}})})}function CH(e,t){var n=t.fid;return wE(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(e){return R(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Ef(t,function(o){if(!(o&&o.registrationStatus===0))return o})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw gi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw gi.create("app-offline");case 3:return[4,AH(t,n)];case 4:return r.sent(),[4,bE(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(e,t){var n=e.appConfig;return sH(n,t),function(){aH(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(e){var t,n;if(!e||!e.options)throw a0("App Configuration");if(!e.name)throw a0("App Name");var r=["projectId","apiKey","appId"];try{for(var o=ro(r),s=o.next();!s.done;s=o.next()){var u=s.value;if(!e.options[u])throw a0(u)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function a0(e){return gi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(e){var t="installations";e.INTERNAL.registerComponent(new ku(t,function(n){var r=n.getProvider("app").getImmediate(),o=DH(r),s=n.getProvider("platform-logger"),u={appConfig:o,platformLoggerProvider:s},l={app:r,getId:function(){return IH(u)},getToken:function(f){return kH(u,f)},delete:function(){return NH(u)},onIdChange:function(f){return _H(u,f)}};return l},"PUBLIC")),e.registerVersion(W3,SL)}PH(J);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,RH=(ht={},ht["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ht["only-available-in-window"]="This method is available in a Window context.",ht["only-available-in-sw"]="This method is available in a service worker context.",ht["permission-default"]="The notification permission was not granted and dismissed instead.",ht["permission-blocked"]="The notification permission was not granted and blocked instead.",ht["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ht["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ht["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ht["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ht["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ht["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ht["token-update-no-token"]="FCM returned no token when updating the user to push.",ht["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ht["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ht["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ht["invalid-vapid-key"]="The public VAPID key must be a string.",ht["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ht),Te=new tf("messaging","Messaging",RH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OH="/firebase-messaging-sw.js",LH="/firebase-cloud-messaging-push-scope",Np="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",MH="https://fcmregistrations.googleapis.com/v1",LL="FCM_MSG",VH="FirebaseMessaging: ",jH="google.c.a.e",ML="google.c.a.c_id",FH="google.c.a.ts",UH="google.c.a.c_l",$H=1e3,BH=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ns;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,Me([],Pa(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qH(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length),s=0;s<r.length;++s)o[s]=r.charCodeAt(s);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u0="fcm_token_details_db",zH=5,LC="fcm_token_object_Store";function KH(e){return R(this,void 0,void 0,function(){var t,n,r,o,s=this;return P(this,function(u){switch(u.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=u.sent(),n=t.map(function(l){return l.name}),!n.includes(u0))return[2,null];u.label=2;case 2:return r=null,[4,yE(u0,zH,function(l){return R(s,void 0,void 0,function(){var f,h,p,p,p,v;return P(this,function(g){switch(g.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(LC)?(f=l.transaction.objectStore(LC),[4,f.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,f.clear()];case 2:if(g.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Jr(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Jr(p.auth),p256dh:Jr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Jr(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Jr(p.auth),p256dh:Jr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Jr(p.vapidKey)}});return[2]}})})})];case 3:return o=u.sent(),o.close(),[4,o0(u0)];case 4:return u.sent(),[4,o0("fcm_vapid_details_db")];case 5:return u.sent(),[4,o0("undefined")];case 6:return u.sent(),[2,HH(r)?r:null]}})})}function HH(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH="firebase-messaging-database",GH=1,_s="firebase-messaging-store",l0=null;function xE(){return l0||(l0=yE(WH,GH,function(e){switch(e.oldVersion){case 0:e.createObjectStore(_s)}})),l0}function _p(e){return R(this,void 0,void 0,function(){var t,n,r,o;return P(this,function(s){switch(s.label){case 0:return t=CE(e),[4,xE()];case 1:return n=s.sent(),[4,n.transaction(_s).objectStore(_s).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,KH(e.appConfig.senderId)];case 4:return o=s.sent(),o?[4,AE(e,o)]:[3,6];case 5:return s.sent(),[2,o];case 6:return[2]}})})}function AE(e,t){return R(this,void 0,void 0,function(){var n,r,o;return P(this,function(s){switch(s.label){case 0:return n=CE(e),[4,xE()];case 1:return r=s.sent(),o=r.transaction(_s,"readwrite"),[4,o.objectStore(_s).put(t,n)];case 2:return s.sent(),[4,o.complete];case 3:return s.sent(),[2,t]}})})}function QH(e){return R(this,void 0,void 0,function(){var t,n,r;return P(this,function(o){switch(o.label){case 0:return t=CE(e),[4,xE()];case 1:return n=o.sent(),r=n.transaction(_s,"readwrite"),[4,r.objectStore(_s).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}})})}function CE(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return P(this,function(h){switch(h.label){case 0:return[4,_E(e)];case 1:n=h.sent(),r=jL(t),o={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(NE(e.appConfig),o)];case 3:return u=h.sent(),[4,u.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Te.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw f=s.error.message,Te.create("token-subscribe-failed",{errorInfo:f});if(!s.token)throw Te.create("token-subscribe-no-token");return[2,s.token]}})})}function YH(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return P(this,function(h){switch(h.label){case 0:return[4,_E(e)];case 1:n=h.sent(),r=jL(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(NE(e.appConfig)+"/"+t.token,o)];case 3:return u=h.sent(),[4,u.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Te.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw f=s.error.message,Te.create("token-update-failed",{errorInfo:f});if(!s.token)throw Te.create("token-update-no-token");return[2,s.token]}})})}function VL(e,t){return R(this,void 0,void 0,function(){var n,r,o,s,u,l;return P(this,function(f){switch(f.label){case 0:return[4,_E(e)];case 1:n=f.sent(),r={method:"DELETE",headers:n},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(NE(e.appConfig)+"/"+t,r)];case 3:return o=f.sent(),[4,o.json()];case 4:if(s=f.sent(),s.error)throw u=s.error.message,Te.create("token-unsubscribe-failed",{errorInfo:u});return[3,6];case 5:throw l=f.sent(),Te.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function NE(e){var t=e.projectId;return MH+"/projects/"+t+"/registrations"}function _E(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return P(this,function(o){switch(o.label){case 0:return[4,n.getToken()];case 1:return r=o.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function jL(e){var t=e.p256dh,n=e.auth,r=e.endpoint,o=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return o!==Np&&(s.web.applicationPubKey=o),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JH=7*24*60*60*1e3;function Gw(e,t,n){return R(this,void 0,void 0,function(){var r,o,s,u;return P(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Te.create("permission-blocked");return[4,e8(t,n)];case 1:return r=l.sent(),[4,_p(e)];case 2:return o=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Jr(r.getKey("auth")),p256dh:Jr(r.getKey("p256dh"))},o?[3,3]:[2,MC(e,s)];case 3:if(t8(o.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,VL(e,o.token)];case 5:return l.sent(),[3,7];case 6:return u=l.sent(),console.warn(u),[3,7];case 7:return[2,MC(e,s)];case 8:return Date.now()>=o.createTime+JH?[2,ZH({token:o.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,o.token];case 9:return[2]}})})}function nc(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return[4,_p(e)];case 1:return n=o.sent(),n?[4,VL(e,n.token)]:[3,4];case 2:return o.sent(),[4,QH(e)];case 3:o.sent(),o.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=o.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function ZH(e,t,n){return R(this,void 0,void 0,function(){var r,o,s;return P(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,5]),[4,YH(t,e)];case 1:return r=u.sent(),o=Ft(Ft({},e),{token:r,createTime:Date.now()}),[4,AE(t,o)];case 2:return u.sent(),[2,r];case 3:return s=u.sent(),[4,nc(t,n)];case 4:throw u.sent(),s;case 5:return[2]}})})}function MC(e,t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return[4,XH(e,t)];case 1:return n=o.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,AE(e,r)];case 2:return o.sent(),[2,r.token]}})})}function e8(e,t){return R(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qH(t)})]}})})}function t8(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&o&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return r8(t,e),i8(t,e),o8(t,e),t}function r8(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var o=t.notification.image;o&&(e.notification.image=o)}}function i8(e,t){t.data&&(e.data=t.data)}function o8(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(e){return typeof e=="object"&&!!e&&ML in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s8=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Te.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return P(this,function(o){switch(o.label){case 0:return this.vapidKey?[3,2]:[4,_p(this.firebaseDependencies)];case 1:r=o.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Np,o.label=2;case 2:return[2,Gw(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return nc(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Te.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Te.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Te.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Te.create("only-available-in-window")},e.prototype.onMessage=function(){throw Te.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Te.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,o,s;return P(this,function(u){switch(u.label){case 0:return n=u8(t),n?[4,UL()]:(console.debug(VH+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=u.sent(),c8(r)?[2,f8(r,n)]:(o=!1,n.notification?[4,h8(a8(n))]:[3,3]);case 2:u.sent(),o=!0,u.label=3;case 3:return o===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=n8(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,VC($H)]);case 4:return u.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var o,s;return P(this,function(u){switch(u.label){case 0:return o=t.newSubscription,o?[3,2]:[4,nc(this.firebaseDependencies,self.registration)];case 1:return u.sent(),[2];case 2:return[4,_p(this.firebaseDependencies)];case 3:return s=u.sent(),[4,nc(this.firebaseDependencies,self.registration)];case 4:return u.sent(),[4,Gw(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Np)];case 5:return u.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var o,s,u,l,f;return P(this,function(h){switch(h.label){case 0:if(o=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[LL],o){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=d8(o),s?(u=new URL(s,self.location.href),l=new URL(self.location.origin),u.host!==l.host?[2]:[4,l8(u)]):[2];case 1:return f=h.sent(),f?[3,4]:[4,self.clients.openWindow(s)];case 2:return f=h.sent(),[4,VC(BH)];case 3:return h.sent(),[3,6];case 4:return[4,f.focus()];case 5:f=h.sent(),h.label=6;case 6:return f?(o.messageType=Ns.NOTIFICATION_CLICKED,o.isFirebaseMessaging=!0,[2,f.postMessage(o)]):[2]}})})},e}();function a8(e){var t,n=Ft({},e.notification);return n.data=(t={},t[LL]=e,t),n}function u8(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function l8(e){return R(this,void 0,void 0,function(){var t,n,r,o,s,u,l;return P(this,function(f){switch(f.label){case 0:return[4,UL()];case 1:t=f.sent();try{for(n=ro(t),r=n.next();!r.done;r=n.next())if(o=r.value,s=new URL(o.url,self.location.href),e.host===s.host)return[2,o]}catch(h){u={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(u)throw u.error}}return[2,null]}})})}function c8(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function f8(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Ns.PUSH_RECEIVED;try{for(var o=ro(e),s=o.next();!s.done;s=o.next()){var u=s.value;u.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function UL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function h8(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function d8(e){var t,n,r,o=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return o||(FL(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p8=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return P(this,function(o){switch(o.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ns.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(v8(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,FL(r)&&r[jH]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Te.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,Gw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return P(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Np),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Te.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(OH,{scope:LH})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Te.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,nc(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Te.create("permission-blocked"):Te.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Te.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Te.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Te.create("invalid-sw-registration");if(this.swRegistration)throw Te.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Te.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Te.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,o;return P(this,function(s){switch(s.label){case 0:return r=m8(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return o=s.sent(),o.logEvent(r,{message_id:n[ML],message_name:n[UH],message_time:n[FH],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function m8(e){switch(e){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function v8(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e){var t,n;if(!e||!e.options)throw c0("App Configuration Object");if(!e.name)throw c0("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],o=e.options;try{for(var s=ro(r),u=s.next();!u.done;u=s.next()){var l=u.value;if(!o[l])throw c0(l)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function c0(e){return Te.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y8="messaging";function w8(e){var t=e.getProvider("app").getImmediate(),n=g8(t),r=e.getProvider("installations").getImmediate(),o=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:o};if(!$L())throw Te.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new s8(s):new p8(s)}var S8={isSupported:$L};J.INTERNAL.registerComponent(new ku(y8,w8,"PUBLIC").setServiceProps(S8));function $L(){return self&&"ServiceWorkerGlobalScope"in self?T8():E8()}function E8(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function T8(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}const b8={apiKey:"AIzaSyCbQ8iRO-ydbUBATcq7Ej5L4TDEptqjgAU",authDomain:"superchat-22eaa.firebaseapp.com",databaseURL:"https://superchat-22eaa-default-rtdb.firebaseio.com",projectId:"superchat-22eaa",storageBucket:"superchat-22eaa.appspot.com",messagingSenderId:"619162059122",appId:"1:619162059122:web:5280d9512f56bc16089deb",measurementId:"G-6XKVE61VN3"};J.apps.length||J.initializeApp(b8);const ui=J.auth(),so=J.firestore(),jC=J.messaging(),I8=async()=>{try{return await jC.requestPermission(),await jC.getToken()}catch(e){return console.error("Error getting permission",e),null}},k8=async(e,t)=>{try{const n=await so.collection("servers").add({name:e,ownerId:t,createdAt:J.firestore.FieldValue.serverTimestamp(),members:[t]});return await so.collection("channels").add({serverId:n.id,name:"general",type:"text",createdAt:J.firestore.FieldValue.serverTimestamp()}),n.id}catch(n){throw console.error("Error creating server:",n),n}},x8=async(e,t,n)=>{try{await so.collection("channels").add({serverId:e,name:t,type:n,createdAt:J.firestore.FieldValue.serverTimestamp()})}catch(r){throw console.error("Error creating channel:",r),r}};function A8(){const[e,t]=V.useState(()=>typeof window>"u"?"dark":localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return V.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e),localStorage.setItem("theme",e),e==="light"?(document.documentElement.style.setProperty("--bg-primary","#ffffff"),document.documentElement.style.setProperty("--bg-secondary","#f2f3f5"),document.documentElement.style.setProperty("--text-primary","#2e3338"),document.documentElement.style.setProperty("--text-secondary","#747f8d")):(document.documentElement.style.setProperty("--bg-primary","#313338"),document.documentElement.style.setProperty("--bg-secondary","#2b2d31"),document.documentElement.style.setProperty("--text-primary","#ffffff"),document.documentElement.style.setProperty("--text-secondary","#949ba4"))},[e]),{theme:e,setTheme:t}}var C8=function(e,t,n,r,o){if(e.exists){var s=e.data(t);return o&&(s=o(s)),n&&(s[n]=e.id),r&&(s[r]=e.ref),s}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dp=function(){return Dp=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Dp.apply(this,arguments)},BL=function(e){return{loading:e==null,value:e}},N8=function(){return function(e,t){switch(t.type){case"error":return Dp({},e,{error:t.error,loading:!1,value:void 0});case"reset":return BL(t.defaultValue);case"value":return Dp({},e,{error:void 0,loading:!1,value:t.value});default:return e}}},_8=function(e){var t=void 0,n=V.useReducer(N8(),BL(t)),r=n[0],o=n[1],s=function(){var f=void 0;o({type:"reset",defaultValue:f})},u=function(f){o({type:"error",error:f})},l=function(f){o({type:"value",value:f})};return V.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:u,setValue:l,value:r.value}},[r.error,r.loading,s,u,l,r.value])},D8=function(e,t,n){var r=V.useRef(e);return V.useEffect(function(){t(e,r.current)||(r.current=e,n&&n())}),r},P8=function(e,t){var n=!e&&!t,r=!!e&&!!t&&e.isEqual(t);return n||r},R8=function(e,t){return D8(e,P8,t)},DE=function(e,t){return L8(!0,e,t)},O8=function(e,t,n){var r=_8(),o=r.error,s=r.loading,u=r.reset,l=r.setError,f=r.setValue,h=r.value,p=R8(t,u);V.useEffect(function(){if(!p.current){f(void 0);return}{var g=n&&n.snapshotListenOptions?p.current.onSnapshot(n.snapshotListenOptions,f,l):p.current.onSnapshot(f,l);return function(){g()}}},[p.current]);var v=[h,s,o];return V.useMemo(function(){return v},v)},L8=function(e,t,n){var r=n?n.idField:void 0,o=n?n.refField:void 0,s=n?n.snapshotOptions:void 0,u=n?n.transform:void 0,l=O8(e,t,n),f=l[0],h=l[1],p=l[2],v=V.useMemo(function(){return f?f.docs.map(function(w){return C8(w,s,r,o,u)}):n&&n.initialValue},[f,s,r,o,u]),g=[v,h,p];return V.useMemo(function(){return g},g)};const PE=V.createContext({});function RE(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Vm=V.createContext(null),OE=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class M8 extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V8({children:e,isPresent:t}){const n=V.useId(),r=V.useRef(null),o=V.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=V.useContext(OE);return V.useInsertionEffect(()=>{const{width:u,height:l,top:f,left:h}=o.current;if(t||!r.current||!u||!l)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            top: ${f}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),j.jsx(M8,{isPresent:t,childRef:r,sizeRef:o,children:V.cloneElement(e,{ref:r})})}const j8=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:u})=>{const l=RE(F8),f=V.useId(),h=V.useCallback(v=>{l.set(v,!0);for(const g of l.values())if(!g)return;r&&r()},[l,r]),p=V.useMemo(()=>({id:f,initial:t,isPresent:n,custom:o,onExitComplete:h,register:v=>(l.set(v,!1),()=>l.delete(v))}),s?[Math.random(),h]:[n,h]);return V.useMemo(()=>{l.forEach((v,g)=>l.set(g,!1))},[n]),V.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),u==="popLayout"&&(e=j.jsx(V8,{isPresent:n,children:e})),j.jsx(Vm.Provider,{value:p,children:e})};function F8(){return new Map}function qL(e=!0){const t=V.useContext(Vm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,s=V.useId();V.useEffect(()=>{e&&o(s)},[e]);const u=V.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,u]:[!0]}const td=e=>e.key||"";function FC(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const LE=typeof window<"u",zL=LE?V.useLayoutEffect:V.useEffect,KL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:s="sync",propagate:u=!1})=>{const[l,f]=qL(u),h=V.useMemo(()=>FC(e),[e]),p=u&&!l?[]:h.map(td),v=V.useRef(!0),g=V.useRef(h),w=RE(()=>new Map),[T,I]=V.useState(h),[A,E]=V.useState(h);zL(()=>{v.current=!1,g.current=h;for(let N=0;N<A.length;N++){const D=td(A[N]);p.includes(D)?w.delete(D):w.get(D)!==!0&&w.set(D,!1)}},[A,p.length,p.join("-")]);const b=[];if(h!==T){let N=[...h];for(let D=0;D<A.length;D++){const _=A[D],U=td(_);p.includes(U)||(N.splice(D,0,_),b.push(_))}s==="wait"&&b.length&&(N=b),E(FC(N)),I(h);return}const{forceRender:k}=V.useContext(PE);return j.jsx(j.Fragment,{children:A.map(N=>{const D=td(N),_=u&&!l?!1:h===A||p.includes(D),U=()=>{if(w.has(D))w.set(D,!0);else return;let L=!0;w.forEach(oe=>{oe||(L=!1)}),L&&(k==null||k(),E(g.current),u&&(f==null||f()),r&&r())};return j.jsx(j8,{isPresent:_,initial:!v.current||n?void 0:!1,custom:_?void 0:t,presenceAffectsLayout:o,mode:s,onExitComplete:_?void 0:U,children:N},D)})})},Rn=e=>e;let Qw=Rn;function ME(e){let t;return()=>(t===void 0&&(t=e()),t)}const wu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},li=e=>e*1e3,ci=e=>e/1e3,U8={skipAnimations:!1,useManualTiming:!1};function $8(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function l(h){s.has(h)&&(f.schedule(h),e()),h(u)}const f={schedule:(h,p=!1,v=!1)=>{const w=v&&r?t:n;return p&&s.add(h),w.has(h)||w.add(h),h},cancel:h=>{n.delete(h),s.delete(h)},process:h=>{if(u=h,r){o=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,o&&(o=!1,f.process(h))}};return f}const nd=["read","resolveKeyframes","update","preRender","render","postRender"],B8=40;function HL(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,u=nd.reduce((E,b)=>(E[b]=$8(s),E),{}),{read:l,resolveKeyframes:f,update:h,preRender:p,render:v,postRender:g}=u,w=()=>{const E=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(E-o.timestamp,B8),1),o.timestamp=E,o.isProcessing=!0,l.process(o),f.process(o),h.process(o),p.process(o),v.process(o),g.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(w))},T=()=>{n=!0,r=!0,o.isProcessing||e(w)};return{schedule:nd.reduce((E,b)=>{const k=u[b];return E[b]=(N,D=!1,_=!1)=>(n||T(),k.schedule(N,D,_)),E},{}),cancel:E=>{for(let b=0;b<nd.length;b++)u[nd[b]].cancel(E)},state:o,steps:u}}const{schedule:Pe,cancel:fo,state:It,steps:f0}=HL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),WL=V.createContext({strict:!1}),UC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Su={};for(const e in UC)Su[e]={isEnabled:t=>UC[e].some(n=>!!t[n])};function q8(e){for(const t in e)Su[t]={...Su[t],...e[t]}}const z8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||z8.has(e)}let GL=e=>!Pp(e);function K8(e){e&&(GL=t=>t.startsWith("on")?!Pp(t):e(t))}try{K8(require("@emotion/is-prop-valid").default)}catch{}function H8(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(GL(o)||n===!0&&Pp(o)||!t&&!Pp(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function W8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const jm=V.createContext({});function qc(e){return typeof e=="string"||Array.isArray(e)}function Fm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const VE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jE=["initial",...VE];function Um(e){return Fm(e.animate)||jE.some(t=>qc(e[t]))}function QL(e){return!!(Um(e)||e.variants)}function G8(e,t){if(Um(e)){const{initial:n,animate:r}=e;return{initial:n===!1||qc(n)?n:void 0,animate:qc(r)?r:void 0}}return e.inherit!==!1?t:{}}function Q8(e){const{initial:t,animate:n}=G8(e,V.useContext(jm));return V.useMemo(()=>({initial:t,animate:n}),[$C(t),$C(n)])}function $C(e){return Array.isArray(e)?e.join(" "):e}const X8=Symbol.for("motionComponentSymbol");function La(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Y8(e,t,n){return V.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[t])}const FE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J8="framerAppearId",XL="data-"+FE(J8),{schedule:UE,cancel:m2}=HL(queueMicrotask,!1),YL=V.createContext({});function Z8(e,t,n,r,o){var s,u;const{visualElement:l}=V.useContext(jm),f=V.useContext(WL),h=V.useContext(Vm),p=V.useContext(OE).reducedMotion,v=V.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(e,{visualState:t,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=v.current,w=V.useContext(YL);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&eW(v.current,n,o,w);const T=V.useRef(!1);V.useInsertionEffect(()=>{g&&T.current&&g.update(n,h)});const I=n[XL],A=V.useRef(!!I&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,I))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,I)));return zL(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),UE.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),V.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,I)}),A.current=!1))}),g}function eW(e,t,n,r){const{layoutId:o,layout:s,drag:u,dragConstraints:l,layoutScroll:f,layoutRoot:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JL(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!u||l&&La(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:h})}function JL(e){if(e)return e.options.allowProjection!==!1?e.projection:JL(e.parent)}function tW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){var s,u;e&&q8(e);function l(h,p){let v;const g={...V.useContext(OE),...h,layoutId:nW(h)},{isStatic:w}=g,T=Q8(h),I=r(h,w);if(!w&&LE){rW();const A=iW(g);v=A.MeasureLayout,T.visualElement=Z8(o,I,g,t,A.ProjectionNode)}return j.jsxs(jm.Provider,{value:T,children:[v&&T.visualElement?j.jsx(v,{visualElement:T.visualElement,...g}):null,n(o,h,Y8(I,T.visualElement,p),I,w,T.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${(u=(s=o.displayName)!==null&&s!==void 0?s:o.name)!==null&&u!==void 0?u:""})`}`;const f=V.forwardRef(l);return f[X8]=o,f}function nW({layoutId:e}){const t=V.useContext(PE).id;return t&&e!==void 0?t+"-"+e:e}function rW(e,t){V.useContext(WL).strict}function iW(e){const{drag:t,layout:n}=Su;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const oW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $E(e){return typeof e!="string"||e.includes("-")?!1:!!(oW.indexOf(e)>-1||/[A-Z]/u.test(e))}function BC(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function BE(e,t,n,r){if(typeof t=="function"){const[o,s]=BC(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=BC(r);t=t(n!==void 0?n:e.custom,o,s)}return t}const Xw=e=>Array.isArray(e),sW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aW=e=>Xw(e)?e[e.length-1]||0:e,$t=e=>!!(e&&e.getVelocity);function xd(e){const t=$t(e)?e.get():e;return sW(t)?t.toValue():t}function uW({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,o,s){const u={latestValues:lW(r,o,s,e),renderState:t()};return n&&(u.onMount=l=>n({props:r,current:l,...u}),u.onUpdate=l=>n(l)),u}const ZL=e=>(t,n)=>{const r=V.useContext(jm),o=V.useContext(Vm),s=()=>uW(e,t,r,o);return n?s():RE(s)};function lW(e,t,n,r){const o={},s=r(e,{});for(const g in s)o[g]=xd(s[g]);let{initial:u,animate:l}=e;const f=Um(e),h=QL(e);t&&h&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),l===void 0&&(l=t.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const v=p?l:u;if(v&&typeof v!="boolean"&&!Fm(v)){const g=Array.isArray(v)?v:[v];for(let w=0;w<g.length;w++){const T=BE(e,g[w]);if(T){const{transitionEnd:I,transition:A,...E}=T;for(const b in E){let k=E[b];if(Array.isArray(k)){const N=p?k.length-1:0;k=k[N]}k!==null&&(o[b]=k)}for(const b in I)o[b]=I[b]}}}return o}const Mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Mu),eM=e=>t=>typeof t=="string"&&t.startsWith(e),tM=eM("--"),cW=eM("var(--"),qE=e=>cW(e)?fW.test(e.split("/*")[0].trim()):!1,fW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yi=(e,t,n)=>n>t?t:n<e?e:n,Vu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zc={...Vu,transform:e=>yi(0,1,e)},rd={...Vu,default:1},Tf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mi=Tf("deg"),Mr=Tf("%"),ne=Tf("px"),hW=Tf("vh"),dW=Tf("vw"),qC={...Mr,parse:e=>Mr.parse(e)/100,transform:e=>Mr.transform(e*100)},pW={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},mW={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:rd,scaleX:rd,scaleY:rd,scaleZ:rd,skew:Mi,skewX:Mi,skewY:Mi,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:zc,originX:qC,originY:qC,originZ:ne},zC={...Vu,transform:Math.round},zE={...pW,...mW,zIndex:zC,size:ne,fillOpacity:zc,strokeOpacity:zc,numOctaves:zC},vW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gW=Mu.length;function yW(e,t,n){let r="",o=!0;for(let s=0;s<gW;s++){const u=Mu[s],l=e[u];if(l===void 0)continue;let f=!0;if(typeof l=="number"?f=l===(u.startsWith("scale")?1:0):f=parseFloat(l)===0,!f||n){const h=nM(l,zE[u]);if(!f){o=!1;const p=vW[u]||u;r+=`${p}(${h}) `}n&&(t[u]=h)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function KE(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let u=!1,l=!1;for(const f in t){const h=t[f];if(qs.has(f)){u=!0;continue}else if(tM(f)){o[f]=h;continue}else{const p=nM(h,zE[f]);f.startsWith("origin")?(l=!0,s[f]=p):r[f]=p}}if(t.transform||(u||n?r.transform=yW(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;r.transformOrigin=`${f} ${h} ${p}`}}const wW={offset:"stroke-dashoffset",array:"stroke-dasharray"},SW={offset:"strokeDashoffset",array:"strokeDasharray"};function EW(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?wW:SW;e[s.offset]=ne.transform(-r);const u=ne.transform(t),l=ne.transform(n);e[s.array]=`${u} ${l}`}function KC(e,t,n){return typeof e=="string"?e:ne.transform(t+n*e)}function TW(e,t,n){const r=KC(t,e.x,e.width),o=KC(n,e.y,e.height);return`${r} ${o}`}function HE(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:u,pathSpacing:l=1,pathOffset:f=0,...h},p,v){if(KE(e,h,v),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:w,dimensions:T}=e;g.transform&&(T&&(w.transform=g.transform),delete g.transform),T&&(o!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=TW(T,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),u!==void 0&&EW(g,u,l,f,!1)}const WE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rM=()=>({...WE(),attrs:{}}),GE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iM(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const oM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sM(e,t,n,r){iM(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(oM.has(o)?o:FE(o),t.attrs[o])}const Rp={};function bW(e){Object.assign(Rp,e)}function aM(e,{layout:t,layoutId:n}){return qs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Rp[e]||e==="opacity")}function QE(e,t,n){var r;const{style:o}=e,s={};for(const u in o)($t(o[u])||t.style&&$t(t.style[u])||aM(u,e)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[u]=o[u]);return s}function uM(e,t,n){const r=QE(e,t,n);for(const o in e)if($t(e[o])||$t(t[o])){const s=Mu.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function IW(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const HC=["x","y","width","height","cx","cy","r"],kW={useVisualState:ZL({scrapeMotionValuesFromProps:uM,createRenderState:rM,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:o})=>{if(!n)return;let s=!!e.drag;if(!s){for(const l in o)if(qs.has(l)){s=!0;break}}if(!s)return;let u=!t;if(t)for(let l=0;l<HC.length;l++){const f=HC[l];e[f]!==t[f]&&(u=!0)}u&&Pe.read(()=>{IW(n,r),Pe.render(()=>{HE(r,o,GE(n.tagName),e.transformTemplate),sM(n,r)})})}})},xW={useVisualState:ZL({scrapeMotionValuesFromProps:QE,createRenderState:WE})};function lM(e,t,n){for(const r in t)!$t(t[r])&&!aM(r,n)&&(e[r]=t[r])}function AW({transformTemplate:e},t){return V.useMemo(()=>{const n=WE();return KE(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CW(e,t){const n=e.style||{},r={};return lM(r,n,e),Object.assign(r,AW(e,t)),r}function NW(e,t){const n={},r=CW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function _W(e,t,n,r){const o=V.useMemo(()=>{const s=rM();return HE(s,t,GE(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};lM(s,e.style,e),o.style={...s,...o.style}}return o}function DW(e=!1){return(n,r,o,{latestValues:s},u)=>{const f=($E(n)?_W:NW)(r,s,u,n),h=H8(r,typeof n=="string",e),p=n!==V.Fragment?{...h,...f,ref:o}:{},{children:v}=r,g=V.useMemo(()=>$t(v)?v.get():v,[v]);return V.createElement(n,{...p,children:g})}}function PW(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...$E(r)?kW:xW,preloadedFeatures:e,useRender:DW(o),createVisualElement:t,Component:r};return tW(u)}}function cM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $m(e,t,n){const r=e.getProps();return BE(r,t,n!==void 0?n:r.custom,e)}const RW=ME(()=>window.ScrollTimeline!==void 0);class OW{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>{if(RW()&&o.attachTimeline)return o.attachTimeline(t);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class LW extends OW{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function XE(e,t){return e?e[t]||e.default||e:void 0}const Yw=2e4;function fM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Yw;)t+=n,r=e.next(t);return t>=Yw?1/0:t}function YE(e){return typeof e=="function"}function WC(e,t){e.timeline=t,e.onfinish=null}const JE=e=>Array.isArray(e)&&typeof e[0]=="number",MW={linearEasing:void 0};function VW(e,t){const n=ME(e);return()=>{var r;return(r=MW[t])!==null&&r!==void 0?r:n()}}const Op=VW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hM=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(wu(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function dM(e){return!!(typeof e=="function"&&Op()||!e||typeof e=="string"&&(e in Jw||Op())||JE(e)||Array.isArray(e)&&e.every(dM))}const jl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Jw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jl([0,.65,.55,1]),circOut:jl([.55,0,1,.45]),backIn:jl([.31,.01,.66,-.59]),backOut:jl([.33,1.53,.69,.99])};function pM(e,t){if(e)return typeof e=="function"&&Op()?hM(e,t):JE(e)?jl(e):Array.isArray(e)?e.map(n=>pM(n,t)||Jw.easeOut):Jw[e]}const ar={x:!1,y:!1};function mM(){return ar.x||ar.y}function jW(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function vM(e,t){const n=jW(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function GC(e){return t=>{t.pointerType==="touch"||mM()||e(t)}}function FW(e,t,n={}){const[r,o,s]=vM(e,n),u=GC(l=>{const{target:f}=l,h=t(l);if(typeof h!="function"||!f)return;const p=GC(v=>{h(v),f.removeEventListener("pointerleave",p)});f.addEventListener("pointerleave",p,o)});return r.forEach(l=>{l.addEventListener("pointerenter",u,o)}),s}const gM=(e,t)=>t?e===t?!0:gM(e,t.parentElement):!1,ZE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $W(e){return UW.has(e.tagName)||e.tabIndex!==-1}const Fl=new WeakSet;function QC(e){return t=>{t.key==="Enter"&&e(t)}}function h0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BW=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=QC(()=>{if(Fl.has(n))return;h0(n,"down");const o=QC(()=>{h0(n,"up")}),s=()=>h0(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function XC(e){return ZE(e)&&!mM()}function qW(e,t,n={}){const[r,o,s]=vM(e,n),u=l=>{const f=l.currentTarget;if(!XC(l)||Fl.has(f))return;Fl.add(f);const h=t(l),p=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",g),!(!XC(w)||!Fl.has(f))&&(Fl.delete(f),typeof h=="function"&&h(w,{success:T}))},v=w=>{p(w,n.useGlobalTarget||gM(f,w.target))},g=w=>{p(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",g,o)};return r.forEach(l=>{!$W(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",u,o),l.addEventListener("focus",h=>BW(h,o),o)}),s}function zW(e){return e==="x"||e==="y"?ar[e]?null:(ar[e]=!0,()=>{ar[e]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}const yM=new Set(["width","height","top","left","right","bottom",...Mu]);let Ad;function KW(){Ad=void 0}const Vr={now:()=>(Ad===void 0&&Vr.set(It.isProcessing||U8.useManualTiming?It.timestamp:performance.now()),Ad),set:e=>{Ad=e,queueMicrotask(KW)}};function eT(e,t){e.indexOf(t)===-1&&e.push(t)}function tT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class nT{constructor(){this.subscriptions=[]}add(t){return eT(this.subscriptions,t),()=>tT(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const u=this.subscriptions[s];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function wM(e,t){return t?e*(1e3/t):0}const YC=30,HW=e=>!isNaN(parseFloat(e));class WW{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=Vr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=HW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nT);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>YC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YC);return wM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kc(e,t){return new WW(e,t)}function GW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Kc(n))}function QW(e,t){const n=$m(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const u in s){const l=aW(s[u]);GW(e,u,l)}}function XW(e){return!!($t(e)&&e.add)}function Zw(e,t){const n=e.getValue("willChange");if(XW(n))return n.add(t)}function SM(e){return e.props[XL]}const EM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,YW=1e-7,JW=12;function ZW(e,t,n,r,o){let s,u,l=0;do u=t+(n-t)/2,s=EM(u,r,o)-e,s>0?n=u:t=u;while(Math.abs(s)>YW&&++l<JW);return u}function bf(e,t,n,r){if(e===t&&n===r)return Rn;const o=s=>ZW(s,0,1,e,n);return s=>s===0||s===1?s:EM(o(s),t,r)}const TM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bM=e=>t=>1-e(1-t),IM=bf(.33,1.53,.69,.99),rT=bM(IM),kM=TM(rT),xM=e=>(e*=2)<1?.5*rT(e):.5*(2-Math.pow(2,-10*(e-1))),iT=e=>1-Math.sin(Math.acos(e)),AM=bM(iT),CM=TM(iT),NM=e=>/^0[^.\s]+$/u.test(e);function eG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||NM(e):!0}const rc=e=>Math.round(e*1e5)/1e5,oT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tG(e){return e==null}const nG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sT=(e,t)=>n=>!!(typeof n=="string"&&nG.test(n)&&n.startsWith(e)||t&&!tG(n)&&Object.prototype.hasOwnProperty.call(n,t)),_M=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,u,l]=r.match(oT);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(u),alpha:l!==void 0?parseFloat(l):1}},rG=e=>yi(0,255,e),d0={...Vu,transform:e=>Math.round(rG(e))},ls={test:sT("rgb","red"),parse:_M("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+d0.transform(e)+", "+d0.transform(t)+", "+d0.transform(n)+", "+rc(zc.transform(r))+")"};function iG(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const e1={test:sT("#"),parse:iG,transform:ls.transform},Ma={test:sT("hsl","hue"),parse:_M("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mr.transform(rc(t))+", "+Mr.transform(rc(n))+", "+rc(zc.transform(r))+")"},Lt={test:e=>ls.test(e)||e1.test(e)||Ma.test(e),parse:e=>ls.test(e)?ls.parse(e):Ma.test(e)?Ma.parse(e):e1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ls.transform(e):Ma.transform(e)},oG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sG(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(oT))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(oG))===null||n===void 0?void 0:n.length)||0)>0}const DM="number",PM="color",aG="var",uG="var(",JC="${}",lG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const l=t.replace(lG,f=>(Lt.test(f)?(r.color.push(s),o.push(PM),n.push(Lt.parse(f))):f.startsWith(uG)?(r.var.push(s),o.push(aG),n.push(f)):(r.number.push(s),o.push(DM),n.push(parseFloat(f))),++s,JC)).split(JC);return{values:n,split:l,indexes:r,types:o}}function RM(e){return Hc(e).values}function OM(e){const{split:t,types:n}=Hc(e),r=t.length;return o=>{let s="";for(let u=0;u<r;u++)if(s+=t[u],o[u]!==void 0){const l=n[u];l===DM?s+=rc(o[u]):l===PM?s+=Lt.transform(o[u]):s+=o[u]}return s}}const cG=e=>typeof e=="number"?0:e;function fG(e){const t=RM(e);return OM(e)(t.map(cG))}const ho={test:sG,parse:RM,createTransformer:OM,getAnimatableNone:fG},hG=new Set(["brightness","contrast","saturate","opacity"]);function dG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(oT)||[];if(!r)return e;const o=n.replace(r,"");let s=hG.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const pG=/\b([a-z-]*)\(.*?\)/gu,t1={...ho,getAnimatableNone:e=>{const t=e.match(pG);return t?t.map(dG).join(" "):e}},mG={...zE,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:t1,WebkitFilter:t1},aT=e=>mG[e];function LM(e,t){let n=aT(e);return n!==t1&&(n=ho),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vG=new Set(["auto","none","0"]);function gG(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!vG.has(s)&&Hc(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=LM(n,o)}const ZC=e=>e===Vu||e===ne,eN=(e,t)=>parseFloat(e.split(", ")[t]),tN=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return eN(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?eN(s[1],e):0}},yG=new Set(["x","y","z"]),wG=Mu.filter(e=>!yG.has(e));function SG(e){const t=[];return wG.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Eu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:tN(4,13),y:tN(5,14)};Eu.translateX=Eu.x;Eu.translateY=Eu.y;const ms=new Set;let n1=!1,r1=!1;function MM(){if(r1){const e=Array.from(ms).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=SG(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,u])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}r1=!1,n1=!1,ms.forEach(e=>e.complete()),ms.clear()}function VM(){ms.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(r1=!0)})}function EG(){VM(),MM()}class uT{constructor(t,n,r,o,s,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ms.add(this),n1||(n1=!0,Pe.read(VM),Pe.resolveKeyframes(MM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const u=o==null?void 0:o.get(),l=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const f=r.readValue(n,l);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=l),o&&u===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ms.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ms.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),TG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bG(e){const t=TG.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function FM(e,t,n=1){const[r,o]=bG(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const u=s.trim();return jM(u)?parseFloat(u):u}return qE(o)?FM(o,t,n+1):o}const UM=e=>t=>t.test(e),IG={test:e=>e==="auto",parse:e=>e},$M=[Vu,ne,Mr,Mi,dW,hW,IG],nN=e=>$M.find(UM(e));class BM extends uT{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),qE(h))){const p=FM(h,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!yM.has(r)||t.length!==2)return;const[o,s]=t,u=nN(o),l=nN(s);if(u!==l)if(ZC(u)&&ZC(l))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)eG(t[o])&&r.push(o);r.length&&gG(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const u=o.length-1,l=o[u];o[u]=Eu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,h])=>{n.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const rN=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ho.test(e)||e==="0")&&!e.startsWith("url("));function kG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xG(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],u=rN(o,t),l=rN(s,t);return!u||!l?!1:kG(e)||(n==="spring"||YE(n))&&r}const AG=e=>e!==null;function Bm(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(AG),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const CG=40;class qM{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:u="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:u,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EG(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Vr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:u,onComplete:l,onUpdate:f,isGenerator:h}=this.options;if(!h&&!xG(t,r,o,s))if(u)this.options.duration=0;else{f&&f(Bm(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const qe=(e,t,n)=>e+(t-e)*n;function p0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NG({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,u=0;if(!t)o=s=u=n;else{const l=n<.5?n*(1+t):n+t-n*t,f=2*n-l;o=p0(f,l,e+1/3),s=p0(f,l,e),u=p0(f,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(u*255),alpha:r}}function Lp(e,t){return n=>n>0?t:e}const m0=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},_G=[e1,ls,Ma],DG=e=>_G.find(t=>t.test(e));function iN(e){const t=DG(e);if(!t)return!1;let n=t.parse(e);return t===Ma&&(n=NG(n)),n}const oN=(e,t)=>{const n=iN(e),r=iN(t);if(!n||!r)return Lp(e,t);const o={...n};return s=>(o.red=m0(n.red,r.red,s),o.green=m0(n.green,r.green,s),o.blue=m0(n.blue,r.blue,s),o.alpha=qe(n.alpha,r.alpha,s),ls.transform(o))},PG=(e,t)=>n=>t(e(n)),If=(...e)=>e.reduce(PG),i1=new Set(["none","hidden"]);function RG(e,t){return i1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function OG(e,t){return n=>qe(e,t,n)}function lT(e){return typeof e=="number"?OG:typeof e=="string"?qE(e)?Lp:Lt.test(e)?oN:VG:Array.isArray(e)?zM:typeof e=="object"?Lt.test(e)?oN:LG:Lp}function zM(e,t){const n=[...e],r=n.length,o=e.map((s,u)=>lT(s)(s,t[u]));return s=>{for(let u=0;u<r;u++)n[u]=o[u](s);return n}}function LG(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=lT(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function MG(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const u=t.types[s],l=e.indexes[u][o[u]],f=(n=e.values[l])!==null&&n!==void 0?n:0;r[s]=f,o[u]++}return r}const VG=(e,t)=>{const n=ho.createTransformer(t),r=Hc(e),o=Hc(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?i1.has(e)&&!o.values.length||i1.has(t)&&!r.values.length?RG(e,t):If(zM(MG(r,o),o.values),n):Lp(e,t)};function KM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qe(e,t,n):lT(e)(e,t)}const jG=5;function HM(e,t,n){const r=Math.max(t-jG,0);return wM(n-e(r),t-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},v0=.001;function FG({duration:e=Ge.duration,bounce:t=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let o,s,u=1-t;u=yi(Ge.minDamping,Ge.maxDamping,u),e=yi(Ge.minDuration,Ge.maxDuration,ci(e)),u<1?(o=h=>{const p=h*u,v=p*e,g=p-n,w=o1(h,u),T=Math.exp(-v);return v0-g/w*T},s=h=>{const v=h*u*e,g=v*n+n,w=Math.pow(u,2)*Math.pow(h,2)*e,T=Math.exp(-v),I=o1(Math.pow(h,2),u);return(-o(h)+v0>0?-1:1)*((g-w)*T)/I}):(o=h=>{const p=Math.exp(-h*e),v=(h-n)*e+1;return-v0+p*v},s=h=>{const p=Math.exp(-h*e),v=(n-h)*(e*e);return p*v});const l=5/e,f=$G(o,s,l);if(e=li(e),isNaN(f))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:e};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:u*2*Math.sqrt(r*h),duration:e}}}const UG=12;function $G(e,t,n){let r=n;for(let o=1;o<UG;o++)r=r-e(r)/t(r);return r}function o1(e,t){return e*Math.sqrt(1-t*t)}const BG=["duration","bounce"],qG=["stiffness","damping","mass"];function sN(e,t){return t.some(n=>e[n]!==void 0)}function zG(e){let t={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...e};if(!sN(e,qG)&&sN(e,BG))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ge.mass,stiffness:o,damping:s}}else{const n=FG(e);t={...t,...n,mass:Ge.mass},t.isResolvedFromDuration=!0}return t}function WM(e=Ge.visualDuration,t=Ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:f,damping:h,mass:p,duration:v,velocity:g,isResolvedFromDuration:w}=zG({...n,velocity:-ci(n.velocity||0)}),T=g||0,I=h/(2*Math.sqrt(f*p)),A=u-s,E=ci(Math.sqrt(f/p)),b=Math.abs(A)<5;r||(r=b?Ge.restSpeed.granular:Ge.restSpeed.default),o||(o=b?Ge.restDelta.granular:Ge.restDelta.default);let k;if(I<1){const D=o1(E,I);k=_=>{const U=Math.exp(-I*E*_);return u-U*((T+I*E*A)/D*Math.sin(D*_)+A*Math.cos(D*_))}}else if(I===1)k=D=>u-Math.exp(-E*D)*(A+(T+E*A)*D);else{const D=E*Math.sqrt(I*I-1);k=_=>{const U=Math.exp(-I*E*_),L=Math.min(D*_,300);return u-U*((T+I*E*A)*Math.sinh(L)+D*A*Math.cosh(L))/D}}const N={calculatedDuration:w&&v||null,next:D=>{const _=k(D);if(w)l.done=D>=v;else{let U=0;I<1&&(U=D===0?li(T):HM(k,D,_));const L=Math.abs(U)<=r,oe=Math.abs(u-_)<=o;l.done=L&&oe}return l.value=l.done?u:_,l},toString:()=>{const D=Math.min(fM(N),Yw),_=hM(U=>N.next(D*U).value,D,30);return D+"ms "+_}};return N}function aN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:u,min:l,max:f,restDelta:h=.5,restSpeed:p}){const v=e[0],g={done:!1,value:v},w=L=>l!==void 0&&L<l||f!==void 0&&L>f,T=L=>l===void 0?f:f===void 0||Math.abs(l-L)<Math.abs(f-L)?l:f;let I=n*t;const A=v+I,E=u===void 0?A:u(A);E!==A&&(I=E-v);const b=L=>-I*Math.exp(-L/r),k=L=>E+b(L),N=L=>{const oe=b(L),C=k(L);g.done=Math.abs(oe)<=h,g.value=g.done?E:C};let D,_;const U=L=>{w(g.value)&&(D=L,_=WM({keyframes:[g.value,T(g.value)],velocity:HM(k,L,g.value),damping:o,stiffness:s,restDelta:h,restSpeed:p}))};return U(0),{calculatedDuration:null,next:L=>{let oe=!1;return!_&&D===void 0&&(oe=!0,N(L),U(L)),D!==void 0&&L>=D?_.next(L-D):(!oe&&N(L),g)}}}const KG=bf(.42,0,1,1),HG=bf(0,0,.58,1),GM=bf(.42,0,.58,1),WG=e=>Array.isArray(e)&&typeof e[0]!="number",uN={linear:Rn,easeIn:KG,easeInOut:GM,easeOut:HG,circIn:iT,circInOut:CM,circOut:AM,backIn:rT,backInOut:kM,backOut:IM,anticipate:xM},lN=e=>{if(JE(e)){Qw(e.length===4);const[t,n,r,o]=e;return bf(t,n,r,o)}else if(typeof e=="string")return Qw(uN[e]!==void 0),uN[e];return e};function GG(e,t,n){const r=[],o=n||KM,s=e.length-1;for(let u=0;u<s;u++){let l=o(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Rn:t;l=If(f,l)}r.push(l)}return r}function QG(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Qw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=GG(t,r,o),f=l.length,h=p=>{if(u&&p<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(p<e[v+1]);v++);const g=wu(e[v],e[v+1],p);return l[v](g)};return n?p=>h(yi(e[0],e[s-1],p)):h}function XG(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=wu(0,t,r);e.push(qe(n,1,o))}}function YG(e){const t=[0];return XG(t,e.length-1),t}function JG(e,t){return e.map(n=>n*t)}function ZG(e,t){return e.map(()=>t||GM).splice(0,e.length-1)}function Mp({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=WG(r)?r.map(lN):lN(r),s={done:!1,value:t[0]},u=JG(n&&n.length===t.length?n:YG(t),e),l=QG(u,t,{ease:Array.isArray(o)?o:ZG(t,o)});return{calculatedDuration:e,next:f=>(s.value=l(f),s.done=f>=e,s)}}const e9=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Pe.update(t,!0),stop:()=>fo(t),now:()=>It.isProcessing?It.timestamp:Vr.now()}},t9={decay:aN,inertia:aN,tween:Mp,keyframes:Mp,spring:WM},n9=e=>e/100;class cT extends qM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,u=(o==null?void 0:o.KeyframeResolver)||uT,l=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new u(s,l,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:u=0}=this.options,l=YE(n)?n:t9[n]||Mp;let f,h;l!==Mp&&typeof t[0]!="number"&&(f=If(n9,KM(t[0],t[1])),t=[0,100]);const p=l({...this.options,keyframes:t});s==="mirror"&&(h=l({...this.options,keyframes:[...t].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=fM(p));const{calculatedDuration:v}=p,g=v+o,w=g*(r+1)-o;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:g,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:u,mapPercentToKeyframes:l,keyframes:f,calculatedDuration:h,totalDuration:p,resolvedDuration:v}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:w,repeatType:T,repeatDelay:I,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const E=this.currentTime-g*(this.speed>=0?1:-1),b=this.speed>=0?E<0:E>p;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let k=this.currentTime,N=s;if(w){const L=Math.min(this.currentTime,p)/v;let oe=Math.floor(L),C=L%1;!C&&L>=1&&(C=1),C===1&&oe--,oe=Math.min(oe,w+1),!!(oe%2)&&(T==="reverse"?(C=1-C,I&&(C-=I/v)):T==="mirror"&&(N=u)),k=yi(0,1,C)*v}const D=b?{done:!1,value:f[0]}:N.next(k);l&&(D.value=l(D.value));let{done:_}=D;!b&&h!==null&&(_=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return U&&o!==void 0&&(D.value=Bm(f,this.options,o)),A&&A(D.value),U&&this.finish(),D}get duration(){const{resolved:t}=this;return t?ci(t.calculatedDuration):0}get time(){return ci(this.currentTime)}set time(t){t=li(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=e9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const r9=new Set(["opacity","clipPath","filter","transform"]);function i9(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:u="loop",ease:l="easeInOut",times:f}={}){const h={[t]:n};f&&(h.offset=f);const p=pM(l,o);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:r,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:u==="reverse"?"alternate":"normal"})}const o9=ME(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vp=10,s9=2e4;function a9(e){return YE(e.type)||e.type==="spring"||!dM(e.ease)}function u9(e,t){const n=new cT({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<s9;)r=n.sample(s),o.push(r.value),s+=Vp;return{times:void 0,keyframes:o,duration:s-Vp,ease:"linear"}}const QM={anticipate:xM,backInOut:kM,circInOut:CM};function l9(e){return e in QM}class cN extends qM{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new BM(s,(u,l)=>this.onKeyframesResolved(u,l),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:o,ease:s,type:u,motionValue:l,name:f,startTime:h}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&Op()&&l9(s)&&(s=QM[s]),a9(this.options)){const{onComplete:v,onUpdate:g,motionValue:w,element:T,...I}=this.options,A=u9(t,I);t=A.keyframes,t.length===1&&(t[1]=t[0]),r=A.duration,o=A.times,s=A.ease,u="keyframes"}const p=i9(l.owner.current,f,t,{...this.options,duration:r,times:o,ease:s});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(WC(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:v}=this.options;l.set(Bm(t,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:o,type:u,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ci(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ci(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=li(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Rn;const{animation:r}=n;WC(r,t)}return Rn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:u,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:v,element:g,...w}=this.options,T=new cT({...w,keyframes:r,duration:o,type:s,ease:u,times:l,isGenerator:!0}),I=li(this.time);h.setWithVelocity(T.sample(I-Vp).value,T.sample(I).value,Vp)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:u,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=n.owner.getProps();return o9()&&r&&r9.has(r)&&!f&&!h&&!o&&s!=="mirror"&&u!==0&&l!=="inertia"}}const c9={type:"spring",stiffness:500,damping:25,restSpeed:10},f9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),h9={type:"keyframes",duration:.8},d9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p9=(e,{keyframes:t})=>t.length>2?h9:qs.has(e)?e.startsWith("scale")?f9(t[1]):c9:d9;function m9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:u,repeatDelay:l,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const fT=(e,t,n,r={},o,s)=>u=>{const l=XE(r,e)||{},f=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-li(f);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-h,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{u(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:o};m9(l)||(p={...p,...p9(e,p)}),p.duration&&(p.duration=li(p.duration)),p.repeatDelay&&(p.repeatDelay=li(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),v&&!s&&t.get()!==void 0){const g=Bm(p.keyframes,l);if(g!==void 0)return Pe.update(()=>{p.onUpdate(g),p.onComplete()}),new LW([])}return!s&&cN.supports(p)?new cN(p):new cT(p)};function v9({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function XM(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:u=e.getDefaultTransition(),transitionEnd:l,...f}=t;r&&(u=r);const h=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const v in f){const g=e.getValue(v,(s=e.latestValues[v])!==null&&s!==void 0?s:null),w=f[v];if(w===void 0||p&&v9(p,v))continue;const T={delay:n,...XE(u||{},v)};let I=!1;if(window.MotionHandoffAnimation){const E=SM(e);if(E){const b=window.MotionHandoffAnimation(E,v,Pe);b!==null&&(T.startTime=b,I=!0)}}Zw(e,v),g.start(fT(v,g,w,e.shouldReduceMotion&&yM.has(v)?{type:!1}:T,e,I));const A=g.animation;A&&h.push(A)}return l&&Promise.all(h).then(()=>{Pe.update(()=>{l&&QW(e,l)})}),h}function s1(e,t,n={}){var r;const o=$m(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const u=o?()=>Promise.all(XM(e,o,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:g}=s;return g9(e,t,p+h,v,g,n)}:()=>Promise.resolve(),{when:f}=s;if(f){const[h,p]=f==="beforeChildren"?[u,l]:[l,u];return h().then(()=>p())}else return Promise.all([u(),l(n.delay)])}function g9(e,t,n=0,r=0,o=1,s){const u=[],l=(e.variantChildren.size-1)*r,f=o===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(e.variantChildren).sort(y9).forEach((h,p)=>{h.notify("AnimationStart",t),u.push(s1(h,t,{...s,delay:n+f(p)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(u)}function y9(e,t){return e.sortNodePosition(t)}function w9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>s1(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=s1(e,t,n);else{const o=typeof t=="function"?$m(e,t,n.custom):t;r=Promise.all(XM(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const S9=jE.length;function YM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?YM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<S9;n++){const r=jE[n],o=e.props[r];(qc(o)||o===!1)&&(t[r]=o)}return t}const E9=[...VE].reverse(),T9=VE.length;function b9(e){return t=>Promise.all(t.map(({animation:n,options:r})=>w9(e,n,r)))}function I9(e){let t=b9(e),n=fN(),r=!0;const o=f=>(h,p)=>{var v;const g=$m(e,p,f==="exit"?(v=e.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(g){const{transition:w,transitionEnd:T,...I}=g;h={...h,...I,...T}}return h};function s(f){t=f(e)}function u(f){const{props:h}=e,p=YM(e.parent)||{},v=[],g=new Set;let w={},T=1/0;for(let A=0;A<T9;A++){const E=E9[A],b=n[E],k=h[E]!==void 0?h[E]:p[E],N=qc(k),D=E===f?b.isActive:null;D===!1&&(T=A);let _=k===p[E]&&k!==h[E]&&N;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...w},!b.isActive&&D===null||!k&&!b.prevProp||Fm(k)||typeof k=="boolean")continue;const U=k9(b.prevProp,k);let L=U||E===f&&b.isActive&&!_&&N||A>T&&N,oe=!1;const C=Array.isArray(k)?k:[k];let Re=C.reduce(o(E),{});D===!1&&(Re={});const{prevResolvedValues:on={}}=b,Br={...on,...Re},qr=He=>{L=!0,g.has(He)&&(oe=!0,g.delete(He)),b.needsAnimating[He]=!0;const z=e.getValue(He);z&&(z.liveStyle=!1)};for(const He in Br){const z=Re[He],re=on[He];if(w.hasOwnProperty(He))continue;let ie=!1;Xw(z)&&Xw(re)?ie=!cM(z,re):ie=z!==re,ie?z!=null?qr(He):g.add(He):z!==void 0&&g.has(He)?qr(He):b.protectedKeys[He]=!0}b.prevProp=k,b.prevResolvedValues=Re,b.isActive&&(w={...w,...Re}),r&&e.blockInitialAnimation&&(L=!1),L&&(!(_&&U)||oe)&&v.push(...C.map(He=>({animation:He,options:{type:E}})))}if(g.size){const A={};g.forEach(E=>{const b=e.getBaseTarget(E),k=e.getValue(E);k&&(k.liveStyle=!0),A[E]=b??null}),v.push({animation:A})}let I=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(I=!1),r=!1,I?t(v):Promise.resolve()}function l(f,h){var p;if(n[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(f,h)}),n[f].isActive=h;const v=u(f);for(const g in n)n[g].protectedKeys={};return v}return{animateChanges:u,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=fN(),r=!0}}}function k9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!cM(t,e):!1}function Go(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fN(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class bo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class x9 extends bo{constructor(t){super(t),t.animationState||(t.animationState=I9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let A9=0;class C9 extends bo{constructor(){super(...arguments),this.id=A9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const N9={animation:{Feature:x9},exit:{Feature:C9}};function Wc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function kf(e){return{point:{x:e.pageX,y:e.pageY}}}const _9=e=>t=>ZE(t)&&e(t,kf(t));function ic(e,t,n,r){return Wc(e,t,_9(n),r)}const hN=(e,t)=>Math.abs(e-t);function D9(e,t){const n=hN(e.x,t.x),r=hN(e.y,t.y);return Math.sqrt(n**2+r**2)}class JM{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=y0(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,w=D9(v.offset,{x:0,y:0})>=3;if(!g&&!w)return;const{point:T}=v,{timestamp:I}=It;this.history.push({...T,timestamp:I});const{onStart:A,onMove:E}=this.handlers;g||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,g)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=g0(g,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(v,g)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=y0(v.type==="pointercancel"?this.lastMoveEventInfo:g0(g,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,A),T&&T(v,A)},!ZE(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const u=kf(t),l=g0(u,this.transformPagePoint),{point:f}=l,{timestamp:h}=It;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,y0(l,this.history)),this.removeListeners=If(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fo(this.updatePoint)}}function g0(e,t){return t?{point:t(e.point)}:e}function dN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y0({point:e},t){return{point:e,delta:dN(e,ZM(t)),offset:dN(e,P9(t)),velocity:R9(t,.1)}}function P9(e){return e[0]}function ZM(e){return e[e.length-1]}function R9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ZM(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>li(t)));)n--;if(!r)return{x:0,y:0};const s=ci(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const u={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const eV=1e-4,O9=1-eV,L9=1+eV,tV=.01,M9=0-tV,V9=0+tV;function Mn(e){return e.max-e.min}function j9(e,t,n){return Math.abs(e-t)<=n}function pN(e,t,n,r=.5){e.origin=r,e.originPoint=qe(t.min,t.max,e.origin),e.scale=Mn(n)/Mn(t),e.translate=qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=O9&&e.scale<=L9||isNaN(e.scale))&&(e.scale=1),(e.translate>=M9&&e.translate<=V9||isNaN(e.translate))&&(e.translate=0)}function oc(e,t,n,r){pN(e.x,t.x,n.x,r?r.originX:void 0),pN(e.y,t.y,n.y,r?r.originY:void 0)}function mN(e,t,n){e.min=n.min+t.min,e.max=e.min+Mn(t)}function F9(e,t,n){mN(e.x,t.x,n.x),mN(e.y,t.y,n.y)}function vN(e,t,n){e.min=t.min-n.min,e.max=e.min+Mn(t)}function sc(e,t,n){vN(e.x,t.x,n.x),vN(e.y,t.y,n.y)}function U9(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?qe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?qe(n,e,r.max):Math.min(e,n)),e}function gN(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $9(e,{top:t,left:n,bottom:r,right:o}){return{x:gN(e.x,n,o),y:gN(e.y,t,r)}}function yN(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function B9(e,t){return{x:yN(e.x,t.x),y:yN(e.y,t.y)}}function q9(e,t){let n=.5;const r=Mn(e),o=Mn(t);return o>r?n=wu(t.min,t.max-r,e.min):r>o&&(n=wu(e.min,e.max-o,t.min)),yi(0,1,n)}function z9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const a1=.35;function K9(e=a1){return e===!1?e=0:e===!0&&(e=a1),{x:wN(e,"left","right"),y:wN(e,"top","bottom")}}function wN(e,t,n){return{min:SN(e,t),max:SN(e,n)}}function SN(e,t){return typeof e=="number"?e:e[t]||0}const EN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Va=()=>({x:EN(),y:EN()}),TN=()=>({min:0,max:0}),tt=()=>({x:TN(),y:TN()});function zn(e){return[e("x"),e("y")]}function nV({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function H9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function W9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function w0(e){return e===void 0||e===1}function u1({scale:e,scaleX:t,scaleY:n}){return!w0(e)||!w0(t)||!w0(n)}function Jo(e){return u1(e)||rV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rV(e){return bN(e.x)||bN(e.y)}function bN(e){return e&&e!=="0%"}function jp(e,t,n){const r=e-n,o=t*r;return n+o}function IN(e,t,n,r,o){return o!==void 0&&(e=jp(e,o,r)),jp(e,n,r)+t}function l1(e,t=0,n=1,r,o){e.min=IN(e.min,t,n,r,o),e.max=IN(e.max,t,n,r,o)}function iV(e,{x:t,y:n}){l1(e.x,t.translate,t.scale,t.originPoint),l1(e.y,n.translate,n.scale,n.originPoint)}const kN=.999999999999,xN=1.0000000000001;function G9(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,u;for(let l=0;l<o;l++){s=n[l],u=s.projectionDelta;const{visualElement:f}=s.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Fa(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,iV(e,u)),r&&Jo(s.latestValues)&&Fa(e,s.latestValues))}t.x<xN&&t.x>kN&&(t.x=1),t.y<xN&&t.y>kN&&(t.y=1)}function ja(e,t){e.min=e.min+t,e.max=e.max+t}function AN(e,t,n,r,o=.5){const s=qe(e.min,e.max,o);l1(e,t,n,s,r)}function Fa(e,t){AN(e.x,t.x,t.scaleX,t.scale,t.originX),AN(e.y,t.y,t.scaleY,t.scale,t.originY)}function oV(e,t){return nV(W9(e.getBoundingClientRect(),t))}function Q9(e,t,n){const r=oV(e,n),{scroll:o}=t;return o&&(ja(r.x,o.offset.x),ja(r.y,o.offset.y)),r}const sV=({current:e})=>e?e.ownerDocument.defaultView:null,X9=new WeakMap;class Y9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kf(p).point)},s=(p,v)=>{const{drag:g,dragPropagation:w,onDragStart:T}=this.getProps();if(g&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zW(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(A=>{let E=this.getAxisMotionValue(A).get()||0;if(Mr.test(E)){const{projection:b}=this.visualElement;if(b&&b.layout){const k=b.layout.layoutBox[A];k&&(E=Mn(k)*(parseFloat(E)/100))}}this.originPoint[A]=E}),T&&Pe.postRender(()=>T(p,v)),Zw(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(p,v)=>{const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:T,onDrag:I}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=v;if(w&&this.currentDirection===null){this.currentDirection=J9(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),I&&I(p,v)},l=(p,v)=>this.stop(p,v),f=()=>zn(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new JM(t,{onSessionStart:o,onStart:s,onMove:u,onSessionEnd:l,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:sV(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Pe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!id(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=U9(u,this.constraints[t],this.elastic[t])),s.set(u)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&La(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=$9(o.layoutBox,n):this.constraints=!1,this.elastic=K9(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&zn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=z9(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!La(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=Q9(r,o.root,this.visualElement.getTransformPagePoint());let u=B9(o.layout.layoutBox,s);if(n){const l=n(H9(u));this.hasMutatedConstraints=!!l,l&&(u=nV(l))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:u,onDragTransitionEnd:l}=this.getProps(),f=this.constraints||{},h=zn(p=>{if(!id(p,n,this.currentDirection))return;let v=f&&f[p]||{};u&&(v={min:0,max:0});const g=o?200:1e6,w=o?40:1e7,T={type:"inertia",velocity:r?t[p]:0,bounceStiffness:g,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Zw(this.visualElement,t),r.start(fT(t,r,0,n,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:r}=this.getProps();if(!id(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:l}=o.layout.layoutBox[n];s.set(t[n]-qe(u,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!La(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zn(u=>{const l=this.getAxisMotionValue(u);if(l&&this.constraints!==!1){const f=l.get();o[u]=q9({min:f,max:f},this.constraints[u])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(u=>{if(!id(u,t,null))return;const l=this.getAxisMotionValue(u),{min:f,max:h}=this.constraints[u];l.set(qe(f,h,o[u]))})}addListeners(){if(!this.visualElement.current)return;X9.set(this.visualElement,this);const t=this.visualElement.current,n=ic(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();La(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Pe.read(r);const u=Wc(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(zn(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=f[p].translate,v.set(v.get()+f[p].translate))}),this.visualElement.render())});return()=>{u(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:u=a1,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:u,dragMomentum:l}}}function id(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function J9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Z9 extends bo{constructor(t){super(t),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new Y9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const CN=e=>(t,n)=>{e&&Pe.postRender(()=>e(t,n))};class e7 extends bo{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(t){this.session=new JM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:CN(t),onStart:CN(n),onMove:r,onEnd:(s,u)=>{delete this.session,o&&Pe.postRender(()=>o(s,u))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=NN(e,t.target.x),r=NN(e,t.target.y);return`${n}% ${r}%`}},t7={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ho.parse(e);if(o.length>5)return r;const s=ho.createTransformer(e),u=typeof o[0]!="number"?1:0,l=n.x.scale*t.x,f=n.y.scale*t.y;o[0+u]/=l,o[1+u]/=f;const h=qe(l,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=h),typeof o[3+u]=="number"&&(o[3+u]/=h),s(o)}};class n7 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;bW(r7),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Cd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,u=r.projection;return u&&(u.isPresent=s,o||t.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?u.promote():u.relegate()||Pe.postRender(()=>{const l=u.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),UE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aV(e){const[t,n]=qL(),r=V.useContext(PE);return j.jsx(n7,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(YL),isPresent:t,safeToRemove:n})}const r7={borderRadius:{...Dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dl,borderTopRightRadius:Dl,borderBottomLeftRadius:Dl,borderBottomRightRadius:Dl,boxShadow:t7};function i7(e,t,n){const r=$t(e)?e:Kc(e);return r.start(fT("",r,t,n)),r.animation}function o7(e){return e instanceof SVGElement&&e.tagName!=="svg"}const s7=(e,t)=>e.depth-t.depth;class a7{constructor(){this.children=[],this.isDirty=!1}add(t){eT(this.children,t),this.isDirty=!0}remove(t){tT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(s7),this.isDirty=!1,this.children.forEach(t)}}function u7(e,t){const n=Vr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(fo(r),e(s-t))};return Pe.read(r,!0),()=>fo(r)}const uV=["TopLeft","TopRight","BottomLeft","BottomRight"],l7=uV.length,_N=e=>typeof e=="string"?parseFloat(e):e,DN=e=>typeof e=="number"||ne.test(e);function c7(e,t,n,r,o,s){o?(e.opacity=qe(0,n.opacity!==void 0?n.opacity:1,f7(r)),e.opacityExit=qe(t.opacity!==void 0?t.opacity:1,0,h7(r))):s&&(e.opacity=qe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<l7;u++){const l=`border${uV[u]}Radius`;let f=PN(t,l),h=PN(n,l);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||DN(f)===DN(h)?(e[l]=Math.max(qe(_N(f),_N(h),r),0),(Mr.test(h)||Mr.test(f))&&(e[l]+="%")):e[l]=h}(t.rotate||n.rotate)&&(e.rotate=qe(t.rotate||0,n.rotate||0,r))}function PN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const f7=lV(0,.5,AM),h7=lV(.5,.95,Rn);function lV(e,t,n){return r=>r<e?0:r>t?1:n(wu(e,t,r))}function RN(e,t){e.min=t.min,e.max=t.max}function qn(e,t){RN(e.x,t.x),RN(e.y,t.y)}function ON(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function LN(e,t,n,r,o){return e-=t,e=jp(e,1/n,r),o!==void 0&&(e=jp(e,1/o,r)),e}function d7(e,t=0,n=1,r=.5,o,s=e,u=e){if(Mr.test(t)&&(t=parseFloat(t),t=qe(u.min,u.max,t/100)-u.min),typeof t!="number")return;let l=qe(s.min,s.max,r);e===s&&(l-=t),e.min=LN(e.min,t,n,l,o),e.max=LN(e.max,t,n,l,o)}function MN(e,t,[n,r,o],s,u){d7(e,t[n],t[r],t[o],t.scale,s,u)}const p7=["x","scaleX","originX"],m7=["y","scaleY","originY"];function VN(e,t,n,r){MN(e.x,t,p7,n?n.x:void 0,r?r.x:void 0),MN(e.y,t,m7,n?n.y:void 0,r?r.y:void 0)}function jN(e){return e.translate===0&&e.scale===1}function cV(e){return jN(e.x)&&jN(e.y)}function FN(e,t){return e.min===t.min&&e.max===t.max}function v7(e,t){return FN(e.x,t.x)&&FN(e.y,t.y)}function UN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fV(e,t){return UN(e.x,t.x)&&UN(e.y,t.y)}function $N(e){return Mn(e.x)/Mn(e.y)}function BN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class g7{constructor(){this.members=[]}add(t){eT(this.members,t),t.scheduleRender()}remove(t){if(tT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y7(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||s||u)&&(r=`translate3d(${o}px, ${s}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:g,skewX:w,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),g&&(r+=`rotateY(${g}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=e.x.scale*t.x,f=e.y.scale*t.y;return(l!==1||f!==1)&&(r+=`scale(${l}, ${f})`),r||"none"}const Zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ul=typeof window<"u"&&window.MotionDebug!==void 0,S0=["","X","Y","Z"],w7={visibility:"hidden"},qN=1e3;let S7=0;function E0(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=SM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hV(r)}function dV({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},l=t==null?void 0:t()){this.id=S7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ul&&(Zo.totalNodes=Zo.resolvedTargetDeltas=Zo.recalculatedProjection=0),this.nodes.forEach(b7),this.nodes.forEach(C7),this.nodes.forEach(N7),this.nodes.forEach(I7),Ul&&window.MotionDebug.record(Zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new a7)}addEventListener(u,l){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new nT),this.eventHandlers.get(u).add(l)}notifyListeners(u,...l){const f=this.eventHandlers.get(u);f&&f.notify(...l)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o7(u),this.instance=u;const{layoutId:f,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||f)&&(this.isLayoutDirty=!0),e){let v;const g=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=u7(g,250),Cd.hasAnimatedSinceResize&&(Cd.hasAnimatedSinceResize=!1,this.nodes.forEach(KN))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:g,hasRelativeTargetChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||O7,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=p.getProps(),b=!this.targetLayout||!fV(this.targetLayout,T)||w,k=!g&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,k);const N={...XE(I,"layout"),onPlay:A,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else g||KN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_7),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:l,layout:f}=this.options;if(l===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zN);return}this.isUpdating||this.nodes.forEach(x7),this.isUpdating=!1,this.nodes.forEach(A7),this.nodes.forEach(E7),this.nodes.forEach(T7),this.clearAllSnapshots();const l=Vr.now();It.delta=yi(0,1e3/60,l-It.timestamp),It.timestamp=l,It.isProcessing=!0,f0.update.process(It),f0.preRender.process(It),f0.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k7),this.sharedNodes.forEach(D7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(l=!1),l){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!cV(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;u&&(l||Jo(this.latestValues)||p)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const l=this.measurePageBox();let f=this.removeElementScroll(l);return u&&(f=this.removeTransform(f)),L7(f),{animationId:this.root.animationId,measuredBox:l,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:l}=this.options;if(!l)return tt();const f=l.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(M7))){const{scroll:p}=this.root;p&&(ja(f.x,p.offset.x),ja(f.y,p.offset.y))}return f}removeElementScroll(u){var l;const f=tt();if(qn(f,u),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return f;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:g}=p;p!==this.root&&v&&g.layoutScroll&&(v.wasRoot&&qn(f,u),ja(f.x,v.offset.x),ja(f.y,v.offset.y))}return f}applyTransform(u,l=!1){const f=tt();qn(f,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Fa(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Jo(p.latestValues)&&Fa(f,p.latestValues)}return Jo(this.latestValues)&&Fa(f,this.latestValues),f}removeTransform(u){const l=tt();qn(l,u);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Jo(h.latestValues))continue;u1(h.latestValues)&&h.updateSnapshot();const p=tt(),v=h.measurePageBox();qn(p,v),VN(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Jo(this.latestValues)&&VN(l,this.latestValues),l}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var l;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:g}=this.options;if(!(!this.layout||!(v||g))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),sc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),iV(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),sc(this.relativeTargetOrigin,this.target,w.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ul&&Zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||u1(this.parent.latestValues)||rV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const l=this.getLead(),f=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===It.timestamp&&(h=!1),h)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;qn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,w=this.treeScale.y;G9(this.layoutCorrected,this.treeScale,this.path,f),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=tt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ON(this.prevProjectionDelta.x,this.projectionDelta.x),ON(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==w||!BN(this.projectionDelta.x,this.prevProjectionDelta.x)||!BN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Ul&&Zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Va(),this.projectionDelta=Va(),this.projectionDeltaWithTransform=Va()}setAnimationOrigin(u,l=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},v=Va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=tt(),w=f?f.source:void 0,T=this.layout?this.layout.source:void 0,I=w!==T,A=this.getStack(),E=!A||A.members.length<=1,b=!!(I&&!E&&this.options.crossfade===!0&&!this.path.some(R7));this.animationProgress=0;let k;this.mixTargetDelta=N=>{const D=N/1e3;HN(v.x,u.x,D),HN(v.y,u.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P7(this.relativeTarget,this.relativeTargetOrigin,g,D),k&&v7(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=tt()),qn(k,this.relativeTarget)),I&&(this.animationValues=p,c7(p,h,this.latestValues,D,b,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{Cd.hasAnimatedSinceResize=!0,this.currentAnimation=i7(0,qN,{...u,onUpdate:l=>{this.mixTargetDelta(l),u.onUpdate&&u.onUpdate(l)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:l,target:f,layout:h,latestValues:p}=u;if(!(!l||!f||!h)){if(this!==u&&this.layout&&h&&pV(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||tt();const v=Mn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const g=Mn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+g}qn(l,f),Fa(l,p),oc(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(u,l){this.sharedNodes.has(u)||this.sharedNodes.set(u,new g7),this.sharedNodes.get(u).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:l,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let l=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(l=!0),!l)return;const h={};f.z&&E0("z",u,h,this.animationValues);for(let p=0;p<S0.length;p++)E0(`rotate${S0[p]}`,u,h,this.animationValues),E0(`skew${S0[p]}`,u,h,this.animationValues);u.render();for(const p in h)u.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);u.scheduleRender()}getProjectionStyles(u){var l,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return w7;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=xd(u==null?void 0:u.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=xd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(I.transform=p?p({},""):"none",this.hasProjected=!1),I}const g=v.animationValues||v.latestValues;this.applyTransformsToTarget(),h.transform=y7(this.projectionDeltaWithTransform,this.treeScale,g),p&&(h.transform=p(g,h.transform));const{x:w,y:T}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,v.animationValues?h.opacity=v===this?(f=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=v===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in Rp){if(g[I]===void 0)continue;const{correct:A,applyTo:E}=Rp[I],b=h.transform==="none"?g[I]:A(g[I],v);if(E){const k=E.length;for(let N=0;N<k;N++)h[E[N]]=b}else h[I]=b}return this.options.layoutId&&(h.pointerEvents=v===this?xd(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var l;return(l=u.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(zN),this.root.sharedNodes.clear()}}}function E7(e){e.updateLayout()}function T7(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,u=n.source!==e.layout.source;s==="size"?zn(v=>{const g=u?n.measuredBox[v]:n.layoutBox[v],w=Mn(g);g.min=r[v].min,g.max=g.min+w}):pV(s,n.layoutBox,r)&&zn(v=>{const g=u?n.measuredBox[v]:n.layoutBox[v],w=Mn(r[v]);g.max=g.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+w)});const l=Va();oc(l,r,n.layoutBox);const f=Va();u?oc(f,e.applyTransform(o,!0),n.measuredBox):oc(f,r,n.layoutBox);const h=!cV(l);let p=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:g,layout:w}=v;if(g&&w){const T=tt();sc(T,n.layoutBox,g.layoutBox);const I=tt();sc(I,r,w.layoutBox),fV(T,I)||(p=!0),v.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=T,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function b7(e){Ul&&Zo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function I7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function k7(e){e.clearSnapshot()}function zN(e){e.clearMeasurements()}function x7(e){e.isLayoutDirty=!1}function A7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function KN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function C7(e){e.resolveTargetDelta()}function N7(e){e.calcProjection()}function _7(e){e.resetSkewAndRotation()}function D7(e){e.removeLeadSnapshot()}function HN(e,t,n){e.translate=qe(t.translate,0,n),e.scale=qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WN(e,t,n,r){e.min=qe(t.min,n.min,r),e.max=qe(t.max,n.max,r)}function P7(e,t,n,r){WN(e.x,t.x,n.x,r),WN(e.y,t.y,n.y,r)}function R7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O7={duration:.45,ease:[.4,0,.1,1]},GN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),QN=GN("applewebkit/")&&!GN("chrome/")?Math.round:Rn;function XN(e){e.min=QN(e.min),e.max=QN(e.max)}function L7(e){XN(e.x),XN(e.y)}function pV(e,t,n){return e==="position"||e==="preserve-aspect"&&!j9($N(t),$N(n),.2)}function M7(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const V7=dV({attachResizeListener:(e,t)=>Wc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T0={current:void 0},mV=dV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!T0.current){const e=new V7({});e.mount(window),e.setOptions({layoutScroll:!0}),T0.current=e}return T0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),j7={pan:{Feature:e7},drag:{Feature:Z9,ProjectionNode:mV,MeasureLayout:aV}};function YN(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,s=r[o];s&&Pe.postRender(()=>s(t,kf(t)))}class F7 extends bo{mount(){const{current:t}=this.node;t&&(this.unmount=FW(t,n=>(YN(this.node,n,"Start"),r=>YN(this.node,r,"End"))))}unmount(){}}class U7 extends bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=If(Wc(this.node.current,"focus",()=>this.onFocus()),Wc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JN(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),s=r[o];s&&Pe.postRender(()=>s(t,kf(t)))}class $7 extends bo{mount(){const{current:t}=this.node;t&&(this.unmount=qW(t,n=>(JN(this.node,n,"Start"),(r,{success:o})=>JN(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c1=new WeakMap,b0=new WeakMap,B7=e=>{const t=c1.get(e.target);t&&t(e)},q7=e=>{e.forEach(B7)};function z7({root:e,...t}){const n=e||document;b0.has(n)||b0.set(n,{});const r=b0.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(q7,{root:e,...t})),r[o]}function K7(e,t,n){const r=z7(t);return c1.set(e,n),r.observe(e),()=>{c1.delete(e),r.unobserve(e)}}const H7={some:0,all:1};class W7 extends bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:H7[o]},l=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),g=h?p:v;g&&g(f)};return K7(this.node.current,u,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(G7(t,n))&&this.startObserver()}unmount(){}}function G7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Q7={inView:{Feature:W7},tap:{Feature:$7},focus:{Feature:U7},hover:{Feature:F7}},X7={layout:{ProjectionNode:mV,MeasureLayout:aV}},f1={current:null},vV={current:!1};function Y7(){if(vV.current=!0,!!LE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>f1.current=e.matches;e.addListener(t),t()}else f1.current=!1}const J7=[...$M,Lt,ho],Z7=e=>J7.find(UM(e)),ZN=new WeakMap;function e2(e,t,n){for(const r in t){const o=t[r],s=n[r];if($t(o))e.addValue(r,o);else if($t(s))e.addValue(r,Kc(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(r);e.addValue(r,Kc(u!==void 0?u:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const e_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:u},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Vr.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Pe.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:p}=u;this.onUpdate=p,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Um(n),this.isVariantNode=QL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in g){const T=g[w];f[w]!==void 0&&$t(T)&&T.set(f[w],!1)}}mount(t){this.current=t,ZN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),vV.current||Y7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:f1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZN.delete(this.current),this.projection&&this.projection.unmount(),fo(this.notifyUpdate),fo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=qs.has(t),o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Su){const n=Su[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e_.length;r++){const o=e_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,u=t[s];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=e2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Kc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(jM(o)||NM(o))?o=parseFloat(o):!Z7(o)&&ho.test(n)&&(o=LM(t,n)),this.setBaseTarget(t,$t(o)?o.get():o)),$t(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=BE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!$t(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nT),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class gV extends t2{constructor(){super(...arguments),this.KeyframeResolver=BM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n2(e){return window.getComputedStyle(e)}class r2 extends gV{constructor(){super(...arguments),this.type="html",this.renderInstance=iM}readValueFromInstance(t,n){if(qs.has(n)){const r=aT(n);return r&&r.default||0}else{const r=n2(t),o=(tM(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oV(t,n)}build(t,n,r){KE(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return QE(t,n,r)}}class i2 extends gV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qs.has(n)){const r=aT(n);return r&&r.default||0}return n=oM.has(n)?n:FE(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return uM(t,n,r)}build(t,n,r){HE(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){sM(t,n,r,o)}mount(t){this.isSVGTag=GE(t.tagName),super.mount(t)}}const o2=(e,t)=>$E(e)?new i2(t):new r2(t,{allowProjection:e!==V.Fragment}),s2=PW({...N9,...Q7,...j7,...X7},o2),Gc=W8(s2);function yV({isOpen:e,onClose:t,title:n,children:r}){return e?j.jsx(KL,{children:j.jsx(Gc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:j.jsxs(Gc.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-[var(--bg-primary)] rounded-lg shadow-xl w-full max-w-md",children:[j.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--bg-secondary)]",children:[j.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:n}),j.jsx("button",{onClick:t,className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:j.jsx(oq,{className:"w-5 h-5"})})]}),j.jsx("div",{className:"p-4",children:r})]})})}):null}function a2({selectedServer:e,onSelectServer:t}){var f;const[n,r]=V.useState(!1),[o,s]=V.useState(""),[u]=DE(so.collection("servers").where("members","array-contains",(f=ui.currentUser)==null?void 0:f.uid),{idField:"id"});f_.useEffect(()=>{u!=null&&u.length&&!e&&t(u[0].id)},[u,e,t]);const l=async h=>{if(h.preventDefault(),!(!ui.currentUser||!o.trim()))try{const p=await k8(o,ui.currentUser.uid);t(p),Ic.success("Server created successfully!"),r(!1),s("")}catch{Ic.error("Failed to create server")}};return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"w-[72px] bg-[#1e1f22] h-screen flex flex-col items-center py-3 space-y-2",children:[u==null?void 0:u.map(h=>j.jsx(Gc.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>t(h.id),className:`w-12 h-12 rounded-full bg-[#313338] flex items-center justify-center text-white hover:bg-[#5865f2] transition-colors
              ${e===h.id?"bg-[#5865f2]":""}`,children:h.name[0].toUpperCase()},h.id)),j.jsx("button",{onClick:()=>r(!0),className:"w-12 h-12 rounded-full bg-[#313338] flex items-center justify-center text-[#3ba55c] hover:bg-[#3ba55c] hover:text-white transition-all",children:j.jsx(mP,{className:"w-6 h-6"})})]}),j.jsx(yV,{isOpen:n,onClose:()=>{r(!1),s("")},title:"Create a Server",children:j.jsx("form",{onSubmit:l,children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"serverName",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"SERVER NAME"}),j.jsx("input",{type:"text",id:"serverName",value:o,onChange:h=>s(h.target.value),className:"w-full px-3 py-2 bg-[var(--bg-secondary)] text-[var(--text-primary)] rounded-md focus:outline-none focus:ring-2 focus:ring-[#5865f2]",placeholder:"Enter server name",maxLength:100,required:!0})]}),j.jsx("button",{type:"submit",className:"w-full bg-[#5865f2] text-white py-2 px-4 rounded-md font-medium hover:bg-[#4752c4] transition-colors",children:"Create Server"})]})})})]})}function u2({serverId:e,selectedChannel:t,onSelectChannel:n}){const[r,o]=V.useState(!1),[s,u]=V.useState(""),[l,f]=V.useState("text"),[h]=DE(so.collection("channels").where("serverId","==",e),{idField:"id"});f_.useEffect(()=>{h!=null&&h.length&&!t&&n(h[0].id)},[h,t,n]);const p=async v=>{if(v.preventDefault(),!!s.trim())try{await x8(e,s,l),Ic.success("Channel created successfully!"),o(!1),u(""),f("text")}catch{Ic.error("Failed to create channel")}};return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"w-60 bg-[#2b2d31] h-screen p-3",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsx("h2",{className:"font-semibold text-[var(--text-primary)]",children:"Channels"}),j.jsx("button",{onClick:()=>o(!0),className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:j.jsx(mP,{className:"w-5 h-5"})})]}),j.jsx("div",{className:"space-y-1",children:h==null?void 0:h.map(v=>j.jsxs("button",{onClick:()=>n(v.id),className:`w-full flex items-center space-x-2 px-2 py-1 rounded hover:bg-[#35373c] transition-colors
                ${t===v.id?"bg-[#35373c] text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:[v.type==="text"?j.jsx(JB,{className:"w-5 h-5"}):j.jsx(iq,{className:"w-5 h-5"}),j.jsx("span",{children:v.name})]},v.id))})]}),j.jsx(yV,{isOpen:r,onClose:()=>{o(!1),u(""),f("text")},title:"Create Channel",children:j.jsx("form",{onSubmit:p,children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"channelName",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"CHANNEL NAME"}),j.jsx("input",{type:"text",id:"channelName",value:s,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 bg-[var(--bg-secondary)] text-[var(--text-primary)] rounded-md focus:outline-none focus:ring-2 focus:ring-[#5865f2]",placeholder:"new-channel",maxLength:100,required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"CHANNEL TYPE"}),j.jsxs("div",{className:"space-y-2",children:[j.jsxs("label",{className:"flex items-center space-x-2",children:[j.jsx("input",{type:"radio",value:"text",checked:l==="text",onChange:v=>f(v.target.value),className:"text-[#5865f2] focus:ring-[#5865f2]"}),j.jsx("span",{className:"text-[var(--text-primary)]",children:"Text Channel"})]}),j.jsxs("label",{className:"flex items-center space-x-2",children:[j.jsx("input",{type:"radio",value:"voice",checked:l==="voice",onChange:v=>f(v.target.value),className:"text-[#5865f2] focus:ring-[#5865f2]"}),j.jsx("span",{className:"text-[var(--text-primary)]",children:"Voice Channel"})]})]})]}),j.jsx("button",{type:"submit",className:"w-full bg-[#5865f2] text-white py-2 px-4 rounded-md font-medium hover:bg-[#4752c4] transition-colors",children:"Create Channel"})]})})})]})}function l2({size:e="medium",className:t=""}){const n={small:"h-4 w-4 border-2",medium:"h-8 w-8 border-3",large:"h-12 w-12 border-4"};return j.jsx("div",{className:`flex items-center justify-center ${t}`,children:j.jsx(Gc.div,{className:`${n[e]} rounded-full border-t-[#5865f2] border-r-[#5865f2] border-b-[#5865f2] border-l-[#5865f2]/30`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})})}function c2(e){const t=new Date,n=t.getTime()-e.getTime(),r=Math.floor(n/(1e3*60*60*24));return r===0?"Today at "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r===1?"Yesterday at "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r<7?e.toLocaleDateString([],{weekday:"long"})+" at "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric",year:t.getFullYear()!==e.getFullYear()?"numeric":void 0})+" at "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function f2({channelId:e}){const[t,n]=V.useState(""),[r,o]=V.useState(!1),s=V.useRef(null),u=V.useRef(),l=so.collection("messages"),f=l.where("channelId","==",e).orderBy("createdAt").limit(50),[h,p,v]=DE(f,{idField:"id"}),g=()=>{var I;(I=s.current)==null||I.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{g()},[h]);const w=()=>{r||(o(!0),so.collection("users").doc(ui.currentUser.uid).update({isTyping:!0,typingIn:e})),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{o(!1),so.collection("users").doc(ui.currentUser.uid).update({isTyping:!1,typingIn:null})},1500)},T=async I=>{if(I.preventDefault(),!!t.trim())try{const{uid:A,photoURL:E,displayName:b}=ui.currentUser;await l.add({text:t,createdAt:J.firestore.FieldValue.serverTimestamp(),channelId:e,uid:A,photoURL:E||"https://api.dicebear.com/7.x/avatars/svg?seed="+A,displayName:b||"Anonymous"}),n(""),g()}catch(A){Ic.error("Failed to send message"),console.error("Error sending message:",A)}};return v?j.jsx("div",{className:"flex-1 flex items-center justify-center bg-[var(--bg-primary)] text-[var(--text-secondary)]",children:j.jsxs("div",{className:"text-center",children:[j.jsx("p",{className:"text-red-500 mb-2",children:"Error loading messages"}),j.jsx("p",{className:"text-sm",children:"Please try again later"})]})}):j.jsxs("div",{className:"flex-1 flex flex-col bg-[var(--bg-primary)]",children:[j.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[p?j.jsx("div",{className:"h-full flex items-center justify-center",children:j.jsx(l2,{size:"large"})}):(h==null?void 0:h.length)===0?j.jsx("div",{className:"h-full flex items-center justify-center text-[var(--text-secondary)]",children:j.jsxs("div",{className:"text-center",children:[j.jsx("p",{className:"text-lg mb-2",children:"Welcome to the beginning of this channel!"}),j.jsx("p",{className:"text-sm",children:"Send your first message to get started"})]})}):j.jsx(KL,{children:h==null?void 0:h.map(I=>j.jsx(h2,{message:I},I.id))}),j.jsx("div",{ref:s})]}),j.jsx("form",{onSubmit:T,className:"p-4 bg-[var(--bg-secondary)]",children:j.jsxs("div",{className:"flex items-center space-x-2",children:[j.jsx("button",{type:"button",className:"p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:j.jsx(eq,{className:"w-5 h-5"})}),j.jsxs("div",{className:"flex-1 bg-[var(--bg-primary)] rounded-md flex items-center",children:[j.jsx("input",{value:t,onChange:I=>{n(I.target.value),w()},placeholder:"Send a message...",className:"flex-1 bg-transparent text-[var(--text-primary)] px-4 py-2 focus:outline-none"}),j.jsxs("div",{className:"flex items-center px-2 space-x-2 text-[var(--text-secondary)]",children:[j.jsx("button",{type:"button",className:"p-2 hover:text-[var(--text-primary)]",children:j.jsx(YB,{className:"w-5 h-5"})}),j.jsx("button",{type:"button",className:"p-2 hover:text-[var(--text-primary)]",children:j.jsx(nq,{className:"w-5 h-5"})})]})]}),j.jsx("button",{type:"submit",disabled:!t.trim(),className:"p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] disabled:opacity-50 disabled:cursor-not-allowed",children:j.jsx(tq,{className:"w-5 h-5"})})]})})]})}function h2({message:e}){var l;const{text:t,uid:n,photoURL:r,displayName:o,createdAt:s}=e;(l=ui.currentUser)==null||l.uid;const u=s==null?void 0:s.toDate();return j.jsxs(Gc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-start space-x-3 group hover:bg-[var(--bg-secondary)] p-2 rounded",children:[j.jsx("img",{src:r||`https://api.dicebear.com/7.x/avatars/svg?seed=${n}`,alt:"avatar",className:"w-10 h-10 rounded-full"}),j.jsxs("div",{className:"flex-1",children:[j.jsxs("div",{className:"flex items-baseline space-x-2",children:[j.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:o}),j.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:u?c2(u):"Sending..."})]}),j.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:t})]})]})}function d2(){const[e,t]=Jq(ui),{theme:n,setTheme:r}=A8(),[o,s]=V.useState(null),[u,l]=V.useState(null);return V.useEffect(()=>{e&&I8()},[e]),t?j.jsx("div",{className:"h-screen flex items-center justify-center bg-[#313338]",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-t-[#5865f2]"})}):e?j.jsxs("div",{className:"flex h-screen",children:[j.jsx(Qq,{position:"top-right"}),j.jsx(a2,{selectedServer:o,onSelectServer:s}),o&&j.jsx(u2,{serverId:o,selectedChannel:u,onSelectChannel:l}),j.jsxs("div",{className:"flex-1 flex flex-col",children:[j.jsxs("header",{className:"h-12 bg-[#313338] border-b border-[#1e1f22] flex items-center justify-between px-4",children:[j.jsx("h2",{className:"font-semibold text-white",children:u?"#general":"Select a channel"}),j.jsx("button",{onClick:()=>r(n==="dark"?"light":"dark"),className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-[#2e3035]",children:n==="dark"?j.jsx(rq,{className:"w-5 h-5"}):j.jsx(ZB,{className:"w-5 h-5"})})]}),u?j.jsx(f2,{channelId:u}):j.jsx("div",{className:"flex-1 flex items-center justify-center bg-[#313338] text-gray-400",children:"Select a channel to start chatting"})]})]}):j.jsx(p2,{})}function p2(){const e=async()=>{const t=new J.auth.GoogleAuthProvider;try{await ui.signInWithPopup(t)}catch(n){console.error("Error signing in with Google:",n)}};return j.jsx("div",{className:"h-screen flex items-center justify-center bg-[#313338]",children:j.jsxs("div",{className:"bg-[#2b2d31] p-8 rounded-lg shadow-lg max-w-md w-full mx-4",children:[j.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-6",children:"Welcome to Discord Clone"}),j.jsxs("button",{onClick:e,className:"w-full bg-[#5865f2] text-white py-3 px-4 rounded-md font-medium hover:bg-[#4752c4] transition-colors flex items-center justify-center space-x-2",children:[j.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),j.jsx("span",{children:"Sign in with Google"})]})]})})}pP(document.getElementById("root")).render(j.jsx(V.StrictMode,{children:j.jsx(d2,{})}));
